(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))f(h);new MutationObserver(h=>{for(const E of h)if(E.type==="childList")for(const O of E.addedNodes)O.tagName==="LINK"&&O.rel==="modulepreload"&&f(O)}).observe(document,{childList:!0,subtree:!0});function o(h){const E={};return h.integrity&&(E.integrity=h.integrity),h.referrerPolicy&&(E.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?E.credentials="include":h.crossOrigin==="anonymous"?E.credentials="omit":E.credentials="same-origin",E}function f(h){if(h.ep)return;h.ep=!0;const E=o(h);fetch(h.href,E)}})();function K1(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var Z0={exports:{}},Gc={};var Em;function J1(){if(Em)return Gc;Em=1;var u=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function o(f,h,E){var O=null;if(E!==void 0&&(O=""+E),h.key!==void 0&&(O=""+h.key),"key"in h){E={};for(var U in h)U!=="key"&&(E[U]=h[U])}else E=h;return h=E.ref,{$$typeof:u,type:f,key:O,ref:h!==void 0?h:null,props:E}}return Gc.Fragment=s,Gc.jsx=o,Gc.jsxs=o,Gc}var xm;function $1(){return xm||(xm=1,Z0.exports=J1()),Z0.exports}var w=$1(),K0={exports:{}},_t={};var Tm;function W1(){if(Tm)return _t;Tm=1;var u=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),O=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),N=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),Pe=Symbol.iterator;function ut(G){return G===null||typeof G!="object"?null:(G=Pe&&G[Pe]||G["@@iterator"],typeof G=="function"?G:null)}var et={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ht=Object.assign,qt={};function zt(G,pe,qe){this.props=G,this.context=pe,this.refs=qt,this.updater=qe||et}zt.prototype.isReactComponent={},zt.prototype.setState=function(G,pe){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,pe,"setState")},zt.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function je(){}je.prototype=zt.prototype;function We(G,pe,qe){this.props=G,this.context=pe,this.refs=qt,this.updater=qe||et}var _n=We.prototype=new je;_n.constructor=We,ht(_n,zt.prototype),_n.isPureReactComponent=!0;var hn=Array.isArray;function Mn(){}var bt={H:null,A:null,T:null,S:null},Gn=Object.prototype.hasOwnProperty;function ta(G,pe,qe){var Ke=qe.ref;return{$$typeof:u,type:G,key:pe,ref:Ke!==void 0?Ke:null,props:qe}}function Ea(G,pe){return ta(G.type,pe,G.props)}function na(G){return typeof G=="object"&&G!==null&&G.$$typeof===u}function Tn(G){var pe={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(qe){return pe[qe]})}var xa=/\/+/g;function Gt(G,pe){return typeof G=="object"&&G!==null&&G.key!=null?Tn(""+G.key):pe.toString(36)}function zn(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(Mn,Mn):(G.status="pending",G.then(function(pe){G.status==="pending"&&(G.status="fulfilled",G.value=pe)},function(pe){G.status==="pending"&&(G.status="rejected",G.reason=pe)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function ue(G,pe,qe,Ke,gt){var Tt=typeof G;(Tt==="undefined"||Tt==="boolean")&&(G=null);var jt=!1;if(G===null)jt=!0;else switch(Tt){case"bigint":case"string":case"number":jt=!0;break;case"object":switch(G.$$typeof){case u:case s:jt=!0;break;case $:return jt=G._init,ue(jt(G._payload),pe,qe,Ke,gt)}}if(jt)return gt=gt(G),jt=Ke===""?"."+Gt(G,0):Ke,hn(gt)?(qe="",jt!=null&&(qe=jt.replace(xa,"$&/")+"/"),ue(gt,pe,qe,"",function(Ir){return Ir})):gt!=null&&(na(gt)&&(gt=Ea(gt,qe+(gt.key==null||G&&G.key===gt.key?"":(""+gt.key).replace(xa,"$&/")+"/")+jt)),pe.push(gt)),1;jt=0;var Un=Ke===""?".":Ke+":";if(hn(G))for(var cn=0;cn<G.length;cn++)Ke=G[cn],Tt=Un+Gt(Ke,cn),jt+=ue(Ke,pe,qe,Tt,gt);else if(cn=ut(G),typeof cn=="function")for(G=cn.call(G),cn=0;!(Ke=G.next()).done;)Ke=Ke.value,Tt=Un+Gt(Ke,cn++),jt+=ue(Ke,pe,qe,Tt,gt);else if(Tt==="object"){if(typeof G.then=="function")return ue(zn(G),pe,qe,Ke,gt);throw pe=String(G),Error("Objects are not valid as a React child (found: "+(pe==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":pe)+"). If you meant to render a collection of children, use an array instead.")}return jt}function ke(G,pe,qe){if(G==null)return G;var Ke=[],gt=0;return ue(G,Ke,"","",function(Tt){return pe.call(qe,Tt,gt++)}),Ke}function ct(G){if(G._status===-1){var pe=G._result;pe=pe(),pe.then(function(qe){(G._status===0||G._status===-1)&&(G._status=1,G._result=qe)},function(qe){(G._status===0||G._status===-1)&&(G._status=2,G._result=qe)}),G._status===-1&&(G._status=0,G._result=pe)}if(G._status===1)return G._result.default;throw G._result}var Bt=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var pe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(pe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},Lt={map:ke,forEach:function(G,pe,qe){ke(G,function(){pe.apply(this,arguments)},qe)},count:function(G){var pe=0;return ke(G,function(){pe++}),pe},toArray:function(G){return ke(G,function(pe){return pe})||[]},only:function(G){if(!na(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return _t.Activity=I,_t.Children=Lt,_t.Component=zt,_t.Fragment=o,_t.Profiler=h,_t.PureComponent=We,_t.StrictMode=f,_t.Suspense=q,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=bt,_t.__COMPILER_RUNTIME={__proto__:null,c:function(G){return bt.H.useMemoCache(G)}},_t.cache=function(G){return function(){return G.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(G,pe,qe){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var Ke=ht({},G.props),gt=G.key;if(pe!=null)for(Tt in pe.key!==void 0&&(gt=""+pe.key),pe)!Gn.call(pe,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&pe.ref===void 0||(Ke[Tt]=pe[Tt]);var Tt=arguments.length-2;if(Tt===1)Ke.children=qe;else if(1<Tt){for(var jt=Array(Tt),Un=0;Un<Tt;Un++)jt[Un]=arguments[Un+2];Ke.children=jt}return ta(G.type,gt,Ke)},_t.createContext=function(G){return G={$$typeof:O,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:E,_context:G},G},_t.createElement=function(G,pe,qe){var Ke,gt={},Tt=null;if(pe!=null)for(Ke in pe.key!==void 0&&(Tt=""+pe.key),pe)Gn.call(pe,Ke)&&Ke!=="key"&&Ke!=="__self"&&Ke!=="__source"&&(gt[Ke]=pe[Ke]);var jt=arguments.length-2;if(jt===1)gt.children=qe;else if(1<jt){for(var Un=Array(jt),cn=0;cn<jt;cn++)Un[cn]=arguments[cn+2];gt.children=Un}if(G&&G.defaultProps)for(Ke in jt=G.defaultProps,jt)gt[Ke]===void 0&&(gt[Ke]=jt[Ke]);return ta(G,Tt,gt)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(G){return{$$typeof:U,render:G}},_t.isValidElement=na,_t.lazy=function(G){return{$$typeof:$,_payload:{_status:-1,_result:G},_init:ct}},_t.memo=function(G,pe){return{$$typeof:N,type:G,compare:pe===void 0?null:pe}},_t.startTransition=function(G){var pe=bt.T,qe={};bt.T=qe;try{var Ke=G(),gt=bt.S;gt!==null&&gt(qe,Ke),typeof Ke=="object"&&Ke!==null&&typeof Ke.then=="function"&&Ke.then(Mn,Bt)}catch(Tt){Bt(Tt)}finally{pe!==null&&qe.types!==null&&(pe.types=qe.types),bt.T=pe}},_t.unstable_useCacheRefresh=function(){return bt.H.useCacheRefresh()},_t.use=function(G){return bt.H.use(G)},_t.useActionState=function(G,pe,qe){return bt.H.useActionState(G,pe,qe)},_t.useCallback=function(G,pe){return bt.H.useCallback(G,pe)},_t.useContext=function(G){return bt.H.useContext(G)},_t.useDebugValue=function(){},_t.useDeferredValue=function(G,pe){return bt.H.useDeferredValue(G,pe)},_t.useEffect=function(G,pe){return bt.H.useEffect(G,pe)},_t.useEffectEvent=function(G){return bt.H.useEffectEvent(G)},_t.useId=function(){return bt.H.useId()},_t.useImperativeHandle=function(G,pe,qe){return bt.H.useImperativeHandle(G,pe,qe)},_t.useInsertionEffect=function(G,pe){return bt.H.useInsertionEffect(G,pe)},_t.useLayoutEffect=function(G,pe){return bt.H.useLayoutEffect(G,pe)},_t.useMemo=function(G,pe){return bt.H.useMemo(G,pe)},_t.useOptimistic=function(G,pe){return bt.H.useOptimistic(G,pe)},_t.useReducer=function(G,pe,qe){return bt.H.useReducer(G,pe,qe)},_t.useRef=function(G){return bt.H.useRef(G)},_t.useState=function(G){return bt.H.useState(G)},_t.useSyncExternalStore=function(G,pe,qe){return bt.H.useSyncExternalStore(G,pe,qe)},_t.useTransition=function(){return bt.H.useTransition()},_t.version="19.2.3",_t}var Am;function uh(){return Am||(Am=1,K0.exports=W1()),K0.exports}var P=uh();const I1={closeMillis:5e3,closingMillis:300,dwellMillis:100},P1=P.createContext(null);function ed(){const u=P.useContext(P1),s=P.useRef(I1),o=P.useMemo(()=>({settingsRef:s}),[]);return u||o}function Fu({children:u,title:s}){const o=P.useRef(null),f=P.useRef(null),[h,E]=P.useState(!1),[O,U]=P.useState(null),q=P.useRef(0),{settingsRef:N}=ed();return P.useEffect(()=>{if(!o.current||!O)return;O.ariaDescription=s;const $=new AbortController,I=()=>{q.current!==0&&requestAnimationFrame(()=>{if(!o.current)return;const ht=O.getBoundingClientRect();o.current.style.top=`${ht.bottom}px`,o.current.style.left=`${ht.left+ht.width/2}px`})},Pe=()=>{q.current!==0&&(q.current=3,E(!0),f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{q.current=0,E(!1),f.current&&clearTimeout(f.current),f.current=null,o.current?.hidePopover()},N.current.closingMillis))};O.addEventListener("mouseenter",()=>{q.current=1,f.current&&clearTimeout(f.current),N.current.closeMillis&&(f.current=setTimeout(Pe,N.current.closeMillis)),I(),E(!1),o.current?.showPopover()},{signal:$.signal}),O.addEventListener("mouseleave",()=>{q.current=2,f.current&&clearTimeout(f.current),f.current=setTimeout(Pe,N.current.dwellMillis)},{signal:$.signal});let ut=O;for(;ut!==null;){if(ut===document.body||getComputedStyle(ut).overflow!=="visible"){ut.addEventListener("scroll",I,{signal:$.signal});const ht=new IntersectionObserver(qt=>{qt.some(zt=>!zt.isIntersecting)&&Pe()},{root:ut});ht.observe(O),ht.observe(o.current),$.signal.addEventListener("abort",()=>ht.disconnect());break}ut=ut.parentElement}const et=new ResizeObserver(I);return et.observe(document.documentElement),$.signal.addEventListener("abort",()=>et.disconnect()),()=>$.abort()},[s,O]),P.useLayoutEffect(()=>{if(!o.current)return;let $=null;const I=()=>{if(!o.current)return;const et=o.current.previousElementSibling;$!==et&&(U(et),$=et)},Pe=new MutationObserver(I),ut=o.current.parentNode;if(ut)return Pe.observe(ut,{childList:!0,subtree:!1}),I(),()=>Pe.disconnect()},[]),w.jsxs(w.Fragment,{children:[u,w.jsx("p",{popover:"hint",ref:o,className:`p-1 bg-background starting:opacity-0 starting:scale-95 starting:translate-y-4 transition-[opacity,scale,translate] duration-200 ease-in border-3 border-accent/50 text-xs -translate-x-1/2 text-right w-max ${h?"opacity-0 scale-95 translate-y-4":""}`,children:s})]})}function Xn({children:u,type:s="button",label:o,title:f,...h}){return w.jsx(Fu,{title:f??o,children:w.jsxs("button",{type:s,...h,children:[u,w.jsx("span",{children:o})]})})}var J0={exports:{}},ea={};var Om;function td(){if(Om)return ea;Om=1;var u=uh();function s(q){var N="https://react.dev/errors/"+q;if(1<arguments.length){N+="?args[]="+encodeURIComponent(arguments[1]);for(var $=2;$<arguments.length;$++)N+="&args[]="+encodeURIComponent(arguments[$])}return"Minified React error #"+q+"; visit "+N+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var f={d:{f:o,r:function(){throw Error(s(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},h=Symbol.for("react.portal");function E(q,N,$){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:I==null?null:""+I,children:q,containerInfo:N,implementation:$}}var O=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function U(q,N){if(q==="font")return"";if(typeof N=="string")return N==="use-credentials"?N:""}return ea.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=f,ea.createPortal=function(q,N){var $=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!N||N.nodeType!==1&&N.nodeType!==9&&N.nodeType!==11)throw Error(s(299));return E(q,N,null,$)},ea.flushSync=function(q){var N=O.T,$=f.p;try{if(O.T=null,f.p=2,q)return q()}finally{O.T=N,f.p=$,f.d.f()}},ea.preconnect=function(q,N){typeof q=="string"&&(N?(N=N.crossOrigin,N=typeof N=="string"?N==="use-credentials"?N:"":void 0):N=null,f.d.C(q,N))},ea.prefetchDNS=function(q){typeof q=="string"&&f.d.D(q)},ea.preinit=function(q,N){if(typeof q=="string"&&N&&typeof N.as=="string"){var $=N.as,I=U($,N.crossOrigin),Pe=typeof N.integrity=="string"?N.integrity:void 0,ut=typeof N.fetchPriority=="string"?N.fetchPriority:void 0;$==="style"?f.d.S(q,typeof N.precedence=="string"?N.precedence:void 0,{crossOrigin:I,integrity:Pe,fetchPriority:ut}):$==="script"&&f.d.X(q,{crossOrigin:I,integrity:Pe,fetchPriority:ut,nonce:typeof N.nonce=="string"?N.nonce:void 0})}},ea.preinitModule=function(q,N){if(typeof q=="string")if(typeof N=="object"&&N!==null){if(N.as==null||N.as==="script"){var $=U(N.as,N.crossOrigin);f.d.M(q,{crossOrigin:$,integrity:typeof N.integrity=="string"?N.integrity:void 0,nonce:typeof N.nonce=="string"?N.nonce:void 0})}}else N==null&&f.d.M(q)},ea.preload=function(q,N){if(typeof q=="string"&&typeof N=="object"&&N!==null&&typeof N.as=="string"){var $=N.as,I=U($,N.crossOrigin);f.d.L(q,$,{crossOrigin:I,integrity:typeof N.integrity=="string"?N.integrity:void 0,nonce:typeof N.nonce=="string"?N.nonce:void 0,type:typeof N.type=="string"?N.type:void 0,fetchPriority:typeof N.fetchPriority=="string"?N.fetchPriority:void 0,referrerPolicy:typeof N.referrerPolicy=="string"?N.referrerPolicy:void 0,imageSrcSet:typeof N.imageSrcSet=="string"?N.imageSrcSet:void 0,imageSizes:typeof N.imageSizes=="string"?N.imageSizes:void 0,media:typeof N.media=="string"?N.media:void 0})}},ea.preloadModule=function(q,N){if(typeof q=="string")if(N){var $=U(N.as,N.crossOrigin);f.d.m(q,{as:typeof N.as=="string"&&N.as!=="script"?N.as:void 0,crossOrigin:$,integrity:typeof N.integrity=="string"?N.integrity:void 0})}else f.d.m(q)},ea.requestFormReset=function(q){f.d.r(q)},ea.unstable_batchedUpdates=function(q,N){return q(N)},ea.useFormState=function(q,N,$){return O.H.useFormState(q,N,$)},ea.useFormStatus=function(){return O.H.useHostTransitionStatus()},ea.version="19.2.3",ea}var Cm;function jm(){if(Cm)return J0.exports;Cm=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(s){console.error(s)}}return u(),J0.exports=td(),J0.exports}var Um=jm();const Hm=P.createContext(null);function wo({children:u,closingMillis:s=300}){const[o,f]=P.useState(0),h=P.useRef(null),E=P.useRef(null),O=P.useRef(o);P.useEffect(()=>{O.current=o,E.current?.setAttribute("is-open",String(o===1))},[o]);const U=P.useCallback(()=>{O.current===1&&(f(2),setTimeout(()=>f(0),s))},[s]),q=P.useCallback(()=>{O.current===0&&f(1)},[]),N=P.useCallback(()=>{O.current===1?(f(2),setTimeout(()=>f(0),s)):O.current===0&&f(1)},[s]),$=P.useMemo(()=>({triggerRef:E,state:o,stateRef:O,menuRef:h,setClosed:U,setOpen:q,toggleOpen:N}),[o,U,q,N]);return w.jsx(Hm,{value:$,children:u})}function ih(){const u=P.useContext(Hm);if(u===null)throw new Error("useMenu must be used underneath a Menu component");return u}function Lo({children:u}){const{toggleOpen:s,triggerRef:o}=ih();return P.useEffect(()=>{const f=new AbortController;return o.current?.addEventListener("click",s,{signal:f.signal}),()=>f.abort()},[s]),w.jsx("span",{ref:o,children:u})}function Ro({children:u}){const{setClosed:s}=ih(),o=P.useRef(null);return P.useEffect(()=>{if(!o.current)return;const f=new AbortController;return o.current.addEventListener("click",s,{signal:f.signal}),()=>f.abort()},[s]),w.jsx("span",{ref:o,children:u})}function No({children:u,className:s="starting:opacity-0 starting:scale-95 starting:-translate-y-[25dvh] origin-center duration-200 ease-in transition-[opacity,scale,translate] mx-4 mb-4 overflow-y-auto",classNameClosing:o="scale-95 opacity-0 translate-y-[25dvh]",width:f="full"}){const{state:h,menuRef:E,triggerRef:O,setClosed:U}=ih(),q=P.useRef(null);return P.useLayoutEffect(()=>{const N=()=>{if(!E.current)return;const I=O.current?.getBoundingClientRect();I&&(E.current.style.top=`calc(${I.bottom}px + 1em)`,E.current.style.maxHeight=`calc(100dvh - ${I.bottom}px - 2em)`,f==="auto"&&(E.current.style.left=`${I.right}px`))},$=new ResizeObserver(N);return $.observe(document.documentElement),N(),()=>$.disconnect()},[f]),P.useEffect(()=>{h===1&&q.current?.showPopover(),h===0&&q.current?.hidePopover(),q.current?.setAttribute("is-open",String(h===1))},[h]),P.useEffect(()=>{q.current?.addEventListener("click",N=>{N.target===q.current&&U()})},[U]),Um.createPortal(w.jsx("div",{popover:"manual",ref:q,className:`size-full transition-[background] duration-200 starting:bg-transparent ${h===1?"bg-background/50":h===2?"bg-transparent":"hidden"}`,children:w.jsx("menu",{className:`fixed ${f==="full"?"left-0 right-0":"-translate-x-full"} ${s} ${h===2?o:""}`,ref:E,children:u})}),document.body.querySelector("#menus")??document.body)}function Mo({label:u,value:s,onValueChange:o,title:f,disabled:h=!1}){const E=P.useId(),O=P.useCallback(U=>o(U.target.checked),[o]);return w.jsx(Fu,{title:f,children:w.jsxs("span",{className:"input-group",children:[w.jsx("label",{htmlFor:E,children:u}),w.jsx("input",{id:E,type:"checkbox",onChange:O,checked:s,disabled:h})]})})}function Va({label:u,value:s,onValueChange:o,min:f=0,max:h=1,step:E=.1,decimals:O=1,unit:U="",title:q,disabled:N}){const $=P.useId(),I=P.useCallback(Pe=>o(Pe.target.valueAsNumber),[o]);return w.jsx(Fu,{title:q,children:w.jsxs("span",{className:"input-group",children:[w.jsx("label",{htmlFor:$,children:u}),w.jsx("input",{id:$,type:"range",min:f,max:h,step:E,onChange:I,value:s,disabled:N}),w.jsx("span",{children:`${s.toFixed(O)}${U}`})]})})}function Rm({onValueChange:u,options:s,value:o,type:f,title:h,label:E}){const O=P.useId(),U=P.useRef(null),q=P.useCallback($=>{if(f==="string")return u($.target.value);if(f==="number")return u(Number($.target.value));throw new Error(`unhandled type ${f}`)},[f,u]),N=P.useCallback($=>{U.current?.contains($.target)||U.current?.showPicker()},[]);return w.jsx(Fu,{title:h,children:w.jsxs("span",{className:"input-group",onClick:N,children:[w.jsx("label",{htmlFor:O,children:E}),w.jsx("select",{id:O,value:o,onChange:q,ref:U,children:s.map(({key:$,label:I})=>w.jsx("option",{value:$,children:I},$))})]})})}function nd(u){return w.jsx("svg",{"aria-hidden":"true",fill:"currentColor",stroke:"currentColor",strokeLinecap:"square",strokeWidth:"1",viewBox:"0 0 24 24",...u,children:w.jsx("path",{d:"M9 3H7v2H2v16h20V5h-5V3H9zm8 4h3v12H4V7h5V5h6v2h2zm-7 2h4v2h-4V9zm4 6h-4v2h4v-2h2v-4h-2v4zm-6-4h2v4H8v-4z"})})}function ad(u){return w.jsx("svg",{"aria-hidden":"true",fill:"currentColor",stroke:"currentColor",strokeLinecap:"square",strokeWidth:"1",viewBox:"0 0 24 24",...u,children:w.jsx("path",{d:"M4 4H2v16h20V4H4zm0 2h16v12H4V6zm2 2h12v2H6V8zm0 4h10v2H6v-2z"})})}function ld(u){return w.jsx("svg",{"aria-hidden":"true",fill:"currentColor",stroke:"currentColor",strokeLinecap:"square",strokeWidth:"1",viewBox:"0 0 24 24",...u,children:w.jsx("path",{d:"M2 2h2v2H2V2zm4 4H4V4h2v2zm2 2H6V6h2v2zm2 2V8H8v2h2zm4 0h-4v4H2v8h8v-8h4v8h8v-8h-8v-4zm2-2v2h-2V8h2zm2-2v2h-2V6h2zm2-2h-2v2h2V4zm0 0V2h2v2h-2zM4 20v-4h4v4H4zm12 0v-4h4v4h-4z"})})}function rd(u){return w.jsx("svg",{"aria-hidden":"true",fill:"currentColor",stroke:"currentColor",strokeLinecap:"square",strokeWidth:"1",viewBox:"0 0 24 24",...u,children:w.jsx("path",{d:"M5 3H3v18h18V3H5zm14 2v14H5V5h14zM9 7H7v2h2V7zm6 0h2v2h-2V7zm-6 8H7v2h2v-2zm6 0h2v2h-2v-2zm-2-4h-2v2h2v-2z"})})}function ud(u){return w.jsx("svg",{"aria-hidden":"true",fill:"currentColor",stroke:"currentColor",strokeLinecap:"square",strokeWidth:"1",viewBox:"0 0 24 24",...u,children:w.jsx("path",{d:"M5 3H3v2h2V3zm14 4h2v6h-2V9H9v10h4v2H7V7h12zM7 3h2v2H7V3zM5 7H3v2h2V7zm-2 4h2v2H3v-2zm2 4H3v2h2v-2zm6-12h2v2h-2V3zm6 0h-2v2h2V3zm-2 14v-2h6v2h-2v2h-2v2h-2v-4zm4 2v2h2v-2h-2z"})})}function id(u){return w.jsx("svg",{"aria-hidden":"true",fill:"currentColor",stroke:"currentColor",strokeLinecap:"square",strokeWidth:"1",viewBox:"0 0 24 24",...u,children:w.jsx("path",{d:"M4 6h16v2H4V6zm0 5h16v2H4v-2zm16 5H4v2h16v-2z"})})}function fd(u){return w.jsx("svg",{"aria-hidden":"true",fill:"currentColor",stroke:"currentColor",strokeLinecap:"square",strokeWidth:"1",viewBox:"0 0 24 24",...u,children:w.jsx("path",{d:"M6 4h2v2h2v2h2v2h2v4h-2v2h-2v2H8v2H6V4zm12 0h-2v16h2V4z"})})}function cd(u){return w.jsx("svg",{"aria-hidden":"true",fill:"currentColor",stroke:"currentColor",strokeLinecap:"square",strokeWidth:"1",viewBox:"0 0 24 24",...u,children:w.jsx("path",{d:"M10 4H5v16h5V4zm9 0h-5v16h5V4z"})})}function sd(u){return w.jsx("svg",{"aria-hidden":"true",fill:"currentColor",stroke:"currentColor",strokeLinecap:"square",strokeWidth:"1",viewBox:"0 0 24 24",...u,children:w.jsx("path",{d:"M10 20H8V4h2v2h2v3h2v2h2v2h-2v2h-2v3h-2v2z"})})}function od(u){return w.jsx("svg",{"aria-hidden":"true",fill:"currentColor",stroke:"currentColor",strokeLinecap:"square",strokeWidth:"1",viewBox:"0 0 24 24",...u,children:w.jsx("path",{d:"M17 4h2v10h-2V4zm0 12h-2v2h2v2h2v-2h2v-2h-4zm-4-6h-2v10h2V10zm-8 2H3v2h2v6h2v-6h2v-2H5zm8-8h-2v2H9v2h6V6h-2V4zM5 4h2v6H5V4z"})})}function hd(u){return w.jsx("svg",{"aria-hidden":"true",fill:"currentColor",stroke:"currentColor",strokeLinecap:"square",strokeWidth:"1",viewBox:"0 0 24 24",...u,children:w.jsx("path",{d:"M16 2v4h6v2h-2v14H4V8H2V6h6V2h8zm-2 2h-4v2h4V4zm0 4H6v12h12V8h-4zm-5 2h2v8H9v-8zm6 0h-2v8h2v-8z"})})}function P0(u){return w.jsx("svg",{"aria-hidden":"true",fill:"currentColor",stroke:"currentColor",strokeLinecap:"square",strokeWidth:"1",viewBox:"0 0 24 24",...u,children:w.jsx("path",{d:"M8 4h2v2H8V4zm10 6V8H8V6H6v2H4v2h2v2h2v2h2v-2H8v-2h10zm0 8v-8h2v8h-2zm0 0v2h-6v-2h6z"})})}function md(u){return w.jsx("svg",{"aria-hidden":"true",fill:"currentColor",stroke:"currentColor",strokeLinecap:"square",strokeWidth:"1",viewBox:"0 0 24 24",...u,children:w.jsx("path",{d:"M12 2h6v2h-6v6h-2V4h2V2zm0 8h6v2h-6v-2zm8-6h-2v6h2V4zM9 16H7v6h16v-6h-2v4H9v-4h12v-2H9v2zm-2-6H1v2h6v-2z"})})}function dd(u){return w.jsx("svg",{"aria-hidden":"true",fill:"currentColor",stroke:"currentColor",strokeLinecap:"square",strokeWidth:"1",viewBox:"0 0 24 24",...u,children:w.jsx("path",{d:"M18 2h-6v2h-2v6h2V4h6V2zm0 8h-6v2h6v-2zm0-6h2v6h-2V4zM7 16h2v-2h12v2H9v4h12v-4h2v6H7v-6zM3 8h2v2h2v2H5v2H3v-2H1v-2h2V8z"})})}function vd(u){return w.jsx("svg",{"aria-hidden":"true",fill:"currentColor",stroke:"currentColor",strokeLinecap:"square",strokeWidth:"1",viewBox:"0 0 24 24",...u,children:w.jsx("path",{d:"M10 2H8v4h2V4h4v2h2V2h-6zM8 20v-2h2v2h4v-2h2v4H8v-2zm9-9h5v2h-5v2h-2v-2h-2v-2h2V9h2v2zm0-2V7h2v2h-2zm0 6h2v2h-2v-2zM2 11h5V9h2v2h2v2H9v2H7v-2H2v-2zm5 4v2H5v-2h2zm0-6V7H5v2h2z"})})}function yd(u){return w.jsx("svg",{"aria-hidden":"true",fill:"currentColor",stroke:"currentColor",strokeLinecap:"square",strokeWidth:"1",viewBox:"0 0 24 24",...u,children:w.jsx("path",{d:"M4 2H2v4h2V4h16v2h2V2H4zM2 20v-2h2v2h16v-2h2v4H2v-2zm16-9h-5v2h5v2h-2v2h2v-2h2v-2h2v-2h-2V9h-2V7h-2v2h2v2zm-7 0H6V9h2V7H6v2H4v2H2v2h2v2h2v2h2v-2H6v-2h5v-2z"})})}function bd(u){return w.jsx("svg",{"aria-hidden":"true",fill:"currentColor",stroke:"currentColor",strokeLinecap:"square",strokeWidth:"1",viewBox:"0 0 24 24",...u,children:w.jsx("path",{d:"M12 1h2v8h8v4h-2v-2h-8V5h-2V3h2V1zM8 7V5h2v2H8zM6 9V7h2v2H6zm-2 2V9h2v2H4zm10 8v2h-2v2h-2v-8H2v-4h2v2h8v6h2zm2-2v2h-2v-2h2zm2-2v2h-2v-2h2zm0 0h2v-2h-2v2z"})})}const eh={blurRadius:5,blurStep:2,colourMix:75,blur0Mix:70,blur1Mix:100,blur2Mix:50,background:!0,bloom:!0,blurFalloff:3},Vm=P.createContext(null);function pd(){const u=localStorage.getItem("render");return u?JSON.parse(u):null}function gd(u){localStorage.setItem("render",JSON.stringify(u))}function _d({children:u}){const[s,o]=P.useState({...eh,...pd()}),f=P.useRef(s);P.useEffect(()=>{f.current=s,gd(s)},[s]);const h=P.useMemo(()=>({controls:s,setControls:o,controlsRef:f}),[s]);return w.jsx(Vm,{value:h,children:u})}function km(){const u=P.useContext(Vm);if(u===null)throw new Error("useRenderControls must be used undernath a RenderControlsProvider");return u}var qm=(u=>(u[u.Dark=0]="Dark",u[u.Light=1]="Light",u[u.Auto=2]="Auto",u))(qm||{});const Xm=["red","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","purple","fuchsia","pink","rose","slate","gray","zinc","neutral","stone"],th={colour:"indigo",hue:250,preference:0},Ym=P.createContext(null);function Sd(){const u=localStorage.getItem("theme");return u?JSON.parse(u):null}function Ed(u){localStorage.setItem("theme",JSON.stringify(u))}function xd({children:u}){const[s,o]=P.useState({...th,...Sd()}),[f,h]=P.useState(!0),E=P.useRef(s),O=P.useRef(f);P.useLayoutEffect(()=>{const q=window.matchMedia("(prefers-color-scheme: dark)"),N=new AbortController,$=()=>{const I=s.preference===2&&q.matches||s.preference===0;console.debug("ThemeProvider",{preference:s.preference,matches:q.matches,nextDark:I}),I!==O.current&&(h(I),O.current=I);const[Pe,ut]=I?["scheme-only-light","scheme-only-dark"]:["scheme-only-dark","scheme-only-light"];document.body.classList.remove(Pe),document.body.classList.add(ut)};return q.addEventListener("change",$,{signal:N.signal}),$(),()=>N.abort()},[s.preference]),P.useLayoutEffect(()=>{console.debug("ThemeProvider",{colour:s.colour}),document.body.classList.remove(...Xm.filter(q=>q!==s.colour)),document.body.classList.add(s.colour)},[s.colour]),P.useEffect(()=>{E.current=s,Ed(s)},[s]);const U=P.useMemo(()=>({setTheme:o,theme:s,themeDark:f,themeDarkRef:O,themeRef:E}),[s,f]);return w.jsx(Ym,{value:U,children:u})}function Fm(){const u=P.useContext(Ym);if(u===null)throw new Error("useTheme must be used underneath a ThemeProvider");return u}function nh(u,s){return Object.fromEntries(Object.entries(u).filter(([o])=>!s.includes(o)))}function zo(u,s){for(const o of new Set([...Object.keys(u),...Object.keys(s)])){if(!Object.hasOwn(u,o)||!Object.hasOwn(s,o)||typeof u[o]!=typeof s[o])return!1;if(typeof u[o]=="object"){if(u[o]===null&&s[o]===null)continue;if(u[o]===null||s[o]===null||!zo(u[o],s[o]))return!1}else if(u[o]!==s[o])return!1}return!0}function fh(u){return u.map(([s,o],f,h)=>{const E=h[f-1];return E?`m${s-E[0]},${o-E[1]}h0`:`M${s},${o}h0`}).join("")}function Td(u){return Object.entries(u).filter(([s])=>Number.isNaN(Number(s)))}function Ad(){const{controls:u,setControls:s}=km(),{theme:o,setTheme:f}=Fm(),h=P.useCallback(je=>s(We=>({...We,bloom:je})),[s]),E=P.useCallback(je=>s(We=>({...We,blurRadius:je})),[s]),O=P.useCallback(je=>s(We=>({...We,blurStep:je})),[s]),U=P.useCallback(je=>s(We=>({...We,blurFalloff:je})),[s]),q=P.useCallback(je=>s(We=>({...We,colourMix:je})),[s]),N=P.useCallback(je=>s(We=>({...We,blur0Mix:je})),[s]),$=P.useCallback(je=>s(We=>({...We,blur1Mix:je})),[s]),I=P.useCallback(je=>s(We=>({...We,blur2Mix:je})),[s]),Pe=P.useCallback(je=>s(We=>({...We,background:je})),[s]),ut=P.useCallback(()=>s(eh),[s]),et=P.useCallback(je=>f(We=>({...We,colour:je})),[f]),ht=P.useCallback(je=>f(We=>({...We,hue:je})),[f]),qt=P.useCallback(je=>f(We=>({...We,preference:je})),[f]),zt=P.useCallback(()=>f(th),[f]);return w.jsxs(wo,{children:[w.jsx(Lo,{children:w.jsx(Xn,{title:"Graphics settings",label:"GFX",children:w.jsx(od,{})})}),w.jsx(No,{children:w.jsxs("div",{className:"flex flex-wrap gap-4 p-4",children:[w.jsxs("div",{className:"control-group w-full",children:[w.jsx(Mo,{label:"Bloom",title:"Bloom effect",onValueChange:h,value:u.bloom}),w.jsx(Va,{label:"Radius",title:"Blur radius",onValueChange:E,value:u.blurRadius,decimals:0,min:0,max:16,step:1,unit:"x",disabled:!u.bloom}),w.jsx(Va,{label:"Step",title:"Blur step",onValueChange:O,value:u.blurStep,decimals:0,min:1,max:64,step:1,unit:"px",disabled:!u.bloom}),w.jsx(Va,{label:"Falloff",title:"Blur falloff",onValueChange:U,value:u.blurFalloff,decimals:0,min:1,max:8,step:.5,unit:"",disabled:!u.bloom}),w.jsx(Va,{label:"Colour",title:"Colour mix",onValueChange:q,value:u.colourMix,decimals:0,min:0,max:100,step:1,unit:"%",disabled:!u.bloom}),w.jsx(Va,{label:"Blur0",title:"Blur0 mix",onValueChange:N,value:u.blur0Mix,decimals:0,min:0,max:100,step:1,unit:"%",disabled:!u.bloom}),w.jsx(Va,{label:"Blur1",title:"Blur1 mix",onValueChange:$,value:u.blur1Mix,decimals:0,min:0,max:100,step:1,unit:"%",disabled:!u.bloom}),w.jsx(Va,{label:"Blur2",title:"Blur2 mix",onValueChange:I,value:u.blur2Mix,decimals:0,min:0,max:100,step:1,unit:"%",disabled:!u.bloom}),w.jsx(Mo,{label:"Background",title:"Render opaque background",onValueChange:Pe,value:u.background,disabled:!u.bloom}),w.jsx(Xn,{type:"reset",onClick:ut,disabled:zo(eh,u),title:"Reset controls",label:"Reset",children:w.jsx(P0,{})})]}),w.jsxs("div",{className:"control-group w-full",children:[w.jsx(Rm,{label:"Colour",onValueChange:et,options:Xm.map(je=>({key:je,label:`${je[0].toLocaleUpperCase()}${je.slice(1)}`})),title:"Select theme colour",type:"string",value:o.colour}),w.jsx(Rm,{label:"Scheme",title:"Colour scheme preference",value:o.preference,onValueChange:qt,type:"number",options:Td(qm).map(([je,We])=>({key:We,label:je}))}),w.jsx(Va,{min:0,max:359,step:0,decimals:0,label:"Hue",title:"Hue offset",value:o.hue,unit:"Â°",onValueChange:ht}),w.jsx(Xn,{type:"reset",onClick:zt,disabled:zo(th,o),title:"Reset controls",label:"Reset",children:w.jsx(P0,{})})]})]})})]})}const Od=Array.from({length:9},(u,s)=>s);function Mm(){const u=1+Math.round(Math.random()*2),s=new Set;for(;s.size<u;)s.add(1+Math.round(Math.random()*7));return[...s].toSorted()}function Cd({number:u,value:s,onValueChange:o}){const f=P.useId(),h=P.useCallback(E=>o(E.target.checked?[...s,u]:s.filter(O=>O!==u)),[o,u,s]);return w.jsxs("span",{className:"flex gap-2 items-center",children:[w.jsx("label",{htmlFor:f,children:u}),w.jsx("input",{id:f,type:"checkbox",onChange:h,checked:s.includes(u)})]})}function zm({label:u,value:s,onValueChange:o,title:f}){const h=P.useId();return w.jsx(Fu,{title:f,children:w.jsxs("section",{className:"input-group",children:[w.jsx("label",{htmlFor:h,children:u}),w.jsx("span",{id:h,className:"grid grid-rows-2 grid-cols-5 *:first:row-span-2 gap-x-4 gap-y-2",children:Od.map(E=>w.jsx(Cd,{number:E,onValueChange:o,value:s},E))})]})})}function Rd({values:u,onValueChange:s}){const o=P.useCallback(E=>s({...u,born:E}),[s,u]),f=P.useCallback(E=>s({...u,survive:E}),[s,u]),h=P.useCallback(()=>{s({born:Mm(),survive:Mm()})},[s]);return w.jsxs("div",{className:"control-group",children:[w.jsx(zm,{label:"Born",onValueChange:o,title:"Cell is born when this many live neighbours",value:u.born}),w.jsx(zm,{label:"Survive",onValueChange:f,title:"Cell survives when this many live neighbours",value:u.survive}),w.jsxs("div",{className:"flex gap-4 items-center",children:[w.jsx("span",{children:`B${u.born.toSorted().join("")}/S${u.survive.toSorted().join("")}`}),w.jsx(Xn,{title:"Randomise",onClick:h,label:"Rand",children:w.jsx(rd,{})})]})]})}class Md{#e=new Map;emit(s){for(const o of this.#e.get(s)??[])o()}subscribe(s,o){return this.#e.get(s)?.add(o)||this.#e.set(s,new Set([o])),()=>{this.#e.get(s)?.delete(o)}}}const Qm={born:[3],survive:[2,3]},Do={chance:1.6,radius:15};var ah=(u=>(u[u.Oldest=0]="Oldest",u[u.Youngest=1]="Youngest",u))(ah||{});class zd{#e;#n;#t;#a;#r=0;#f=0;#c=0;#u={...Do};#s=0;#o;#i=!1;constructor(s,o,f=Qm,h=Do,E=!0){this.#e=s,this.#n=o,this.#t=new Uint16Array(s*o),this.#a=new Uint16Array(s*o),this.spawn=h,this.rules=f,this.#o=E}get width(){return this.#e}get height(){return this.#n}get size(){return this.#e*this.#n}get steps(){return this.#r}get alive(){return this.#s}get wrap(){return this.#o}get spawn(){return{...this.#u}}get dirty(){return this.#i}set rules({born:s,survive:o}){this.#f=s.reduce((f,h)=>f|1<<h,0),this.#c=o.reduce((f,h)=>f|1<<h,0)}set spawn(s){this.#u={...s}}set wrap(s){this.#o=s}#h(s){const o=Math.floor(s/this.#e);return[s-o*this.#e,o]}#l(s,o){return!this.#o&&(s<0||s>=this.#e||o<0||o>=this.height)?-1:(o<0?this.#n+o:o>=this.#n?this.#n-o:o)*this.#e+(s<0?this.#e+s:s>=this.#e?this.#e-s:s)}#m(s,o,f){const[h,E]=typeof o=="number"?this.#h(o):o;s[this.#l(h+0,E+1)]+=f,s[this.#l(h+1,E+1)]+=f,s[this.#l(h+1,E+0)]+=f,s[this.#l(h+1,E-1)]+=f,s[this.#l(h+0,E-1)]+=f,s[this.#l(h-1,E-1)]+=f,s[this.#l(h-1,E+0)]+=f,s[this.#l(h-1,E+1)]+=f}updateSize(s,o){s<10&&(s=10),o<10&&(o=10),console.debug("sim resizing from",this.#e,"x",this.#n,"to",s,"x",o);const f=new Uint16Array(s*o);for(let h=0;h<f.length;++h){const E=h%s,O=Math.floor(h/s),U=Math.round(this.#e/2-s/2)+E,q=Math.round(this.#n/2-o/2)+O;U<0||U>=this.#e||q<0||q>=this.#n||(f[h]=this.#t[this.#l(U,q)])}this.#e=s,this.#n=o,this.#t=f,this.#a=new Uint16Array(s*o),this.#i=!0}clear(){this.#t.fill(0),this.#r=0,this.#i=!0}seed(){for(let s=0;s<this.#t.length;++s)this.#t[s]=this.#t[s]&4080|Math.round(Math.random()*8);this.#i=!0}prune(s=0){const o=this.#t.map(f=>f>>4).reduce((f,h)=>[Math.min(f[0],h),Math.max(f[1],h)],[255,0]).reduce((f,h)=>f+h)/2;console.debug("prune",{type:s,threshold:o});for(let f=0;f<this.#t.length;++f){const h=this.#t[f]>>4;h!==0&&(s===1&&h>o||s===0&&h<o||(this.#t[f]=this.#t[f]&15,this.#m(this.#t,f,-1)))}this.#i=!0}use(s,o,f){if(f.id==="noise"||f.id==="erase"){const h=this.#u.radius**2;for(let E=-this.#u.radius;E<=this.#u.radius;++E)for(let O=-this.#u.radius;O<=this.#u.radius;++O){if(E**2+O**2>h)continue;const U=this.#l(E+s,O+o);this.#t[U]=f.id==="noise"?this.#t[U]&4080|Math.round(Math.random()*8):0}}else{if(!("points"in f))throw new Error("invalid tool");let{width:h,height:E}=f,O=[];f.rotation===0?O=f.points:f.rotation===2?O=f.points.map(([N,$])=>[h-N,E-$]):f.rotation===1?(O=f.points.map(([N,$])=>[E-$,N]),[h,E]=[E,h]):f.rotation===3&&(O=f.points.map(([N,$])=>[$,h-N]),[h,E]=[E,h]);const U=Math.round(h/2),q=Math.round(E/2);for(let N=-3;N<h+3;++N)for(let $=-3;$<E+3;++$)this.#t[this.#l(s-U+N,o-q+$)]=0;for(const[N,$]of O){const[I,Pe]=[s-U+N,o-q+$],ut=this.#l(I,Pe);ut!==-1&&(this.#t[ut]=16|this.#t[ut]&15,this.#m(this.#t,[I,Pe],1))}}this.#i=!0}step(s=1){const o=performance.now();for(let f=0;f<s;++f){this.#u.chance/100>=Math.random()&&this.use(...this.#h(Math.round(Math.random()*this.#t.length)),{id:"noise"}),this.#s=0;for(let h=0;h<this.#t.length;++h){const E=this.#t[h]>>4,O=this.#t[h]&15;(E===0&&(this.#f&1<<O)>0||E>0&&(this.#c&1<<O)>0)&&(this.#a[h]=Math.min(E+1,255)<<4|this.#a[h]&15,this.#m(this.#a,h,1),++this.#s)}[this.#t,this.#a]=[this.#a,this.#t],this.#a.fill(0)}return this.#r+=s,this.#i=!0,performance.now()-o}*values(s=!1){for(let o=0;o<this.#t.length;++o)(s||this.#t[o]&4080)&&(yield[...this.#h(o),this.#t[o]>>4,this.#t[o]&15]);this.#i=!1}inspect(){return{width:this.#e,height:this.#n,steps:this.#r,alive:this.#s}}}const lh={paused:!1,rules:Qm,scale:.3,spawn:{...Do,enabled:Do.chance>0},speed:1,wrap:!0};var ch=(u=>(u[u.Save=0]="Save",u))(ch||{});const Zm=P.createContext(null);function Dd(){const u=localStorage.getItem("controls");return u?nh(JSON.parse(u),["paused"]):null}function wd(u){localStorage.setItem("controls",JSON.stringify(u))}function Ld({children:u}){const[s,o]=P.useState({...lh,...Dd()}),f=P.useRef(s),h=P.useRef(new Md);P.useEffect(()=>{f.current=s,wd(s)},[s]);const E=P.useMemo(()=>({controls:s,setControls:o,controlsRef:f,commandsRef:h}),[s]);return w.jsx(Zm,{value:E,children:u})}function df(){const u=P.useContext(Zm);if(u===null)throw new Error("useSimControls must be used underneath a SimControlsProvider");return u}function Nd(){const{setControls:u,controls:s}=df(),o=P.useCallback($=>u(I=>({...I,spawn:{...I.spawn,enabled:$}})),[u]),f=P.useCallback($=>u(I=>({...I,scale:$})),[u]),h=P.useCallback($=>u(I=>({...I,spawn:{...I.spawn,radius:$}})),[u]),E=P.useCallback($=>u(I=>({...I,spawn:{...I.spawn,chance:$}})),[u]),O=P.useCallback($=>u(I=>({...I,speed:$})),[u]),U=P.useCallback($=>u(I=>({...I,rules:$})),[u]),q=P.useCallback(()=>u(()=>({...lh})),[u]),N=P.useCallback($=>u(I=>({...I,wrap:$})),[u]);return w.jsxs(wo,{children:[w.jsx(Lo,{children:w.jsx(Xn,{title:"Main menu",label:"Menu",children:w.jsx(id,{})})}),w.jsx(No,{children:w.jsxs("div",{className:"flex flex-wrap gap-4 p-4 justify-center items-center",children:[w.jsx(Va,{label:"Speed",title:"Steps per frame",min:1,max:10,step:1,decimals:0,unit:"x",value:s.speed,onValueChange:O}),w.jsx(Va,{label:"Scale",title:"Simulation scale",min:.1,max:1,unit:"x",value:s.scale,onValueChange:f}),w.jsx(Mo,{label:"Wrap",title:"Wrap coordinates at edges",value:s.wrap,onValueChange:N}),w.jsxs("section",{className:"control-group",children:[w.jsx(Mo,{label:"Spawn",title:"Spawn random cells",value:s.spawn.enabled,onValueChange:o}),w.jsx(Va,{label:"Chance",title:"Spawn chance",min:0,max:10,step:.1,decimals:1,unit:"%",value:s.spawn.chance,onValueChange:E,disabled:!s.spawn.enabled}),w.jsx(Va,{label:"Radius",title:"Spawn radius",min:3,max:15,step:1,decimals:0,unit:"px",value:s.spawn.radius,onValueChange:h})]}),w.jsx(Rd,{onValueChange:U,values:s.rules}),w.jsx(Xn,{type:"reset",onClick:q,disabled:zo(nh(lh,["paused"]),nh(s,["paused"])),title:"Reset controls",label:"Reset",children:w.jsx(P0,{})})]})})]})}const Km=P.createContext(null);function Gd({children:u,closingMillis:s=300}){const[o,f]=P.useState(0),h=P.useRef(null),E=P.useRef(null),O=P.useRef(o);P.useEffect(()=>{O.current=o,h.current?.setAttribute("is-open",String(o===1))},[o]);const U=P.useCallback(()=>{console.debug("modal setClosed"),O.current===1&&(f(2),setTimeout(()=>f(0),s))},[s]),q=P.useCallback(()=>{console.debug("modal setOpen"),O.current===0&&f(1)},[]),N=P.useCallback(()=>{console.debug("modal toggleOpen"),O.current===1?(f(2),setTimeout(()=>f(0),s)):O.current===0&&f(1)},[s]),$=P.useMemo(()=>({modalRef:E,setClosed:U,setOpen:q,state:o,stateRef:O,toggleOpen:N,triggerRef:h}),[U,q,o,N]);return w.jsx(Km,{value:$,children:u})}function sh(){const u=P.useContext(Km);if(u===null)throw new Error("useModal must be used underneath a Modal");return u}function Bd({children:u}){const{triggerRef:s,toggleOpen:o}=sh();return P.useEffect(()=>{const f=new AbortController;return s.current?.addEventListener("click",o,{signal:f.signal}),()=>f.abort()},[o]),w.jsx("span",{ref:s,children:u})}function jd({children:u,className:s="bg-background border-3 border-accent mx-auto mb-auto lg:my-auto overflow-y-auto starting:opacity-0 starting:scale-95 starting:-translate-y-[25dvh] origin-center duration-200 ease-in transition-[opacity,scale,translate]",classNameClosing:o="scale-95 opacity-0 translate-y-[25dvh]"}){const{modalRef:f,state:h,setClosed:E}=sh();return P.useEffect(()=>{h===1&&f.current?.showModal(),h===0&&f.current?.close(),f.current?.setAttribute("is-open",String(h===1))},[h]),P.useEffect(()=>{f.current?.addEventListener("click",O=>{O.target===f.current&&E()})},[E]),Um.createPortal(w.jsx("dialog",{ref:f,className:`size-full transition-[background] duration-200 starting:bg-transparent flex m-4 max-w-[calc(100dvw-2em)] max-h-[calc(100dvh-2em)] ${h===1?"bg-background/50":h===2?"bg-transparent":"hidden"}`,children:w.jsx("div",{className:`${s} ${h===2?o:""}`,children:u})}),document.body.querySelector("#modals")??document.body)}const Ud=JSON.parse('[{"comment":"The smallest, most common, and first discovered spaceship. Diagonal, has period 4 and speed c/4.","height":3,"name":"Glider","points":[[1,0],[2,1],[0,2],[1,2],[2,2]],"width":3,"id":"urwrrDo=","path":"M1,0h0m1,1h0m-2,1h0m1,0h0m1,0h0"},{"comment":"A very well-known period 4 c/2 orthogonal spaceship.","height":4,"name":"Lightweight spaceship","points":[[1,0],[4,0],[0,1],[0,2],[4,2],[0,3],[1,3],[2,3],[3,3]],"width":5,"id":"uiuspLyjusQK","path":"M1,0h0m3,0h0m-4,1h0m0,1h0m4,0h0m-4,1h0m1,0h0m1,0h0m1,0h0"},{"comment":"A very well-known period 4 c/2 orthogonal spaceship.","height":5,"name":"Middleweight spaceship","points":[[3,0],[1,1],[5,1],[0,2],[0,3],[5,3],[0,4],[1,4],[2,4],[3,4],[4,4]],"width":6,"id":"O6K8ujuspbykusUK","path":"M3,0h0m-2,1h0m4,0h0m-5,1h0m0,1h0m5,0h0m-5,1h0m1,0h0m1,0h0m1,0h0m1,0h0"},{"comment":"A very well-known period 4 c/2 orthogonal spaceship.","height":5,"name":"Heavyweight spaceship","points":[[3,0],[4,0],[1,1],[6,1],[0,2],[0,3],[6,3],[0,4],[1,4],[2,4],[3,4],[4,4],[5,4]],"width":7,"id":"Oyory6S6ymvKW6xq","path":"M3,0h0m1,0h0m-3,1h0m5,0h0m-6,1h0m0,1h0m6,0h0m-6,1h0m1,0h0m1,0h0m1,0h0m1,0h0m1,0h0"},{"comment":"small c/7 orthogonal spaceship found 17 February 2013","height":9,"name":"Loafer","points":[[1,0],[2,0],[5,0],[7,0],[8,0],[0,1],[3,1],[6,1],[7,1],[1,2],[3,2],[2,3],[8,4],[6,5],[7,5],[8,5],[5,6],[6,7],[7,8],[8,8]],"width":9,"id":"Odc3xyPHrysqy6usK6yLrGs6","path":"M1,0h0m1,0h0m3,0h0m2,0h0m1,0h0m-8,1h0m3,0h0m3,0h0m1,0h0m-6,1h0m2,0h0m-1,1h0m6,1h0m-2,1h0m1,0h0m1,0h0m-3,1h0m1,1h0m1,1h0m1,0h0"},{"comment":"An c/10 orthogonal spaceship found on March 5, 2016.","height":12,"name":"Copperhead","points":[[1,0],[2,0],[5,0],[6,0],[3,1],[4,1],[3,2],[4,2],[0,3],[2,3],[5,3],[7,3],[0,4],[7,4],[0,6],[7,6],[1,7],[2,7],[5,7],[6,7],[2,8],[3,8],[4,8],[5,8],[3,10],[4,10],[3,11],[4,11]],"width":8,"id":"68f3yWJ9Vuvb/iXfr8prospr","path":"M1,0h0m1,0h0m3,0h0m1,0h0m-3,1h0m1,0h0m-1,1h0m1,0h0m-4,1h0m2,0h0m3,0h0m2,0h0m-7,1h0m7,0h0m-7,2h0m7,0h0m-6,1h0m1,0h0m3,0h0m1,0h0m-4,1h0m1,0h0m1,0h0m1,0h0m-2,2h0m1,0h0m-1,1h0m1,0h0"},{"comment":"The smallest known diagonal spaceship other than the glider. Period 4 with speed c/4. It was","height":12,"name":"Crab","points":[[8,0],[9,0],[7,1],[8,1],[9,2],[11,3],[12,3],[10,4],[9,6],[12,6],[1,7],[2,7],[8,7],[9,7],[0,8],[1,8],[7,8],[2,9],[7,9],[9,9],[4,10],[5,10],[8,10],[4,11],[5,11]],"width":13,"id":"ZAWOcF+jyx7oyaY32YftbFUM","path":"M8,0h0m1,0h0m-2,1h0m1,0h0m1,1h0m2,1h0m1,0h0m-2,1h0m-1,2h0m3,0h0m-11,1h0m1,0h0m6,0h0m1,0h0m-9,1h0m1,0h0m6,0h0m-5,1h0m5,0h0m2,0h0m-5,1h0m1,0h0m3,0h0m-4,1h0m1,0h0"},{"comment":"https://conwaylife.com/wiki/Lightweight_spaceship","height":19,"name":"Xwsstagalong","points":[[21,0],[18,1],[19,1],[20,1],[21,1],[13,2],[16,2],[18,2],[19,2],[13,3],[0,4],[1,4],[2,4],[3,4],[12,4],[16,4],[18,4],[19,4],[0,5],[4,5],[10,5],[11,5],[13,5],[14,5],[16,5],[18,5],[20,5],[21,5],[22,5],[23,5],[24,5],[0,6],[10,6],[11,6],[13,6],[15,6],[17,6],[20,6],[21,6],[22,6],[23,6],[24,6],[1,7],[4,7],[7,7],[8,7],[11,7],[15,7],[16,7],[17,7],[20,7],[22,7],[23,7],[6,8],[9,8],[11,8],[12,8],[6,9],[11,9],[12,9],[6,10],[9,10],[11,10],[12,10],[1,11],[4,11],[7,11],[8,11],[11,11],[15,11],[16,11],[17,11],[20,11],[22,11],[23,11],[0,12],[10,12],[11,12],[13,12],[15,12],[17,12],[20,12],[21,12],[22,12],[23,12],[24,12],[0,13],[4,13],[10,13],[11,13],[13,13],[14,13],[16,13],[18,13],[20,13],[21,13],[22,13],[23,13],[24,13],[0,14],[1,14],[2,14],[3,14],[12,14],[16,14],[18,14],[19,14],[13,15],[13,16],[16,16],[18,16],[19,16],[18,17],[19,17],[20,17],[21,17],[21,18]],"width":25,"id":"qlfmbhz7cNx0pzUFQJneFf65","path":"M21,0h0m-3,1h0m1,0h0m1,0h0m1,0h0m-8,1h0m3,0h0m2,0h0m1,0h0m-6,1h0m-13,1h0m1,0h0m1,0h0m1,0h0m9,0h0m4,0h0m2,0h0m1,0h0m-19,1h0m4,0h0m6,0h0m1,0h0m2,0h0m1,0h0m2,0h0m2,0h0m2,0h0m1,0h0m1,0h0m1,0h0m1,0h0m-24,1h0m10,0h0m1,0h0m2,0h0m2,0h0m2,0h0m3,0h0m1,0h0m1,0h0m1,0h0m1,0h0m-23,1h0m3,0h0m3,0h0m1,0h0m3,0h0m4,0h0m1,0h0m1,0h0m3,0h0m2,0h0m1,0h0m-17,1h0m3,0h0m2,0h0m1,0h0m-6,1h0m5,0h0m1,0h0m-6,1h0m3,0h0m2,0h0m1,0h0m-11,1h0m3,0h0m3,0h0m1,0h0m3,0h0m4,0h0m1,0h0m1,0h0m3,0h0m2,0h0m1,0h0m-23,1h0m10,0h0m1,0h0m2,0h0m2,0h0m2,0h0m3,0h0m1,0h0m1,0h0m1,0h0m1,0h0m-24,1h0m4,0h0m6,0h0m1,0h0m2,0h0m1,0h0m2,0h0m2,0h0m2,0h0m1,0h0m1,0h0m1,0h0m1,0h0m-24,1h0m1,0h0m1,0h0m1,0h0m9,0h0m4,0h0m2,0h0m1,0h0m-6,1h0m0,1h0m3,0h0m2,0h0m1,0h0m-1,1h0m1,0h0m1,0h0m1,0h0m0,1h0"},{"comment":"This was the first gun discovered.","height":9,"name":"Gosper glider gun","points":[[24,0],[22,1],[24,1],[12,2],[13,2],[20,2],[21,2],[34,2],[35,2],[11,3],[15,3],[20,3],[21,3],[34,3],[35,3],[0,4],[1,4],[10,4],[16,4],[20,4],[21,4],[0,5],[1,5],[10,5],[14,5],[16,5],[17,5],[22,5],[24,5],[10,6],[16,6],[24,6],[11,7],[15,7],[12,8],[13,8]],"width":36,"id":"wx11qMRpUx3LNS4gDbZM9i0c","path":"M24,0h0m-2,1h0m2,0h0m-12,1h0m1,0h0m7,0h0m1,0h0m13,0h0m1,0h0m-24,1h0m4,0h0m5,0h0m1,0h0m13,0h0m1,0h0m-35,1h0m1,0h0m9,0h0m6,0h0m4,0h0m1,0h0m-21,1h0m1,0h0m9,0h0m4,0h0m2,0h0m1,0h0m5,0h0m2,0h0m-14,1h0m6,0h0m8,0h0m-13,1h0m4,0h0m-3,1h0m1,0h0"},{"comment":"The first 3c/7 orthogonal spaceship to be discovered.","height":137,"name":"Spaghetti monster","points":[[8,0],[9,0],[10,0],[16,0],[17,0],[18,0],[8,1],[10,1],[16,1],[18,1],[8,2],[10,2],[16,2],[18,2],[6,3],[8,3],[9,3],[13,3],[17,3],[18,3],[20,3],[6,4],[7,4],[12,4],[14,4],[19,4],[20,4],[10,5],[11,5],[13,5],[15,5],[16,5],[9,6],[17,6],[9,7],[11,7],[15,7],[17,7],[5,8],[6,8],[7,8],[8,8],[9,8],[17,8],[18,8],[19,8],[20,8],[21,8],[4,9],[7,9],[19,9],[22,9],[5,10],[7,10],[8,10],[9,10],[17,10],[18,10],[19,10],[21,10],[7,11],[9,11],[10,11],[16,11],[17,11],[19,11],[6,12],[7,12],[9,12],[11,12],[15,12],[17,12],[19,12],[20,12],[6,13],[7,13],[8,13],[10,13],[16,13],[18,13],[19,13],[20,13],[10,15],[11,15],[15,15],[16,15],[12,16],[14,16],[9,17],[17,17],[9,18],[10,18],[16,18],[17,18],[6,19],[7,19],[19,19],[20,19],[4,20],[6,20],[7,20],[19,20],[20,20],[22,20],[4,21],[5,21],[8,21],[9,21],[17,21],[18,21],[21,21],[22,21],[4,22],[7,22],[10,22],[16,22],[19,22],[22,22],[5,23],[10,23],[16,23],[21,23],[5,24],[8,24],[11,24],[15,24],[18,24],[21,24],[2,25],[8,25],[18,25],[24,25],[3,26],[5,26],[21,26],[23,26],[7,27],[19,27],[3,28],[7,28],[9,28],[17,28],[19,28],[23,28],[3,29],[6,29],[10,29],[16,29],[20,29],[23,29],[4,30],[5,30],[8,30],[9,30],[17,30],[18,30],[21,30],[22,30],[8,31],[18,31],[8,33],[9,33],[10,33],[11,33],[12,33],[14,33],[15,33],[16,33],[17,33],[18,33],[1,34],[8,34],[9,34],[11,34],[12,34],[14,34],[15,34],[17,34],[18,34],[25,34],[0,35],[1,35],[2,35],[10,35],[16,35],[24,35],[25,35],[26,35],[0,36],[3,36],[4,36],[10,36],[16,36],[22,36],[23,36],[26,36],[2,37],[6,37],[7,37],[8,37],[9,37],[10,37],[16,37],[17,37],[18,37],[19,37],[20,37],[24,37],[7,38],[9,38],[10,38],[16,38],[17,38],[19,38],[1,39],[5,39],[21,39],[25,39],[1,40],[3,40],[4,40],[7,40],[19,40],[22,40],[23,40],[25,40],[1,41],[3,41],[4,41],[5,41],[6,41],[20,41],[21,41],[22,41],[23,41],[25,41],[4,42],[22,42],[2,44],[24,44],[1,45],[3,45],[23,45],[25,45],[0,46],[26,46],[0,47],[4,47],[22,47],[26,47],[5,48],[21,48],[0,49],[1,49],[25,49],[26,49],[2,50],[6,50],[9,50],[17,50],[20,50],[24,50],[2,51],[6,51],[8,51],[10,51],[16,51],[18,51],[20,51],[24,51],[2,52],[8,52],[10,52],[11,52],[15,52],[16,52],[18,52],[24,52],[2,53],[6,53],[7,53],[9,53],[17,53],[19,53],[20,53],[24,53],[6,54],[7,54],[19,54],[20,54],[4,55],[22,55],[3,56],[23,56],[3,57],[8,57],[18,57],[23,57],[2,58],[3,58],[7,58],[8,58],[18,58],[19,58],[23,58],[24,58],[2,59],[3,59],[7,59],[9,59],[17,59],[19,59],[23,59],[24,59],[2,60],[3,60],[7,60],[8,60],[12,60],[13,60],[14,60],[18,60],[19,60],[23,60],[24,60],[2,61],[3,61],[4,61],[7,61],[8,61],[9,61],[11,61],[15,61],[17,61],[18,61],[19,61],[22,61],[23,61],[24,61],[6,62],[8,62],[9,62],[11,62],[15,62],[17,62],[18,62],[20,62],[2,63],[3,63],[7,63],[8,63],[10,63],[16,63],[18,63],[19,63],[23,63],[24,63],[3,64],[5,64],[6,64],[10,64],[12,64],[14,64],[16,64],[20,64],[21,64],[23,64],[11,65],[13,65],[15,65],[8,66],[18,66],[8,67],[9,67],[10,67],[16,67],[17,67],[18,67],[10,68],[11,68],[13,68],[15,68],[16,68],[10,69],[11,69],[12,69],[13,69],[14,69],[15,69],[16,69],[8,70],[9,70],[10,70],[16,70],[17,70],[18,70],[7,71],[8,71],[10,71],[12,71],[14,71],[16,71],[18,71],[19,71],[6,72],[10,72],[16,72],[20,72],[11,73],[12,73],[14,73],[15,73],[5,74],[8,74],[10,74],[12,74],[14,74],[16,74],[18,74],[21,74],[6,75],[7,75],[8,75],[9,75],[17,75],[18,75],[19,75],[20,75],[9,76],[17,76],[9,77],[17,77],[6,78],[7,78],[9,78],[12,78],[14,78],[17,78],[19,78],[20,78],[9,80],[10,80],[16,80],[17,80],[9,83],[17,83],[9,84],[10,84],[11,84],[15,84],[16,84],[17,84],[8,85],[11,85],[15,85],[18,85],[9,86],[17,86],[8,87],[11,87],[15,87],[18,87],[11,88],[12,88],[14,88],[15,88],[12,89],[14,89],[10,90],[12,90],[14,90],[16,90],[9,91],[13,91],[17,91],[9,92],[17,92],[12,93],[14,93],[7,94],[8,94],[10,94],[16,94],[18,94],[19,94],[7,95],[8,95],[11,95],[15,95],[18,95],[19,95],[7,96],[19,96],[8,97],[18,97],[6,98],[8,98],[18,98],[20,98],[5,99],[6,99],[7,99],[8,99],[18,99],[19,99],[20,99],[21,99],[5,100],[6,100],[8,100],[10,100],[16,100],[18,100],[20,100],[21,100],[4,101],[7,101],[19,101],[22,101],[9,102],[11,102],[15,102],[17,102],[8,103],[9,103],[11,103],[15,103],[17,103],[18,103],[4,104],[7,104],[11,104],[12,104],[14,104],[15,104],[19,104],[22,104],[9,105],[12,105],[14,105],[17,105],[6,106],[9,106],[11,106],[12,106],[14,106],[15,106],[17,106],[20,106],[7,107],[9,107],[11,107],[13,107],[15,107],[17,107],[19,107],[8,108],[9,108],[12,108],[14,108],[17,108],[18,108],[9,109],[11,109],[15,109],[17,109],[10,110],[11,110],[15,110],[16,110],[7,111],[8,111],[18,111],[19,111],[7,112],[8,112],[9,112],[17,112],[18,112],[19,112],[7,113],[9,113],[17,113],[19,113],[5,114],[6,114],[9,114],[17,114],[20,114],[21,114],[5,115],[6,115],[20,115],[21,115],[11,116],[15,116],[6,117],[11,117],[15,117],[20,117],[6,118],[7,118],[11,118],[15,118],[19,118],[20,118],[7,119],[10,119],[16,119],[19,119],[7,120],[8,120],[9,120],[17,120],[18,120],[19,120],[6,121],[8,121],[18,121],[20,121],[6,122],[7,122],[19,122],[20,122],[6,123],[8,123],[13,123],[18,123],[20,123],[6,124],[7,124],[12,124],[13,124],[14,124],[19,124],[20,124],[6,125],[7,125],[11,125],[15,125],[19,125],[20,125],[5,126],[6,126],[7,126],[12,126],[13,126],[14,126],[19,126],[20,126],[21,126],[3,127],[4,127],[22,127],[23,127],[2,128],[8,128],[9,128],[12,128],[14,128],[17,128],[18,128],[24,128],[2,130],[5,130],[7,130],[8,130],[9,130],[11,130],[12,130],[14,130],[15,130],[17,130],[18,130],[19,130],[21,130],[24,130],[8,131],[9,131],[10,131],[16,131],[17,131],[18,131],[10,132],[11,132],[12,132],[14,132],[15,132],[16,132],[5,133],[10,133],[11,133],[13,133],[15,133],[16,133],[21,133],[11,134],[15,134],[11,136],[12,136],[14,136],[15,136]],"width":27,"id":"lh22DeftTUDUy4aM/CcVAX05","path":"M8,0h0m1,0h0m1,0h0m6,0h0m1,0h0m1,0h0m-10,1h0m2,0h0m6,0h0m2,0h0m-10,1h0m2,0h0m6,0h0m2,0h0m-12,1h0m2,0h0m1,0h0m4,0h0m4,0h0m1,0h0m2,0h0m-14,1h0m1,0h0m5,0h0m2,0h0m5,0h0m1,0h0m-10,1h0m1,0h0m2,0h0m2,0h0m1,0h0m-7,1h0m8,0h0m-8,1h0m2,0h0m4,0h0m2,0h0m-12,1h0m1,0h0m1,0h0m1,0h0m1,0h0m8,0h0m1,0h0m1,0h0m1,0h0m1,0h0m-17,1h0m3,0h0m12,0h0m3,0h0m-17,1h0m2,0h0m1,0h0m1,0h0m8,0h0m1,0h0m1,0h0m2,0h0m-14,1h0m2,0h0m1,0h0m6,0h0m1,0h0m2,0h0m-13,1h0m1,0h0m2,0h0m2,0h0m4,0h0m2,0h0m2,0h0m1,0h0m-14,1h0m1,0h0m1,0h0m2,0h0m6,0h0m2,0h0m1,0h0m1,0h0m-10,2h0m1,0h0m4,0h0m1,0h0m-4,1h0m2,0h0m-5,1h0m8,0h0m-8,1h0m1,0h0m6,0h0m1,0h0m-11,1h0m1,0h0m12,0h0m1,0h0m-16,1h0m2,0h0m1,0h0m12,0h0m1,0h0m2,0h0m-18,1h0m1,0h0m3,0h0m1,0h0m8,0h0m1,0h0m3,0h0m1,0h0m-18,1h0m3,0h0m3,0h0m6,0h0m3,0h0m3,0h0m-17,1h0m5,0h0m6,0h0m5,0h0m-16,1h0m3,0h0m3,0h0m4,0h0m3,0h0m3,0h0m-19,1h0m6,0h0m10,0h0m6,0h0m-21,1h0m2,0h0m16,0h0m2,0h0m-16,1h0m12,0h0m-16,1h0m4,0h0m2,0h0m8,0h0m2,0h0m4,0h0m-20,1h0m3,0h0m4,0h0m6,0h0m4,0h0m3,0h0m-19,1h0m1,0h0m3,0h0m1,0h0m8,0h0m1,0h0m3,0h0m1,0h0m-14,1h0m10,0h0m-10,2h0m1,0h0m1,0h0m1,0h0m1,0h0m2,0h0m1,0h0m1,0h0m1,0h0m1,0h0m-17,1h0m7,0h0m1,0h0m2,0h0m1,0h0m2,0h0m1,0h0m2,0h0m1,0h0m7,0h0m-25,1h0m1,0h0m1,0h0m8,0h0m6,0h0m8,0h0m1,0h0m1,0h0m-26,1h0m3,0h0m1,0h0m6,0h0m6,0h0m6,0h0m1,0h0m3,0h0m-24,1h0m4,0h0m1,0h0m1,0h0m1,0h0m1,0h0m6,0h0m1,0h0m1,0h0m1,0h0m1,0h0m4,0h0m-17,1h0m2,0h0m1,0h0m6,0h0m1,0h0m2,0h0m-18,1h0m4,0h0m16,0h0m4,0h0m-24,1h0m2,0h0m1,0h0m3,0h0m12,0h0m3,0h0m1,0h0m2,0h0m-24,1h0m2,0h0m1,0h0m1,0h0m1,0h0m14,0h0m1,0h0m1,0h0m1,0h0m2,0h0m-21,1h0m18,0h0m-20,2h0m22,0h0m-23,1h0m2,0h0m20,0h0m2,0h0m-25,1h0m26,0h0m-26,1h0m4,0h0m18,0h0m4,0h0m-21,1h0m16,0h0m-21,1h0m1,0h0m24,0h0m1,0h0m-24,1h0m4,0h0m3,0h0m8,0h0m3,0h0m4,0h0m-22,1h0m4,0h0m2,0h0m2,0h0m6,0h0m2,0h0m2,0h0m4,0h0m-22,1h0m6,0h0m2,0h0m1,0h0m4,0h0m1,0h0m2,0h0m6,0h0m-22,1h0m4,0h0m1,0h0m2,0h0m8,0h0m2,0h0m1,0h0m4,0h0m-18,1h0m1,0h0m12,0h0m1,0h0m-16,1h0m18,0h0m-19,1h0m20,0h0m-20,1h0m5,0h0m10,0h0m5,0h0m-21,1h0m1,0h0m4,0h0m1,0h0m10,0h0m1,0h0m4,0h0m1,0h0m-22,1h0m1,0h0m4,0h0m2,0h0m8,0h0m2,0h0m4,0h0m1,0h0m-22,1h0m1,0h0m4,0h0m1,0h0m4,0h0m1,0h0m1,0h0m4,0h0m1,0h0m4,0h0m1,0h0m-22,1h0m1,0h0m1,0h0m3,0h0m1,0h0m1,0h0m2,0h0m4,0h0m2,0h0m1,0h0m1,0h0m3,0h0m1,0h0m1,0h0m-18,1h0m2,0h0m1,0h0m2,0h0m4,0h0m2,0h0m1,0h0m2,0h0m-18,1h0m1,0h0m4,0h0m1,0h0m2,0h0m6,0h0m2,0h0m1,0h0m4,0h0m1,0h0m-21,1h0m2,0h0m1,0h0m4,0h0m2,0h0m2,0h0m2,0h0m4,0h0m1,0h0m2,0h0m-12,1h0m2,0h0m2,0h0m-7,1h0m10,0h0m-10,1h0m1,0h0m1,0h0m6,0h0m1,0h0m1,0h0m-8,1h0m1,0h0m2,0h0m2,0h0m1,0h0m-6,1h0m1,0h0m1,0h0m1,0h0m1,0h0m1,0h0m1,0h0m-8,1h0m1,0h0m1,0h0m6,0h0m1,0h0m1,0h0m-11,1h0m1,0h0m2,0h0m2,0h0m2,0h0m2,0h0m2,0h0m1,0h0m-13,1h0m4,0h0m6,0h0m4,0h0m-9,1h0m1,0h0m2,0h0m1,0h0m-10,1h0m3,0h0m2,0h0m2,0h0m2,0h0m2,0h0m2,0h0m3,0h0m-15,1h0m1,0h0m1,0h0m1,0h0m8,0h0m1,0h0m1,0h0m1,0h0m-11,1h0m8,0h0m-8,1h0m8,0h0m-11,1h0m1,0h0m2,0h0m3,0h0m2,0h0m3,0h0m2,0h0m1,0h0m-11,2h0m1,0h0m6,0h0m1,0h0m-8,3h0m8,0h0m-8,1h0m1,0h0m1,0h0m4,0h0m1,0h0m1,0h0m-9,1h0m3,0h0m4,0h0m3,0h0m-9,1h0m8,0h0m-9,1h0m3,0h0m4,0h0m3,0h0m-7,1h0m1,0h0m2,0h0m1,0h0m-3,1h0m2,0h0m-4,1h0m2,0h0m2,0h0m2,0h0m-7,1h0m4,0h0m4,0h0m-8,1h0m8,0h0m-5,1h0m2,0h0m-7,1h0m1,0h0m2,0h0m6,0h0m2,0h0m1,0h0m-12,1h0m1,0h0m3,0h0m4,0h0m3,0h0m1,0h0m-12,1h0m12,0h0m-11,1h0m10,0h0m-12,1h0m2,0h0m10,0h0m2,0h0m-15,1h0m1,0h0m1,0h0m1,0h0m10,0h0m1,0h0m1,0h0m1,0h0m-16,1h0m1,0h0m2,0h0m2,0h0m6,0h0m2,0h0m2,0h0m1,0h0m-17,1h0m3,0h0m12,0h0m3,0h0m-13,1h0m2,0h0m4,0h0m2,0h0m-9,1h0m1,0h0m2,0h0m4,0h0m2,0h0m1,0h0m-14,1h0m3,0h0m4,0h0m1,0h0m2,0h0m1,0h0m4,0h0m3,0h0m-13,1h0m3,0h0m2,0h0m3,0h0m-11,1h0m3,0h0m2,0h0m1,0h0m2,0h0m1,0h0m2,0h0m3,0h0m-13,1h0m2,0h0m2,0h0m2,0h0m2,0h0m2,0h0m2,0h0m-11,1h0m1,0h0m3,0h0m2,0h0m3,0h0m1,0h0m-9,1h0m2,0h0m4,0h0m2,0h0m-7,1h0m1,0h0m4,0h0m1,0h0m-9,1h0m1,0h0m10,0h0m1,0h0m-12,1h0m1,0h0m1,0h0m8,0h0m1,0h0m1,0h0m-12,1h0m2,0h0m8,0h0m2,0h0m-14,1h0m1,0h0m3,0h0m8,0h0m3,0h0m1,0h0m-16,1h0m1,0h0m14,0h0m1,0h0m-10,1h0m4,0h0m-9,1h0m5,0h0m4,0h0m5,0h0m-14,1h0m1,0h0m4,0h0m4,0h0m4,0h0m1,0h0m-13,1h0m3,0h0m6,0h0m3,0h0m-12,1h0m1,0h0m1,0h0m8,0h0m1,0h0m1,0h0m-13,1h0m2,0h0m10,0h0m2,0h0m-14,1h0m1,0h0m12,0h0m1,0h0m-14,1h0m2,0h0m5,0h0m5,0h0m2,0h0m-14,1h0m1,0h0m5,0h0m1,0h0m1,0h0m5,0h0m1,0h0m-14,1h0m1,0h0m4,0h0m4,0h0m4,0h0m1,0h0m-15,1h0m1,0h0m1,0h0m5,0h0m1,0h0m1,0h0m5,0h0m1,0h0m1,0h0m-18,1h0m1,0h0m18,0h0m1,0h0m-21,1h0m6,0h0m1,0h0m3,0h0m2,0h0m3,0h0m1,0h0m6,0h0m-22,2h0m3,0h0m2,0h0m1,0h0m1,0h0m2,0h0m1,0h0m2,0h0m1,0h0m2,0h0m1,0h0m1,0h0m2,0h0m3,0h0m-16,1h0m1,0h0m1,0h0m6,0h0m1,0h0m1,0h0m-8,1h0m1,0h0m1,0h0m2,0h0m1,0h0m1,0h0m-11,1h0m5,0h0m1,0h0m2,0h0m2,0h0m1,0h0m5,0h0m-10,1h0m4,0h0m-4,2h0m1,0h0m2,0h0m1,0h0"}]');function Hd(u){const o=u.replaceAll("o","a").replaceAll("$","c").split(/(..?)/g).filter(U=>U.length),f=new Uint8Array(o.length);let h=0;for(const U of o)f[h++]=parseInt(U,16);for(;h>=18;)f[h-18]^=f[h]*(Math.ceil(h/18/2)*2)+1,h--;const E=f.subarray(0,18),O="toBase64"in E&&typeof E.toBase64=="function"?E.toBase64():typeof Buffer=="function"?Buffer.from(E).toString("base64"):null;if(O===null)throw new Error("No suitable method to convert TypedArray to base64 string");return O}class oh{#e;#n;#t;#a;#r;#f;#c;constructor(s){if(typeof s=="string"){const o=/^#N\s?(?<name>[^\n]+)$/m.exec(s),f=/^#C\s?(?<comment>[^\n]+)$/m.exec(s),h=/^(?<pattern>[\dbo$\s]+)!/m.exec(s);if(!h?.groups)throw new Error("could not match pattern",{cause:s});const E=h.groups.pattern.replaceAll(/\s/g,"");let O="",U=0,q=0;const N=[];for(const et of E)if(/\d/.exec(et))O+=et;else if(et==="$")q+=O?parseInt(O,10):1,U=0,O="";else if(et==="b")U+=O?parseInt(O,10):1,O="";else if(et==="o"){for(let ht=0;ht<(O?parseInt(O,10):1);++ht)N.push([U,q]),++U;O=""}else throw new Error("unknown pattern token",{cause:{pattern:E,token:et}});const{minX:$,maxX:I,minY:Pe,maxY:ut}=N.reduce((et,ht)=>(et.minX=Math.min(et.minX,ht[0]),et.maxX=Math.max(et.maxX,ht[0]),et.minY=Math.min(et.minY,ht[1]),et.maxY=Math.max(et.maxY,ht[1]),et),{minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0});this.#a=f?.groups?.comment,this.#n=ut-Pe+1,this.#t=o?.groups?.name,this.#r=N,this.#e=I-$+1,this.#f=Hd(E),this.#c=fh(N)}else this.#a=s.comment,this.#n=s.height,this.#t=s.name,this.#r=s.points,this.#e=s.width,this.#f=s.id,this.#c=s.path}get width(){return this.#e}get height(){return this.#n}get name(){return this.#t}get comment(){return this.#a}get points(){return this.#r}get id(){return this.#f}get path(){return this.#c}toJSON(){return{comment:this.#a,height:this.#n,name:this.#t,points:this.#r,width:this.#e,id:this.#f,path:this.#c}}}const Jm=P.createContext(null);function Vd(){const u=localStorage.getItem("simObjects");return u?JSON.parse(u):null}function Dm(u){localStorage.setItem("simObjects",JSON.stringify(u.map(s=>s instanceof oh?s.toJSON():s)))}function kd({children:u}){const[s,o]=P.useState({id:"noise"}),f=P.useRef(s),[h,E]=P.useState(Vd()??[...Ud]);P.useEffect(()=>{f.current=s},[s]);const O=P.useMemo(()=>({activeTool:s,activeToolRef:f,setActiveTool:o,simObjects:h,addSimObject(U){const q=U instanceof oh?U.toJSON():U,N=h.find($=>$.id===q.id);if(N)throw new Error(`duplicate of ${N.name??N.comment??N.id}`);E($=>{const I=[...$,q];return Dm(I),I})},removeSimObject(U){E(q=>{const N=q.filter($=>$.id!==U);return Dm(N),N})}}),[s,h]);return w.jsx(Jm,{value:O,children:u})}function Go(){const u=P.useContext(Jm);if(u===null)throw new Error("useTool must be used underneath a ToolProvider");return u}function Oo({name:u,id:s,width:o,height:f,path:h,onClick:E}){const{activeTool:O}=Go(),U=P.useCallback(()=>E?.(s),[s,E]),q=O.id===s&&"rotation"in O?O.rotation===0?"rotate-0":O.rotation===1?"rotate-90":O.rotation===2?"rotate-180":O.rotation===3?"rotate-270":"":"";return w.jsx(Fu,{title:u??"Unknown",children:w.jsxs("span",{className:`flex flex-col gap-4 items-center justify-center p-4 border-3 max-w-40 overflow-hidden transition-[border-color] duration-200 ${O.id===s?"border-accent":"border-transparent hover:border-accent/50 active:border-accent"}`,onClick:U,children:[w.jsx("svg",{"aria-hidden":!0,fill:"currentColor",stroke:"currentColor",strokeLinecap:"square",strokeWidth:"1",viewBox:`-0.5 -0.5 ${o} ${f}`,className:`h-12 max-w-full ${q}`,children:w.jsx("path",{d:h})}),w.jsxs("div",{className:"flex flex-col items-center justify-center max-w-full",children:[w.jsx("h3",{className:"max-w-full truncate text-sm",children:u??"Unknown"}),w.jsx("span",{className:"text-xs",children:o||f?`${o} x ${f}`:""})]})]})})}function qd(u){const s=u**2,o=[];for(let f=-u;f<=u;++f)for(let h=-u;h<=u;++h)f**2+h**2>s||Math.random()>.8&&o.push([f+u,h+u]);return o}const Xd=[[0,3],[1,3],[2,3],[3,3],[4,3],[5,3],[6,3],[3,0],[3,1],[3,2],[3,4],[3,5],[3,6]],Yd=fh(Xd);function Fd(){const{setClosed:u,state:s}=sh(),o=P.useRef(null),[f,h]=P.useState(null),{addSimObject:E,setActiveTool:O}=Go();P.useEffect(()=>{o.current&&(o.current.value="",h(null))},[s]);const U=P.useCallback(()=>{if(o.current)try{const q=new oh(o.current.value).toJSON();E(q),O({...q,rotation:0}),o.current.value="",h(null),u()}catch(q){h(String(q))}},[u,E,O]);return w.jsx(jd,{children:w.jsxs("div",{className:"flex flex-col gap-4 p-4 items-center",children:[w.jsx("h2",{children:"Import RLE data:"}),w.jsx(Fu,{title:"Paste RLE data, e.g. from https://conwaylife.com/",children:w.jsx("textarea",{className:"w-full lg:max-w-md border-3 border-accent",rows:10,cols:75,ref:o})}),w.jsx("span",{className:f?"text-red-500":"hidden",children:f}),w.jsx(Xn,{label:"OK",title:"Import",onClick:U,children:w.jsx(ad,{})})]})})}function Qd(){const{setActiveTool:u,activeToolRef:s,simObjects:o}=Go(),{controls:f}=df(),h=P.useCallback(q=>{const N=o[o.findIndex($=>$.id===q)];N.id===s.current.id&&"rotation"in s.current?u({...N,rotation:(s.current.rotation+1)%4}):u({...N,rotation:0})},[u,o]),E=P.useCallback(()=>u({id:"noise"}),[u]),O=P.useCallback(()=>u({id:"erase"}),[u]),U=P.useMemo(()=>fh(qd(f.spawn.radius)),[f.spawn.radius]);return w.jsxs(wo,{children:[w.jsx(Lo,{children:w.jsx(Xn,{title:"Tools menu",label:"Tool",children:w.jsx(ud,{})})}),w.jsx(No,{width:"full",children:w.jsxs("div",{className:"flex flex-wrap gap-4 p-4 justify-center items-center",children:[o.map(q=>w.jsx(Oo,{...q,onClick:h},q.id)),w.jsx(Ro,{children:w.jsx(Oo,{height:f.spawn.radius*2,id:"noise",path:U,width:f.spawn.radius*2,name:"Noise",onClick:E})}),w.jsx(Ro,{children:w.jsx(Oo,{height:f.spawn.radius*2,id:"erase",path:"",width:f.spawn.radius*2,name:"Erase",onClick:O})}),w.jsxs(Gd,{children:[w.jsx(Bd,{children:w.jsx(Oo,{height:7,id:null,path:Yd,width:7,name:"Import RLE"})}),w.jsx(Fd,{})]})]})})]})}class $m{#e;#n=0;#t=0;#a=0;constructor(s){this.#e=new Array(s)}get size(){return this.#a}push(s){this.#e[this.#t]=s,this.#t===this.#e.length-1?this.#t=0:++this.#t,this.#a===this.#e.length?this.#n===this.#a-1?this.#n=0:++this.#n:++this.#a}at(s){if(s>=0){if(s>=this.#a)return;const f=s+this.#n;return this.#e.at(f<this.#e.length?f:f-this.#e.length)}if(-s>this.#a)return;const o=this.#t+s;return this.#e.at(o>=0?o:o+this.#e.length)}clear(){this.#n=0,this.#t=0,this.#a=0}*items(){for(let s=0;s<this.#a;++s){const o=this.#n+s;yield this.#e[o<this.#e.length?o:o-this.#e.length]}}*pairs(){for(let s=0;s<this.#a-1;++s){const o=this.#n+s,f=o+1;yield[this.#e[o<this.#e.length?o:o-this.#e.length],this.#e[f<this.#e.length?f:f-this.#e.length]]}}}const Wm=P.createContext(null);function Zd({children:u}){const{controls:s}=df(),o=P.useRef(new zd(10,10,s.rules,s.spawn,s.wrap)),f=P.useRef(new $m(100)),h=P.useMemo(()=>({simulationRef:o,stepTimesRef:f}),[]);return P.useEffect(()=>{o.current.spawn={...s.spawn,chance:s.spawn.enabled?s.spawn.chance:0}},[s.spawn]),P.useEffect(()=>{o.current.rules=s.rules},[s.rules]),P.useEffect(()=>{o.current.wrap=s.wrap},[s.wrap]),w.jsx(Wm,{value:h,children:u})}function hh(){const u=P.useContext(Wm);if(u===null)throw new Error("useSimulation must be used underneath a SimulationProvider");return u}function Kd(){const{setControls:u,controls:s,controlsRef:o,commandsRef:f}=df(),{simulationRef:h,stepTimesRef:E}=hh(),[O,U]=P.useState(!!document.fullscreenElement),q=P.useCallback(()=>u(qt=>({...qt,paused:!qt.paused})),[u]),N=P.useCallback(()=>{h.current.clear()},[]),$=P.useCallback(()=>{h.current.prune(ah.Youngest)},[]),I=P.useCallback(()=>{h.current.prune(ah.Oldest)},[]),Pe=P.useCallback(()=>f.current.emit(ch.Save),[]),ut=P.useCallback(()=>h.current.seed(),[]),et=P.useCallback(()=>{E.current.push(h.current.step()),o.current.paused||u(qt=>({...qt,paused:!0}))},[]),ht=P.useCallback(()=>{document.fullscreenElement?document.exitFullscreen():document.body.requestFullscreen().catch(qt=>console.error("error requesting full screen",qt))},[]);return P.useEffect(()=>{const qt=new Map([["enter",q],["-",()=>u(je=>({...je,scale:Math.max(je.scale-.1,.1)}))],[".",et],["*",ut],["+",()=>u(je=>({...je,scale:Math.min(je.scale+.1,1)}))],["0",()=>u(je=>({...je,scale:1}))],["1",()=>u(je=>({...je,scale:.1}))],["2",()=>u(je=>({...je,scale:.2}))],["3",()=>u(je=>({...je,scale:.3}))],["4",()=>u(je=>({...je,scale:.4}))],["5",()=>u(je=>({...je,scale:.5}))],["6",()=>u(je=>({...je,scale:.6}))],["7",()=>u(je=>({...je,scale:.7}))],["8",()=>u(je=>({...je,scale:.8}))],["9",()=>u(je=>({...je,scale:.9}))],["c",N],["d",()=>{console.debug(...h.current.values().map(([je,We,_n,hn])=>({x:je,y:We,age:_n,neighbours:hn}))),console.debug(h.current.inspect())}],["f",ht],["o",I],["s",()=>u(je=>({...je,spawn:{...je.spawn,enabled:!je.spawn.enabled}}))],["y",$]]),zt=new AbortController;return document.addEventListener("keydown",je=>{const We=qt.get(je.key.toLocaleLowerCase());We&&(je.stopPropagation(),je.preventDefault(),console.debug("shortcut",je.key,We),We())},{signal:zt.signal}),document.addEventListener("fullscreenchange",()=>U(!!document.fullscreenElement),{signal:zt.signal}),()=>zt.abort()},[N,q,ut,et,u,ht,I,$]),w.jsxs("nav",{className:"flex flex-wrap gap-4 items-center justify-center w-full p-4",children:[w.jsx(Nd,{}),w.jsx(Xn,{onClick:q,title:s.paused?"Paused":"Running",className:s.paused?"animate-pulse":"bg-accent",label:"Run",children:s.paused?w.jsx(cd,{}):w.jsx(sd,{})}),w.jsx(Xn,{onClick:et,title:"Single step",label:"Step",children:w.jsx(fd,{})}),w.jsx(Xn,{onClick:N,title:"Clear simulation",label:"Del",children:w.jsx(hd,{})}),w.jsx(Xn,{onClick:ut,title:"Randomise cells",label:"Seed",children:w.jsx(bd,{})}),w.jsxs(wo,{children:[w.jsx(Lo,{children:w.jsx(Xn,{title:"Prune by age",label:"Cut",children:w.jsx(ld,{})})}),w.jsx(No,{width:"auto",children:w.jsxs("div",{className:"flex flex-row gap-4 p-4 justify-center items-center",children:[w.jsx(Ro,{children:w.jsx(Xn,{title:"Prune youngest",onClick:$,label:"Young",children:w.jsx(md,{})})}),w.jsx(Ro,{children:w.jsx(Xn,{title:"Prune oldest",onClick:I,label:"Old",children:w.jsx(dd,{})})})]})})]}),w.jsx(Qd,{}),w.jsx(Xn,{title:O?"Minimise":"Full screen",onClick:ht,className:O?"bg-accent":void 0,label:"Full",children:O?w.jsx(vd,{}):w.jsx(yd,{})}),w.jsx(Ad,{}),w.jsx(Xn,{title:"Save image",onClick:Pe,label:"Save",children:w.jsx(nd,{})})]})}const rh={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};for(const u in rh)Object.freeze(rh[u]);const jc=Object.freeze(rh),Im={};for(const u of Object.keys(jc))Im[jc[u]]=u;const Xe={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},oklab:{channels:3,labels:["okl","oka","okb"]},lch:{channels:3,labels:"lch"},oklch:{channels:3,labels:["okl","okc","okh"]},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},er=(6/29)**3;function hf(u){const s=u>.0031308?1.055*u**.4166666666666667-.055:u*12.92;return Math.min(Math.max(0,s),1)}function mf(u){return u>.04045?((u+.055)/1.055)**2.4:u/12.92}for(const u of Object.keys(Xe)){if(!("channels"in Xe[u]))throw new Error("missing channels property: "+u);if(!("labels"in Xe[u]))throw new Error("missing channel labels property: "+u);if(Xe[u].labels.length!==Xe[u].channels)throw new Error("channel and label counts mismatch: "+u);const{channels:s,labels:o}=Xe[u];delete Xe[u].channels,delete Xe[u].labels,Object.defineProperty(Xe[u],"channels",{value:s}),Object.defineProperty(Xe[u],"labels",{value:o})}Xe.rgb.hsl=function(u){const s=u[0]/255,o=u[1]/255,f=u[2]/255,h=Math.min(s,o,f),E=Math.max(s,o,f),O=E-h;let U,q;switch(E){case h:{U=0;break}case s:{U=(o-f)/O;break}case o:{U=2+(f-s)/O;break}case f:{U=4+(s-o)/O;break}}U=Math.min(U*60,360),U<0&&(U+=360);const N=(h+E)/2;return E===h?q=0:N<=.5?q=O/(E+h):q=O/(2-E-h),[U,q*100,N*100]};Xe.rgb.hsv=function(u){let s,o,f,h,E;const O=u[0]/255,U=u[1]/255,q=u[2]/255,N=Math.max(O,U,q),$=N-Math.min(O,U,q),I=function(Pe){return(N-Pe)/6/$+1/2};if($===0)h=0,E=0;else{switch(E=$/N,s=I(O),o=I(U),f=I(q),N){case O:{h=f-o;break}case U:{h=1/3+s-f;break}case q:{h=2/3+o-s;break}}h<0?h+=1:h>1&&(h-=1)}return[h*360,E*100,N*100]};Xe.rgb.hwb=function(u){const s=u[0],o=u[1];let f=u[2];const h=Xe.rgb.hsl(u)[0],E=1/255*Math.min(s,Math.min(o,f));return f=1-1/255*Math.max(s,Math.max(o,f)),[h,E*100,f*100]};Xe.rgb.oklab=function(u){const s=mf(u[0]/255),o=mf(u[1]/255),f=mf(u[2]/255),h=Math.cbrt(.4122214708*s+.5363325363*o+.0514459929*f),E=Math.cbrt(.2119034982*s+.6806995451*o+.1073969566*f),O=Math.cbrt(.0883024619*s+.2817188376*o+.6299787005*f),U=.2104542553*h+.793617785*E-.0040720468*O,q=1.9779984951*h-2.428592205*E+.4505937099*O,N=.0259040371*h+.7827717662*E-.808675766*O;return[U*100,q*100,N*100]};Xe.rgb.cmyk=function(u){const s=u[0]/255,o=u[1]/255,f=u[2]/255,h=Math.min(1-s,1-o,1-f),E=(1-s-h)/(1-h)||0,O=(1-o-h)/(1-h)||0,U=(1-f-h)/(1-h)||0;return[E*100,O*100,U*100,h*100]};function Jd(u,s){return(u[0]-s[0])**2+(u[1]-s[1])**2+(u[2]-s[2])**2}Xe.rgb.keyword=function(u){const s=Im[u];if(s)return s;let o=Number.POSITIVE_INFINITY,f;for(const h of Object.keys(jc)){const E=jc[h],O=Jd(u,E);O<o&&(o=O,f=h)}return f};Xe.keyword.rgb=function(u){return[...jc[u]]};Xe.rgb.xyz=function(u){const s=mf(u[0]/255),o=mf(u[1]/255),f=mf(u[2]/255),h=s*.4124564+o*.3575761+f*.1804375,E=s*.2126729+o*.7151522+f*.072175,O=s*.0193339+o*.119192+f*.9503041;return[h*100,E*100,O*100]};Xe.rgb.lab=function(u){const s=Xe.rgb.xyz(u);let o=s[0],f=s[1],h=s[2];o/=95.047,f/=100,h/=108.883,o=o>er?o**(1/3):7.787*o+16/116,f=f>er?f**(1/3):7.787*f+16/116,h=h>er?h**(1/3):7.787*h+16/116;const E=116*f-16,O=500*(o-f),U=200*(f-h);return[E,O,U]};Xe.hsl.rgb=function(u){const s=u[0]/360,o=u[1]/100,f=u[2]/100;let h,E;if(o===0)return E=f*255,[E,E,E];const O=f<.5?f*(1+o):f+o-f*o,U=2*f-O,q=[0,0,0];for(let N=0;N<3;N++)h=s+1/3*-(N-1),h<0&&h++,h>1&&h--,6*h<1?E=U+(O-U)*6*h:2*h<1?E=O:3*h<2?E=U+(O-U)*(2/3-h)*6:E=U,q[N]=E*255;return q};Xe.hsl.hsv=function(u){const s=u[0];let o=u[1]/100,f=u[2]/100,h=o;const E=Math.max(f,.01);f*=2,o*=f<=1?f:2-f,h*=E<=1?E:2-E;const O=(f+o)/2,U=f===0?2*h/(E+h):2*o/(f+o);return[s,U*100,O*100]};Xe.hsv.rgb=function(u){const s=u[0]/60,o=u[1]/100;let f=u[2]/100;const h=Math.floor(s)%6,E=s-Math.floor(s),O=255*f*(1-o),U=255*f*(1-o*E),q=255*f*(1-o*(1-E));switch(f*=255,h){case 0:return[f,q,O];case 1:return[U,f,O];case 2:return[O,f,q];case 3:return[O,U,f];case 4:return[q,O,f];case 5:return[f,O,U]}};Xe.hsv.hsl=function(u){const s=u[0],o=u[1]/100,f=u[2]/100,h=Math.max(f,.01);let E,O;O=(2-o)*f;const U=(2-o)*h;return E=o*h,E/=U<=1?U:2-U,E=E||0,O/=2,[s,E*100,O*100]};Xe.hwb.rgb=function(u){const s=u[0]/360;let o=u[1]/100,f=u[2]/100;const h=o+f;let E;h>1&&(o/=h,f/=h);const O=Math.floor(6*s),U=1-f;E=6*s-O,(O&1)!==0&&(E=1-E);const q=o+E*(U-o);let N,$,I;switch(O){default:case 6:case 0:{N=U,$=q,I=o;break}case 1:{N=q,$=U,I=o;break}case 2:{N=o,$=U,I=q;break}case 3:{N=o,$=q,I=U;break}case 4:{N=q,$=o,I=U;break}case 5:{N=U,$=o,I=q;break}}return[N*255,$*255,I*255]};Xe.cmyk.rgb=function(u){const s=u[0]/100,o=u[1]/100,f=u[2]/100,h=u[3]/100,E=1-Math.min(1,s*(1-h)+h),O=1-Math.min(1,o*(1-h)+h),U=1-Math.min(1,f*(1-h)+h);return[E*255,O*255,U*255]};Xe.xyz.rgb=function(u){const s=u[0]/100,o=u[1]/100,f=u[2]/100;let h,E,O;return h=s*3.2404542+o*-1.5371385+f*-.4985314,E=s*-.969266+o*1.8760108+f*.041556,O=s*.0556434+o*-.2040259+f*1.0572252,h=hf(h),E=hf(E),O=hf(O),[h*255,E*255,O*255]};Xe.xyz.lab=function(u){let s=u[0],o=u[1],f=u[2];s/=95.047,o/=100,f/=108.883,s=s>er?s**(1/3):7.787*s+16/116,o=o>er?o**(1/3):7.787*o+16/116,f=f>er?f**(1/3):7.787*f+16/116;const h=116*o-16,E=500*(s-o),O=200*(o-f);return[h,E,O]};Xe.xyz.oklab=function(u){const s=u[0]/100,o=u[1]/100,f=u[2]/100,h=Math.cbrt(.8189330101*s+.3618667424*o-.1288597137*f),E=Math.cbrt(.0329845436*s+.9293118715*o+.0361456387*f),O=Math.cbrt(.0482003018*s+.2643662691*o+.633851707*f),U=.2104542553*h+.793617785*E-.0040720468*O,q=1.9779984951*h-2.428592205*E+.4505937099*O,N=.0259040371*h+.7827717662*E-.808675766*O;return[U*100,q*100,N*100]};Xe.oklab.oklch=function(u){return Xe.lab.lch(u)};Xe.oklab.xyz=function(u){const s=u[0]/100,o=u[1]/100,f=u[2]/100,h=(.999999998*s+.396337792*o+.215803758*f)**3,E=(1.000000008*s-.105561342*o-.063854175*f)**3,O=(1.000000055*s-.089484182*o-1.291485538*f)**3,U=1.227013851*h-.55779998*E+.281256149*O,q=-.040580178*h+1.11225687*E-.071676679*O,N=-.076381285*h-.421481978*E+1.58616322*O;return[U*100,q*100,N*100]};Xe.oklab.rgb=function(u){const s=u[0]/100,o=u[1]/100,f=u[2]/100,h=(s+.3963377774*o+.2158037573*f)**3,E=(s-.1055613458*o-.0638541728*f)**3,O=(s-.0894841775*o-1.291485548*f)**3,U=hf(4.0767416621*h-3.3077115913*E+.2309699292*O),q=hf(-1.2684380046*h+2.6097574011*E-.3413193965*O),N=hf(-.0041960863*h-.7034186147*E+1.707614701*O);return[U*255,q*255,N*255]};Xe.oklch.oklab=function(u){return Xe.lch.lab(u)};Xe.lab.xyz=function(u){const s=u[0],o=u[1],f=u[2];let h,E,O;E=(s+16)/116,h=o/500+E,O=E-f/200;const U=E**3,q=h**3,N=O**3;return E=U>er?U:(E-16/116)/7.787,h=q>er?q:(h-16/116)/7.787,O=N>er?N:(O-16/116)/7.787,h*=95.047,E*=100,O*=108.883,[h,E,O]};Xe.lab.lch=function(u){const s=u[0],o=u[1],f=u[2];let h;h=Math.atan2(f,o)*360/2/Math.PI,h<0&&(h+=360);const O=Math.sqrt(o*o+f*f);return[s,O,h]};Xe.lch.lab=function(u){const s=u[0],o=u[1],h=u[2]/360*2*Math.PI,E=o*Math.cos(h),O=o*Math.sin(h);return[s,E,O]};Xe.rgb.ansi16=function(u,s=null){const[o,f,h]=u;let E=s===null?Xe.rgb.hsv(u)[2]:s;if(E=Math.round(E/50),E===0)return 30;let O=30+(Math.round(h/255)<<2|Math.round(f/255)<<1|Math.round(o/255));return E===2&&(O+=60),O};Xe.hsv.ansi16=function(u){return Xe.rgb.ansi16(Xe.hsv.rgb(u),u[2])};Xe.rgb.ansi256=function(u){const s=u[0],o=u[1],f=u[2];return s>>4===o>>4&&o>>4===f>>4?s<8?16:s>248?231:Math.round((s-8)/247*24)+232:16+36*Math.round(s/255*5)+6*Math.round(o/255*5)+Math.round(f/255*5)};Xe.ansi16.rgb=function(u){u=u[0];let s=u%10;if(s===0||s===7)return u>50&&(s+=3.5),s=s/10.5*255,[s,s,s];const o=(Math.trunc(u>50)+1)*.5,f=(s&1)*o*255,h=(s>>1&1)*o*255,E=(s>>2&1)*o*255;return[f,h,E]};Xe.ansi256.rgb=function(u){if(u=u[0],u>=232){const E=(u-232)*10+8;return[E,E,E]}u-=16;let s;const o=Math.floor(u/36)/5*255,f=Math.floor((s=u%36)/6)/5*255,h=s%6/5*255;return[o,f,h]};Xe.rgb.hex=function(u){const o=(((Math.round(u[0])&255)<<16)+((Math.round(u[1])&255)<<8)+(Math.round(u[2])&255)).toString(16).toUpperCase();return"000000".slice(o.length)+o};Xe.hex.rgb=function(u){const s=u.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!s)return[0,0,0];let o=s[0];s[0].length===3&&(o=[...o].map(U=>U+U).join(""));const f=Number.parseInt(o,16),h=f>>16&255,E=f>>8&255,O=f&255;return[h,E,O]};Xe.rgb.hcg=function(u){const s=u[0]/255,o=u[1]/255,f=u[2]/255,h=Math.max(Math.max(s,o),f),E=Math.min(Math.min(s,o),f),O=h-E;let U;const q=O<1?E/(1-O):0;return O<=0?U=0:h===s?U=(o-f)/O%6:h===o?U=2+(f-s)/O:U=4+(s-o)/O,U/=6,U%=1,[U*360,O*100,q*100]};Xe.hsl.hcg=function(u){const s=u[1]/100,o=u[2]/100,f=o<.5?2*s*o:2*s*(1-o);let h=0;return f<1&&(h=(o-.5*f)/(1-f)),[u[0],f*100,h*100]};Xe.hsv.hcg=function(u){const s=u[1]/100,o=u[2]/100,f=s*o;let h=0;return f<1&&(h=(o-f)/(1-f)),[u[0],f*100,h*100]};Xe.hcg.rgb=function(u){const s=u[0]/360,o=u[1]/100,f=u[2]/100;if(o===0)return[f*255,f*255,f*255];const h=[0,0,0],E=s%1*6,O=E%1,U=1-O;let q=0;switch(Math.floor(E)){case 0:{h[0]=1,h[1]=O,h[2]=0;break}case 1:{h[0]=U,h[1]=1,h[2]=0;break}case 2:{h[0]=0,h[1]=1,h[2]=O;break}case 3:{h[0]=0,h[1]=U,h[2]=1;break}case 4:{h[0]=O,h[1]=0,h[2]=1;break}default:h[0]=1,h[1]=0,h[2]=U}return q=(1-o)*f,[(o*h[0]+q)*255,(o*h[1]+q)*255,(o*h[2]+q)*255]};Xe.hcg.hsv=function(u){const s=u[1]/100,o=u[2]/100,f=s+o*(1-s);let h=0;return f>0&&(h=s/f),[u[0],h*100,f*100]};Xe.hcg.hsl=function(u){const s=u[1]/100,f=u[2]/100*(1-s)+.5*s;let h=0;return f>0&&f<.5?h=s/(2*f):f>=.5&&f<1&&(h=s/(2*(1-f))),[u[0],h*100,f*100]};Xe.hcg.hwb=function(u){const s=u[1]/100,o=u[2]/100,f=s+o*(1-s);return[u[0],(f-s)*100,(1-f)*100]};Xe.hwb.hcg=function(u){const s=u[1]/100,f=1-u[2]/100,h=f-s;let E=0;return h<1&&(E=(f-h)/(1-h)),[u[0],h*100,E*100]};Xe.apple.rgb=function(u){return[u[0]/65535*255,u[1]/65535*255,u[2]/65535*255]};Xe.rgb.apple=function(u){return[u[0]/255*65535,u[1]/255*65535,u[2]/255*65535]};Xe.gray.rgb=function(u){return[u[0]/100*255,u[0]/100*255,u[0]/100*255]};Xe.gray.hsl=function(u){return[0,0,u[0]]};Xe.gray.hsv=Xe.gray.hsl;Xe.gray.hwb=function(u){return[0,100,u[0]]};Xe.gray.cmyk=function(u){return[0,0,0,u[0]]};Xe.gray.lab=function(u){return[u[0],0,0]};Xe.gray.hex=function(u){const s=Math.round(u[0]/100*255)&255,f=((s<<16)+(s<<8)+s).toString(16).toUpperCase();return"000000".slice(f.length)+f};Xe.rgb.gray=function(u){return[(u[0]+u[1]+u[2])/3/255*100]};function $d(){const u={},s=Object.keys(Xe);for(let{length:o}=s,f=0;f<o;f++)u[s[f]]={distance:-1,parent:null};return u}function Wd(u){const s=$d(),o=[u];for(s[u].distance=0;o.length>0;){const f=o.pop(),h=Object.keys(Xe[f]);for(let{length:E}=h,O=0;O<E;O++){const U=h[O],q=s[U];q.distance===-1&&(q.distance=s[f].distance+1,q.parent=f,o.unshift(U))}}return s}function Id(u,s){return function(o){return s(u(o))}}function Pd(u,s){const o=[s[u].parent,u];let f=Xe[s[u].parent][u],h=s[u].parent;for(;s[h].parent;)o.unshift(s[h].parent),f=Id(Xe[s[h].parent][h],f),h=s[h].parent;return f.conversion=o,f}function ev(u){const s=Wd(u),o={},f=Object.keys(s);for(let{length:h}=f,E=0;E<h;E++){const O=f[E];s[O].parent!==null&&(o[O]=Pd(O,s))}return o}const of={},tv=Object.keys(Xe);function nv(u){const s=function(...o){const f=o[0];return f==null?f:(f.length>1&&(o=f),u(o))};return"conversion"in u&&(s.conversion=u.conversion),s}function av(u){const s=function(...o){const f=o[0];if(f==null)return f;f.length>1&&(o=f);const h=u(o);if(typeof h=="object")for(let{length:E}=h,O=0;O<E;O++)h[O]=Math.round(h[O]);return h};return"conversion"in u&&(s.conversion=u.conversion),s}for(const u of tv){of[u]={},Object.defineProperty(of[u],"channels",{value:Xe[u].channels}),Object.defineProperty(of[u],"labels",{value:Xe[u].labels});const s=ev(u),o=Object.keys(s);for(const f of o){const h=s[f];of[u][f]=av(h),of[u][f].raw=nv(h)}}var Co={exports:{}},lv=Co.exports,wm;function rv(){return wm||(wm=1,(function(u,s){(function(o,f){u.exports=f()})(lv,(function(){var o=function(i){return i instanceof Uint8Array||i instanceof Uint16Array||i instanceof Uint32Array||i instanceof Int8Array||i instanceof Int16Array||i instanceof Int32Array||i instanceof Float32Array||i instanceof Float64Array||i instanceof Uint8ClampedArray},f=function(i,y){for(var S=Object.keys(y),Y=0;Y<S.length;++Y)i[S[Y]]=y[S[Y]];return i},h=`
`;function E(i){return typeof atob<"u"?atob(i):"base64:"+i}function O(i){var y=new Error("(regl) "+i);throw console.error(y),y}function U(i,y){i||O(y)}function q(i){return i?": "+i:""}function N(i,y,S){i in y||O("unknown parameter ("+i+")"+q(S)+". possible values: "+Object.keys(y).join())}function $(i,y){o(i)||O("invalid parameter type"+q(y)+". must be a typed array")}function I(i,y){switch(y){case"number":return typeof i=="number";case"object":return typeof i=="object";case"string":return typeof i=="string";case"boolean":return typeof i=="boolean";case"function":return typeof i=="function";case"undefined":return typeof i>"u";case"symbol":return typeof i=="symbol"}}function Pe(i,y,S){I(i,y)||O("invalid parameter type"+q(S)+". expected "+y+", got "+typeof i)}function ut(i,y){i>=0&&(i|0)===i||O("invalid parameter type, ("+i+")"+q(y)+". must be a nonnegative integer")}function et(i,y,S){y.indexOf(i)<0&&O("invalid value"+q(S)+". must be one of: "+y)}var ht=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function qt(i){Object.keys(i).forEach(function(y){ht.indexOf(y)<0&&O('invalid regl constructor argument "'+y+'". must be one of '+ht)})}function zt(i,y){for(i=i+"";i.length<y;)i=" "+i;return i}function je(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function We(i,y){this.number=i,this.line=y,this.errors=[]}function _n(i,y,S){this.file=i,this.line=y,this.message=S}function hn(){var i=new Error,y=(i.stack||i).toString(),S=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(y);if(S)return S[1];var Y=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(y);return Y?Y[1]:"unknown"}function Mn(){var i=new Error,y=(i.stack||i).toString(),S=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(y);if(S)return S[1];var Y=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(y);return Y?Y[1]:"unknown"}function bt(i,y){var S=i.split(`
`),Y=1,ne=0,F={unknown:new je,0:new je};F.unknown.name=F[0].name=y||hn(),F.unknown.lines.push(new We(0,""));for(var J=0;J<S.length;++J){var oe=S[J],fe=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(oe);if(fe)switch(fe[1]){case"line":var be=/(\d+)(\s+\d+)?/.exec(fe[2]);be&&(Y=be[1]|0,be[2]&&(ne=be[2]|0,ne in F||(F[ne]=new je)));break;case"define":var _e=/SHADER_NAME(_B64)?\s+(.*)$/.exec(fe[2]);_e&&(F[ne].name=_e[1]?E(_e[2]):_e[2]);break}F[ne].lines.push(new We(Y++,oe))}return Object.keys(F).forEach(function(ge){var Te=F[ge];Te.lines.forEach(function(se){Te.index[se.number]=se})}),F}function Gn(i){var y=[];return i.split(`
`).forEach(function(S){if(!(S.length<5)){var Y=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(S);Y?y.push(new _n(Y[1]|0,Y[2]|0,Y[3].trim())):S.length>0&&y.push(new _n("unknown",0,S))}}),y}function ta(i,y){y.forEach(function(S){var Y=i[S.file];if(Y){var ne=Y.index[S.line];if(ne){ne.errors.push(S),Y.hasErrors=!0;return}}i.unknown.hasErrors=!0,i.unknown.lines[0].errors.push(S)})}function Ea(i,y,S,Y,ne){if(!i.getShaderParameter(y,i.COMPILE_STATUS)){var F=i.getShaderInfoLog(y),J=Y===i.FRAGMENT_SHADER?"fragment":"vertex";ke(S,"string",J+" shader source must be a string",ne);var oe=bt(S,ne),fe=Gn(F);ta(oe,fe),Object.keys(oe).forEach(function(be){var _e=oe[be];if(!_e.hasErrors)return;var ge=[""],Te=[""];function se(ve,B){ge.push(ve),Te.push(B||"")}se("file number "+be+": "+_e.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),_e.lines.forEach(function(ve){if(ve.errors.length>0){se(zt(ve.number,4)+"|  ","background-color:yellow; font-weight:bold"),se(ve.line+h,"color:red; background-color:yellow; font-weight:bold");var B=0;ve.errors.forEach(function(Q){var de=Q.message,ze=/^\s*'(.*)'\s*:\s*(.*)$/.exec(de);if(ze){var re=ze[1];de=ze[2],re==="assign"&&(re="="),B=Math.max(ve.line.indexOf(re,B),0)}else B=0;se(zt("| ",6)),se(zt("^^^",B+3)+h,"font-weight:bold"),se(zt("| ",6)),se(de+h,"font-weight:bold")}),se(zt("| ",6)+h)}else se(zt(ve.number,4)+"|  "),se(ve.line+h,"color:red")}),typeof document<"u"&&!window.chrome?(Te[0]=ge.join("%c"),console.log.apply(console,Te)):console.log(ge.join(""))}),U.raise("Error compiling "+J+" shader, "+oe[0].name)}}function na(i,y,S,Y,ne){if(!i.getProgramParameter(y,i.LINK_STATUS)){var F=i.getProgramInfoLog(y),J=bt(S,ne),oe=bt(Y,ne),fe='Error linking program with vertex shader, "'+oe[0].name+'", and fragment shader "'+J[0].name+'"';typeof document<"u"?console.log("%c"+fe+h+"%c"+F,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(fe+h+F),U.raise(fe)}}function Tn(i){i._commandRef=hn()}function xa(i,y,S,Y){Tn(i);function ne(fe){return fe?Y.id(fe):0}i._fragId=ne(i.static.frag),i._vertId=ne(i.static.vert);function F(fe,be){Object.keys(be).forEach(function(_e){fe[Y.id(_e)]=!0})}var J=i._uniformSet={};F(J,y.static),F(J,y.dynamic);var oe=i._attributeSet={};F(oe,S.static),F(oe,S.dynamic),i._hasCount="count"in i.static||"count"in i.dynamic||"elements"in i.static||"elements"in i.dynamic}function Gt(i,y){var S=Mn();O(i+" in command "+(y||hn())+(S==="unknown"?"":" called from "+S))}function zn(i,y,S){i||Gt(y,S||hn())}function ue(i,y,S,Y){i in y||Gt("unknown parameter ("+i+")"+q(S)+". possible values: "+Object.keys(y).join(),Y||hn())}function ke(i,y,S,Y){I(i,y)||Gt("invalid parameter type"+q(S)+". expected "+y+", got "+typeof i,Y||hn())}function ct(i){i()}function Bt(i,y,S){i.texture?et(i.texture._texture.internalformat,y,"unsupported texture format for attachment"):et(i.renderbuffer._renderbuffer.format,S,"unsupported renderbuffer format for attachment")}var Lt=33071,G=9728,pe=9984,qe=9985,Ke=9986,gt=9987,Tt=5120,jt=5121,Un=5122,cn=5123,Ir=5124,Qu=5125,Zu=5126,vf=32819,ul=32820,Ku=33635,Ju=34042,Bo=36193,Yn={};Yn[Tt]=Yn[jt]=1,Yn[Un]=Yn[cn]=Yn[Bo]=Yn[Ku]=Yn[vf]=Yn[ul]=2,Yn[Ir]=Yn[Qu]=Yn[Zu]=Yn[Ju]=4;function $u(i,y){return i===ul||i===vf||i===Ku?2:i===Ju?4:Yn[i]*y}function tr(i){return!(i&i-1)&&!!i}function yf(i,y,S){var Y,ne=y.width,F=y.height,J=y.channels;U(ne>0&&ne<=S.maxTextureSize&&F>0&&F<=S.maxTextureSize,"invalid texture shape"),(i.wrapS!==Lt||i.wrapT!==Lt)&&U(tr(ne)&&tr(F),"incompatible wrap mode for texture, both width and height must be power of 2"),y.mipmask===1?ne!==1&&F!==1&&U(i.minFilter!==pe&&i.minFilter!==Ke&&i.minFilter!==qe&&i.minFilter!==gt,"min filter requires mipmap"):(U(tr(ne)&&tr(F),"texture must be a square power of 2 to support mipmapping"),U(y.mipmask===(ne<<1)-1,"missing or incomplete mipmap data")),y.type===Zu&&(S.extensions.indexOf("oes_texture_float_linear")<0&&U(i.minFilter===G&&i.magFilter===G,"filter not supported, must enable oes_texture_float_linear"),U(!i.genMipmaps,"mipmap generation not supported with float textures"));var oe=y.images;for(Y=0;Y<16;++Y)if(oe[Y]){var fe=ne>>Y,be=F>>Y;U(y.mipmask&1<<Y,"missing mipmap data");var _e=oe[Y];if(U(_e.width===fe&&_e.height===be,"invalid shape for mip images"),U(_e.format===y.format&&_e.internalformat===y.internalformat&&_e.type===y.type,"incompatible type for mip image"),!_e.compressed)if(_e.data){var ge=Math.ceil($u(_e.type,J)*fe/_e.unpackAlignment)*_e.unpackAlignment;U(_e.data.byteLength===ge*be,"invalid data for image, buffer size is inconsistent with image format")}else _e.element||_e.copy}else i.genMipmaps||U((y.mipmask&1<<Y)===0,"extra mipmap data");y.compressed&&U(!i.genMipmaps,"mipmap generation for compressed images not supported")}function jo(i,y,S,Y){var ne=i.width,F=i.height,J=i.channels;U(ne>0&&ne<=Y.maxTextureSize&&F>0&&F<=Y.maxTextureSize,"invalid texture shape"),U(ne===F,"cube map must be square"),U(y.wrapS===Lt&&y.wrapT===Lt,"wrap mode not supported by cube map");for(var oe=0;oe<S.length;++oe){var fe=S[oe];U(fe.width===ne&&fe.height===F,"inconsistent cube map face shape"),y.genMipmaps&&(U(!fe.compressed,"can not generate mipmap for compressed textures"),U(fe.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var be=fe.images,_e=0;_e<16;++_e){var ge=be[_e];if(ge){var Te=ne>>_e,se=F>>_e;U(fe.mipmask&1<<_e,"missing mipmap data"),U(ge.width===Te&&ge.height===se,"invalid shape for mip images"),U(ge.format===i.format&&ge.internalformat===i.internalformat&&ge.type===i.type,"incompatible type for mip image"),ge.compressed||(ge.data?U(ge.data.byteLength===Te*se*Math.max($u(ge.type,J),ge.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):ge.element||ge.copy)}}}}var b=f(U,{optional:ct,raise:O,commandRaise:Gt,command:zn,parameter:N,commandParameter:ue,constructor:qt,type:Pe,commandType:ke,isTypedArray:$,nni:ut,oneOf:et,shaderError:Ea,linkError:na,callSite:Mn,saveCommandRef:Tn,saveDrawInfo:xa,framebufferFormat:Bt,guessCommand:hn,texture2D:yf,textureCube:jo}),aa=0,Uo=0,Uc=5,Hc=6;function Ta(i,y){this.id=aa++,this.type=i,this.data=y}function Vc(i){return i.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function nr(i){if(i.length===0)return[];var y=i.charAt(0),S=i.charAt(i.length-1);if(i.length>1&&y===S&&(y==='"'||y==="'"))return['"'+Vc(i.substr(1,i.length-2))+'"'];var Y=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(i);if(Y)return nr(i.substr(0,Y.index)).concat(nr(Y[1])).concat(nr(i.substr(Y.index+Y[0].length)));var ne=i.split(".");if(ne.length===1)return['"'+Vc(i)+'"'];for(var F=[],J=0;J<ne.length;++J)F=F.concat(nr(ne[J]));return F}function kc(i){return"["+nr(i).join("][")+"]"}function Ho(i,y){return new Ta(i,kc(y+""))}function Pr(i){return typeof i=="function"&&!i._reglType||i instanceof Ta}function Fn(i,y){if(typeof i=="function")return new Ta(Uo,i);if(typeof i=="number"||typeof i=="boolean")return new Ta(Uc,i);if(Array.isArray(i))return new Ta(Hc,i.map(function(S,Y){return Fn(S,y+"["+Y+"]")}));if(i instanceof Ta)return i;b(!1,"invalid option type in uniform "+y)}var mn={DynamicVariable:Ta,define:Ho,isDynamic:Pr,unbox:Fn,accessor:kc},Hn={next:typeof requestAnimationFrame=="function"?function(i){return requestAnimationFrame(i)}:function(i){return setTimeout(i,16)},cancel:typeof cancelAnimationFrame=="function"?function(i){return cancelAnimationFrame(i)}:clearTimeout},qc=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function Vo(){var i={"":0},y=[""];return{id:function(S){var Y=i[S];return Y||(Y=i[S]=y.length,y.push(S),Y)},str:function(S){return y[S]}}}function ko(i,y,S){var Y=document.createElement("canvas");f(Y.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),i.appendChild(Y),i===document.body&&(Y.style.position="absolute",f(i.style,{margin:0,padding:0}));function ne(){var oe=window.innerWidth,fe=window.innerHeight;if(i!==document.body){var be=Y.getBoundingClientRect();oe=be.right-be.left,fe=be.bottom-be.top}Y.width=S*oe,Y.height=S*fe}var F;i!==document.body&&typeof ResizeObserver=="function"?(F=new ResizeObserver(function(){setTimeout(ne)}),F.observe(i)):window.addEventListener("resize",ne,!1);function J(){F?F.disconnect():window.removeEventListener("resize",ne),i.removeChild(Y)}return ne(),{canvas:Y,onDestroy:J}}function Wu(i,y){function S(Y){try{return i.getContext(Y,y)}catch{return null}}return S("webgl")||S("experimental-webgl")||S("webgl-experimental")}function Iu(i){return typeof i.nodeName=="string"&&typeof i.appendChild=="function"&&typeof i.getBoundingClientRect=="function"}function Pu(i){return typeof i.drawArrays=="function"||typeof i.drawElements=="function"}function il(i){return typeof i=="string"?i.split():(b(Array.isArray(i),"invalid extension array"),i)}function eu(i){return typeof i=="string"?(b(typeof document<"u","not supported outside of DOM"),document.querySelector(i)):i}function tu(i){var y=i||{},S,Y,ne,F,J={},oe=[],fe=[],be=typeof window>"u"?1:window.devicePixelRatio,_e=!1,ge=function(ve){ve&&b.raise(ve)},Te=function(){};if(typeof y=="string"?(b(typeof document<"u","selector queries only supported in DOM environments"),S=document.querySelector(y),b(S,"invalid query string for element")):typeof y=="object"?Iu(y)?S=y:Pu(y)?(F=y,ne=F.canvas):(b.constructor(y),"gl"in y?F=y.gl:"canvas"in y?ne=eu(y.canvas):"container"in y&&(Y=eu(y.container)),"attributes"in y&&(J=y.attributes,b.type(J,"object","invalid context attributes")),"extensions"in y&&(oe=il(y.extensions)),"optionalExtensions"in y&&(fe=il(y.optionalExtensions)),"onDone"in y&&(b.type(y.onDone,"function","invalid or missing onDone callback"),ge=y.onDone),"profile"in y&&(_e=!!y.profile),"pixelRatio"in y&&(be=+y.pixelRatio,b(be>0,"invalid pixel ratio"))):b.raise("invalid arguments to regl"),S&&(S.nodeName.toLowerCase()==="canvas"?ne=S:Y=S),!F){if(!ne){b(typeof document<"u","must manually specify webgl context outside of DOM environments");var se=ko(Y||document.body,ge,be);if(!se)return null;ne=se.canvas,Te=se.onDestroy}J.premultipliedAlpha===void 0&&(J.premultipliedAlpha=!0),F=Wu(ne,J)}return F?{gl:F,canvas:ne,container:Y,extensions:oe,optionalExtensions:fe,pixelRatio:be,profile:_e,onDone:ge,onDestroy:Te}:(Te(),ge("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function qo(i,y){var S={};function Y(J){b.type(J,"string","extension name must be string");var oe=J.toLowerCase(),fe;try{fe=S[oe]=i.getExtension(oe)}catch{}return!!fe}for(var ne=0;ne<y.extensions.length;++ne){var F=y.extensions[ne];if(!Y(F))return y.onDestroy(),y.onDone('"'+F+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return y.optionalExtensions.forEach(Y),{extensions:S,restore:function(){Object.keys(S).forEach(function(J){if(S[J]&&!Y(J))throw new Error("(regl): error restoring extension "+J)})}}}function Qn(i,y){for(var S=Array(i),Y=0;Y<i;++Y)S[Y]=y(Y);return S}var bf=5120,nu=5121,Xo=5122,Xc=5123,Yc=5124,Fc=5125,pf=5126;function gf(i){for(var y=16;y<=1<<28;y*=16)if(i<=y)return y;return 0}function _f(i){var y,S;return y=(i>65535)<<4,i>>>=y,S=(i>255)<<3,i>>>=S,y|=S,S=(i>15)<<2,i>>>=S,y|=S,S=(i>3)<<1,i>>>=S,y|=S,y|i>>1}function Sf(){var i=Qn(8,function(){return[]});function y(F){var J=gf(F),oe=i[_f(J)>>2];return oe.length>0?oe.pop():new ArrayBuffer(J)}function S(F){i[_f(F.byteLength)>>2].push(F)}function Y(F,J){var oe=null;switch(F){case bf:oe=new Int8Array(y(J),0,J);break;case nu:oe=new Uint8Array(y(J),0,J);break;case Xo:oe=new Int16Array(y(2*J),0,J);break;case Xc:oe=new Uint16Array(y(2*J),0,J);break;case Yc:oe=new Int32Array(y(4*J),0,J);break;case Fc:oe=new Uint32Array(y(4*J),0,J);break;case pf:oe=new Float32Array(y(4*J),0,J);break;default:return null}return oe.length!==J?oe.subarray(0,J):oe}function ne(F){S(F.buffer)}return{alloc:y,free:S,allocType:Y,freeType:ne}}var kt=Sf();kt.zero=Sf();var Dn=3408,Zn=3410,ar=3411,Ef=3412,Yo=3413,Fo=3414,Qc=3415,au=33901,xf=33902,lr=3379,rr=3386,lu=34921,ur=36347,An=36348,Zc=35661,Kc=35660,Sl=34930,ir=36349,Qo=34076,Jc=34024,$c=7936,Zo=7937,ei=7938,ti=35724,ka=34047,fa=36063,Wc=34852,ni=3553,ai=34067,Ic=34069,li=33984,ru=6408,Kn=5126,ri=5121,ui=36160,Tf=36053,fr=36064,Pc=16384,es=function(i,y){var S=1;y.ext_texture_filter_anisotropic&&(S=i.getParameter(ka));var Y=1,ne=1;y.webgl_draw_buffers&&(Y=i.getParameter(Wc),ne=i.getParameter(fa));var F=!!y.oes_texture_float;if(F){var J=i.createTexture();i.bindTexture(ni,J),i.texImage2D(ni,0,ru,1,1,0,ru,Kn,null);var oe=i.createFramebuffer();if(i.bindFramebuffer(ui,oe),i.framebufferTexture2D(ui,fr,ni,J,0),i.bindTexture(ni,null),i.checkFramebufferStatus(ui)!==Tf)F=!1;else{i.viewport(0,0,1,1),i.clearColor(1,0,0,1),i.clear(Pc);var fe=kt.allocType(Kn,4);i.readPixels(0,0,1,1,ru,Kn,fe),i.getError()?F=!1:(i.deleteFramebuffer(oe),i.deleteTexture(J),F=fe[0]===1),kt.freeType(fe)}}var be=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),_e=!0;if(!be){var ge=i.createTexture(),Te=kt.allocType(ri,36);i.activeTexture(li),i.bindTexture(ai,ge),i.texImage2D(Ic,0,ru,3,3,0,ru,ri,Te),kt.freeType(Te),i.bindTexture(ai,null),i.deleteTexture(ge),_e=!i.getError()}return{colorBits:[i.getParameter(Zn),i.getParameter(ar),i.getParameter(Ef),i.getParameter(Yo)],depthBits:i.getParameter(Fo),stencilBits:i.getParameter(Qc),subpixelBits:i.getParameter(Dn),extensions:Object.keys(y).filter(function(se){return!!y[se]}),maxAnisotropic:S,maxDrawbuffers:Y,maxColorAttachments:ne,pointSizeDims:i.getParameter(au),lineWidthDims:i.getParameter(xf),maxViewportDims:i.getParameter(rr),maxCombinedTextureUnits:i.getParameter(Zc),maxCubeMapSize:i.getParameter(Qo),maxRenderbufferSize:i.getParameter(Jc),maxTextureUnits:i.getParameter(Sl),maxTextureSize:i.getParameter(lr),maxAttributes:i.getParameter(lu),maxVertexUniforms:i.getParameter(ur),maxVertexTextureUnits:i.getParameter(Kc),maxVaryingVectors:i.getParameter(An),maxFragmentUniforms:i.getParameter(ir),glsl:i.getParameter(ti),renderer:i.getParameter(Zo),vendor:i.getParameter($c),version:i.getParameter(ei),readFloat:F,npotTextureCube:_e}};function Bn(i){return!!i&&typeof i=="object"&&Array.isArray(i.shape)&&Array.isArray(i.stride)&&typeof i.offset=="number"&&i.shape.length===i.stride.length&&(Array.isArray(i.data)||o(i.data))}var la=function(i){return Object.keys(i).map(function(y){return i[y]})},uu={shape:qa,flatten:ii};function ts(i,y,S){for(var Y=0;Y<y;++Y)S[Y]=i[Y]}function Af(i,y,S,Y){for(var ne=0,F=0;F<y;++F)for(var J=i[F],oe=0;oe<S;++oe)Y[ne++]=J[oe]}function ns(i,y,S,Y,ne,F){for(var J=F,oe=0;oe<y;++oe)for(var fe=i[oe],be=0;be<S;++be)for(var _e=fe[be],ge=0;ge<Y;++ge)ne[J++]=_e[ge]}function as(i,y,S,Y,ne){for(var F=1,J=S+1;J<y.length;++J)F*=y[J];var oe=y[S];if(y.length-S===4){var fe=y[S+1],be=y[S+2],_e=y[S+3];for(J=0;J<oe;++J)ns(i[J],fe,be,_e,Y,ne),ne+=F}else for(J=0;J<oe;++J)as(i[J],y,S+1,Y,ne),ne+=F}function ii(i,y,S,Y){var ne=1;if(y.length)for(var F=0;F<y.length;++F)ne*=y[F];else ne=0;var J=Y||kt.allocType(S,ne);switch(y.length){case 0:break;case 1:ts(i,y[0],J);break;case 2:Af(i,y[0],y[1],J);break;case 3:ns(i,y[0],y[1],y[2],J,0);break;default:as(i,y,0,J,0)}return J}function qa(i){for(var y=[],S=i;S.length;S=S[0])y.push(S.length);return y}var iu={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Of=5120,cr=5122,sr=5124,ls=5121,Cf=5123,rs=5125,fu=5126,Xa=5126,Ya={int8:Of,int16:cr,int32:sr,uint8:ls,uint16:Cf,uint32:rs,float:fu,float32:Xa},cu=35048,fl=35040,or={dynamic:cu,stream:fl,static:35044},hr=uu.flatten,Rf=uu.shape,su=35044,fi=35040,ci=5121,jn=5126,Jn=[];Jn[5120]=1,Jn[5122]=2,Jn[5124]=4,Jn[5121]=1,Jn[5123]=2,Jn[5125]=4,Jn[5126]=4;function El(i){return iu[Object.prototype.toString.call(i)]|0}function mr(i,y){for(var S=0;S<y.length;++S)i[S]=y[S]}function us(i,y,S,Y,ne,F,J){for(var oe=0,fe=0;fe<S;++fe)for(var be=0;be<Y;++be)i[oe++]=y[ne*fe+F*be+J]}function Mf(i,y,S,Y){var ne=0,F={};function J(B){this.id=ne++,this.buffer=i.createBuffer(),this.type=B,this.usage=su,this.byteLength=0,this.dimension=1,this.dtype=ci,this.persistentData=null,S.profile&&(this.stats={size:0})}J.prototype.bind=function(){i.bindBuffer(this.type,this.buffer)},J.prototype.destroy=function(){Te(this)};var oe=[];function fe(B,Q){var de=oe.pop();return de||(de=new J(B)),de.bind(),ge(de,Q,fi,0,1,!1),de}function be(B){oe.push(B)}function _e(B,Q,de){B.byteLength=Q.byteLength,i.bufferData(B.type,Q,de)}function ge(B,Q,de,ze,re,De){var Re;if(B.usage=de,Array.isArray(Q)){if(B.dtype=ze||jn,Q.length>0){var Ye;if(Array.isArray(Q[0])){Re=Rf(Q);for(var ee=1,te=1;te<Re.length;++te)ee*=Re[te];B.dimension=ee,Ye=hr(Q,Re,B.dtype),_e(B,Ye,de),De?B.persistentData=Ye:kt.freeType(Ye)}else if(typeof Q[0]=="number"){B.dimension=re;var He=kt.allocType(B.dtype,Q.length);mr(He,Q),_e(B,He,de),De?B.persistentData=He:kt.freeType(He)}else o(Q[0])?(B.dimension=Q[0].length,B.dtype=ze||El(Q[0])||jn,Ye=hr(Q,[Q.length,Q[0].length],B.dtype),_e(B,Ye,de),De?B.persistentData=Ye:kt.freeType(Ye)):b.raise("invalid buffer data")}}else if(o(Q))B.dtype=ze||El(Q),B.dimension=re,_e(B,Q,de),De&&(B.persistentData=new Uint8Array(new Uint8Array(Q.buffer)));else if(Bn(Q)){Re=Q.shape;var Ae=Q.stride,ce=Q.offset,Oe=0,Me=0,nt=0,Je=0;Re.length===1?(Oe=Re[0],Me=1,nt=Ae[0],Je=0):Re.length===2?(Oe=Re[0],Me=Re[1],nt=Ae[0],Je=Ae[1]):b.raise("invalid shape"),B.dtype=ze||El(Q.data)||jn,B.dimension=Me;var he=kt.allocType(B.dtype,Oe*Me);us(he,Q.data,Oe,Me,nt,Je,ce),_e(B,he,de),De?B.persistentData=he:kt.freeType(he)}else Q instanceof ArrayBuffer?(B.dtype=ci,B.dimension=re,_e(B,Q,de),De&&(B.persistentData=new Uint8Array(new Uint8Array(Q)))):b.raise("invalid buffer data")}function Te(B){y.bufferCount--,Y(B);var Q=B.buffer;b(Q,"buffer must not be deleted already"),i.deleteBuffer(Q),B.buffer=null,delete F[B.id]}function se(B,Q,de,ze){y.bufferCount++;var re=new J(Q);F[re.id]=re;function De(ee){var te=su,He=null,Ae=0,ce=0,Oe=1;return Array.isArray(ee)||o(ee)||Bn(ee)||ee instanceof ArrayBuffer?He=ee:typeof ee=="number"?Ae=ee|0:ee&&(b.type(ee,"object","buffer arguments must be an object, a number or an array"),"data"in ee&&(b(He===null||Array.isArray(He)||o(He)||Bn(He),"invalid data for buffer"),He=ee.data),"usage"in ee&&(b.parameter(ee.usage,or,"invalid buffer usage"),te=or[ee.usage]),"type"in ee&&(b.parameter(ee.type,Ya,"invalid buffer type"),ce=Ya[ee.type]),"dimension"in ee&&(b.type(ee.dimension,"number","invalid dimension"),Oe=ee.dimension|0),"length"in ee&&(b.nni(Ae,"buffer length must be a nonnegative integer"),Ae=ee.length|0)),re.bind(),He?ge(re,He,te,ce,Oe,ze):(Ae&&i.bufferData(re.type,Ae,te),re.dtype=ce||ci,re.usage=te,re.dimension=Oe,re.byteLength=Ae),S.profile&&(re.stats.size=re.byteLength*Jn[re.dtype]),De}function Re(ee,te){b(te+ee.byteLength<=re.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+ee.byteLength+" starting from offset "+te+" to a buffer of size "+re.byteLength),i.bufferSubData(re.type,te,ee)}function Ye(ee,te){var He=(te||0)|0,Ae;if(re.bind(),o(ee)||ee instanceof ArrayBuffer)Re(ee,He);else if(Array.isArray(ee)){if(ee.length>0)if(typeof ee[0]=="number"){var ce=kt.allocType(re.dtype,ee.length);mr(ce,ee),Re(ce,He),kt.freeType(ce)}else if(Array.isArray(ee[0])||o(ee[0])){Ae=Rf(ee);var Oe=hr(ee,Ae,re.dtype);Re(Oe,He),kt.freeType(Oe)}else b.raise("invalid buffer data")}else if(Bn(ee)){Ae=ee.shape;var Me=ee.stride,nt=0,Je=0,he=0,we=0;Ae.length===1?(nt=Ae[0],Je=1,he=Me[0],we=0):Ae.length===2?(nt=Ae[0],Je=Ae[1],he=Me[0],we=Me[1]):b.raise("invalid shape");var $e=Array.isArray(ee.data)?re.dtype:El(ee.data),at=kt.allocType($e,nt*Je);us(at,ee.data,nt,Je,he,we,ee.offset),Re(at,He),kt.freeType(at)}else b.raise("invalid data for buffer subdata");return De}return de||De(B),De._reglType="buffer",De._buffer=re,De.subdata=Ye,S.profile&&(De.stats=re.stats),De.destroy=function(){Te(re)},De}function ve(){la(F).forEach(function(B){B.buffer=i.createBuffer(),i.bindBuffer(B.type,B.buffer),i.bufferData(B.type,B.persistentData||B.byteLength,B.usage)})}return S.profile&&(y.getTotalBufferSize=function(){var B=0;return Object.keys(F).forEach(function(Q){B+=F[Q].stats.size}),B}),{create:se,createStream:fe,destroyStream:be,clear:function(){la(F).forEach(Te),oe.forEach(Te)},getBuffer:function(B){return B&&B._buffer instanceof J?B._buffer:null},restore:ve,_initBuffer:ge}}var zf=0,ou=0,si=1,is=1,Ko=4,Jo=4,cl={points:zf,point:ou,lines:si,line:is,triangles:Ko,triangle:Jo,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Df=0,$o=1,hu=4,Wo=5120,dr=5121,fs=5122,xl=5123,cs=5124,Tl=5125,wf=34963,Io=35040,Lf=35044;function Po(i,y,S,Y){var ne={},F=0,J={uint8:dr,uint16:xl};y.oes_element_index_uint&&(J.uint32=Tl);function oe(ve){this.id=F++,ne[this.id]=this,this.buffer=ve,this.primType=hu,this.vertCount=0,this.type=0}oe.prototype.bind=function(){this.buffer.bind()};var fe=[];function be(ve){var B=fe.pop();return B||(B=new oe(S.create(null,wf,!0,!1)._buffer)),ge(B,ve,Io,-1,-1,0,0),B}function _e(ve){fe.push(ve)}function ge(ve,B,Q,de,ze,re,De){ve.buffer.bind();var Re;if(B){var Ye=De;!De&&(!o(B)||Bn(B)&&!o(B.data))&&(Ye=y.oes_element_index_uint?Tl:xl),S._initBuffer(ve.buffer,B,Q,Ye,3)}else i.bufferData(wf,re,Q),ve.buffer.dtype=Re||dr,ve.buffer.usage=Q,ve.buffer.dimension=3,ve.buffer.byteLength=re;if(Re=De,!De){switch(ve.buffer.dtype){case dr:case Wo:Re=dr;break;case xl:case fs:Re=xl;break;case Tl:case cs:Re=Tl;break;default:b.raise("unsupported type for element array")}ve.buffer.dtype=Re}ve.type=Re,b(Re!==Tl||!!y.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var ee=ze;ee<0&&(ee=ve.buffer.byteLength,Re===xl?ee>>=1:Re===Tl&&(ee>>=2)),ve.vertCount=ee;var te=de;if(de<0){te=hu;var He=ve.buffer.dimension;He===1&&(te=Df),He===2&&(te=$o),He===3&&(te=hu)}ve.primType=te}function Te(ve){Y.elementsCount--,b(ve.buffer!==null,"must not double destroy elements"),delete ne[ve.id],ve.buffer.destroy(),ve.buffer=null}function se(ve,B){var Q=S.create(null,wf,!0),de=new oe(Q._buffer);Y.elementsCount++;function ze(re){if(!re)Q(),de.primType=hu,de.vertCount=0,de.type=dr;else if(typeof re=="number")Q(re),de.primType=hu,de.vertCount=re|0,de.type=dr;else{var De=null,Re=Lf,Ye=-1,ee=-1,te=0,He=0;Array.isArray(re)||o(re)||Bn(re)?De=re:(b.type(re,"object","invalid arguments for elements"),"data"in re&&(De=re.data,b(Array.isArray(De)||o(De)||Bn(De),"invalid data for element buffer")),"usage"in re&&(b.parameter(re.usage,or,"invalid element buffer usage"),Re=or[re.usage]),"primitive"in re&&(b.parameter(re.primitive,cl,"invalid element buffer primitive"),Ye=cl[re.primitive]),"count"in re&&(b(typeof re.count=="number"&&re.count>=0,"invalid vertex count for elements"),ee=re.count|0),"type"in re&&(b.parameter(re.type,J,"invalid buffer type"),He=J[re.type]),"length"in re?te=re.length|0:(te=ee,He===xl||He===fs?te*=2:(He===Tl||He===cs)&&(te*=4))),ge(de,De,Re,Ye,ee,te,He)}return ze}return ze(ve),ze._reglType="elements",ze._elements=de,ze.subdata=function(re,De){return Q.subdata(re,De),ze},ze.destroy=function(){Te(de)},ze}return{create:se,createStream:be,destroyStream:_e,getElements:function(ve){return typeof ve=="function"&&ve._elements instanceof oe?ve._elements:null},clear:function(){la(ne).forEach(Te)}}}var ss=new Float32Array(1),e0=new Uint32Array(ss.buffer),os=5123;function hs(i){for(var y=kt.allocType(os,i.length),S=0;S<i.length;++S)if(isNaN(i[S]))y[S]=65535;else if(i[S]===1/0)y[S]=31744;else if(i[S]===-1/0)y[S]=64512;else{ss[0]=i[S];var Y=e0[0],ne=Y>>>31<<15,F=(Y<<1>>>24)-127,J=Y>>13&1023;if(F<-24)y[S]=ne;else if(F<-14){var oe=-14-F;y[S]=ne+(J+1024>>oe)}else F>15?y[S]=ne+31744:y[S]=ne+(F+15<<10)+J}return y}function en(i){return Array.isArray(i)||o(i)}var ms=function(i){return!(i&i-1)&&!!i},t0=34467,Aa=3553,Nf=34067,oi=34069,Al=6408,Gf=6406,vr=6407,Fa=6409,hi=6410,Bf=32854,mi=32855,jf=36194,ds=32819,vs=32820,yr=33635,n0=34042,Uf=6402,di=34041,vi=35904,yi=35906,Oa=36193,Ol=33776,Hf=33777,br=33778,bi=33779,Vf=35986,pi=35987,gi=34798,kf=35840,qf=35841,Xf=35842,ys=35843,bs=36196,pr=5121,Yf=5123,Ff=5125,wn=5126,mu=10242,ps=10243,gs=10497,_i=33071,_s=33648,Qf=10240,a0=10241,sl=9728,Zf=9729,Cl=9984,Si=9985,Kf=9986,Qa=9987,gr=33170,_r=4352,Ss=4353,Rl=4354,Es=34046,xs=3317,Ts=37440,l0=37441,r0=37443,As=37444,Sr=33984,Os=[Cl,Kf,Si,Qa],Er=[0,Fa,hi,vr,Al],ln={};ln[Fa]=ln[Gf]=ln[Uf]=1,ln[di]=ln[hi]=2,ln[vr]=ln[vi]=3,ln[Al]=ln[yi]=4;function Za(i){return"[object "+i+"]"}var ra=Za("HTMLCanvasElement"),Ml=Za("OffscreenCanvas"),Ei=Za("CanvasRenderingContext2D"),du=Za("ImageBitmap"),vu=Za("HTMLImageElement"),xi=Za("HTMLVideoElement"),zl=Object.keys(iu).concat([ra,Ml,Ei,du,vu,xi]),Dl=[];Dl[pr]=1,Dl[wn]=4,Dl[Oa]=2,Dl[Yf]=2,Dl[Ff]=4;var sn=[];sn[Bf]=2,sn[mi]=2,sn[jf]=2,sn[di]=4,sn[Ol]=.5,sn[Hf]=.5,sn[br]=1,sn[bi]=1,sn[Vf]=.5,sn[pi]=1,sn[gi]=1,sn[kf]=.5,sn[qf]=.25,sn[Xf]=.5,sn[ys]=.25,sn[bs]=.5;function wl(i){return Array.isArray(i)&&(i.length===0||typeof i[0]=="number")}function Cs(i){if(!Array.isArray(i))return!1;var y=i.length;return!(y===0||!en(i[0]))}function Sn(i){return Object.prototype.toString.call(i)}function Ti(i){return Sn(i)===ra}function Ca(i){return Sn(i)===Ml}function Rs(i){return Sn(i)===Ei}function Ai(i){return Sn(i)===du}function Ll(i){return Sn(i)===vu}function Jf(i){return Sn(i)===xi}function Oi(i){if(!i)return!1;var y=Sn(i);return zl.indexOf(y)>=0?!0:wl(i)||Cs(i)||Bn(i)}function Ci(i){return iu[Object.prototype.toString.call(i)]|0}function Ms(i,y){var S=y.length;switch(i.type){case pr:case Yf:case Ff:case wn:var Y=kt.allocType(i.type,S);Y.set(y),i.data=Y;break;case Oa:i.data=hs(y);break;default:b.raise("unsupported texture type, must specify a typed array")}}function ua(i,y){return kt.allocType(i.type===Oa?wn:i.type,y)}function Nl(i,y){i.type===Oa?(i.data=hs(y),kt.freeType(y)):i.data=y}function xr(i,y,S,Y,ne,F){for(var J=i.width,oe=i.height,fe=i.channels,be=J*oe*fe,_e=ua(i,be),ge=0,Te=0;Te<oe;++Te)for(var se=0;se<J;++se)for(var ve=0;ve<fe;++ve)_e[ge++]=y[S*se+Y*Te+ne*ve+F];Nl(i,_e)}function Gl(i,y,S,Y,ne,F){var J;if(typeof sn[i]<"u"?J=sn[i]:J=ln[i]*Dl[y],F&&(J*=6),ne){for(var oe=0,fe=S;fe>=1;)oe+=J*fe*fe,fe/=2;return oe}else return J*S*Y}function yu(i,y,S,Y,ne,F,J){var oe={"don't care":_r,"dont care":_r,nice:Rl,fast:Ss},fe={repeat:gs,clamp:_i,mirror:_s},be={nearest:sl,linear:Zf},_e=f({mipmap:Qa,"nearest mipmap nearest":Cl,"linear mipmap nearest":Si,"nearest mipmap linear":Kf,"linear mipmap linear":Qa},be),ge={none:0,browser:As},Te={uint8:pr,rgba4:ds,rgb565:yr,"rgb5 a1":vs},se={alpha:Gf,luminance:Fa,"luminance alpha":hi,rgb:vr,rgba:Al,rgba4:Bf,"rgb5 a1":mi,rgb565:jf},ve={};y.ext_srgb&&(se.srgb=vi,se.srgba=yi),y.oes_texture_float&&(Te.float32=Te.float=wn),y.oes_texture_half_float&&(Te.float16=Te["half float"]=Oa),y.webgl_depth_texture&&(f(se,{depth:Uf,"depth stencil":di}),f(Te,{uint16:Yf,uint32:Ff,"depth stencil":n0})),y.webgl_compressed_texture_s3tc&&f(ve,{"rgb s3tc dxt1":Ol,"rgba s3tc dxt1":Hf,"rgba s3tc dxt3":br,"rgba s3tc dxt5":bi}),y.webgl_compressed_texture_atc&&f(ve,{"rgb atc":Vf,"rgba atc explicit alpha":pi,"rgba atc interpolated alpha":gi}),y.webgl_compressed_texture_pvrtc&&f(ve,{"rgb pvrtc 4bppv1":kf,"rgb pvrtc 2bppv1":qf,"rgba pvrtc 4bppv1":Xf,"rgba pvrtc 2bppv1":ys}),y.webgl_compressed_texture_etc1&&(ve["rgb etc1"]=bs);var B=Array.prototype.slice.call(i.getParameter(t0));Object.keys(ve).forEach(function(g){var k=ve[g];B.indexOf(k)>=0&&(se[g]=k)});var Q=Object.keys(se);S.textureFormats=Q;var de=[];Object.keys(se).forEach(function(g){var k=se[g];de[k]=g});var ze=[];Object.keys(Te).forEach(function(g){var k=Te[g];ze[k]=g});var re=[];Object.keys(be).forEach(function(g){var k=be[g];re[k]=g});var De=[];Object.keys(_e).forEach(function(g){var k=_e[g];De[k]=g});var Re=[];Object.keys(fe).forEach(function(g){var k=fe[g];Re[k]=g});var Ye=Q.reduce(function(g,k){var H=se[k];return H===Fa||H===Gf||H===Fa||H===hi||H===Uf||H===di||y.ext_srgb&&(H===vi||H===yi)?g[H]=H:H===mi||k.indexOf("rgba")>=0?g[H]=Al:g[H]=vr,g},{});function ee(){this.internalformat=Al,this.format=Al,this.type=pr,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=As,this.width=0,this.height=0,this.channels=0}function te(g,k){g.internalformat=k.internalformat,g.format=k.format,g.type=k.type,g.compressed=k.compressed,g.premultiplyAlpha=k.premultiplyAlpha,g.flipY=k.flipY,g.unpackAlignment=k.unpackAlignment,g.colorSpace=k.colorSpace,g.width=k.width,g.height=k.height,g.channels=k.channels}function He(g,k){if(!(typeof k!="object"||!k)){if("premultiplyAlpha"in k&&(b.type(k.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),g.premultiplyAlpha=k.premultiplyAlpha),"flipY"in k&&(b.type(k.flipY,"boolean","invalid texture flip"),g.flipY=k.flipY),"alignment"in k&&(b.oneOf(k.alignment,[1,2,4,8],"invalid texture unpack alignment"),g.unpackAlignment=k.alignment),"colorSpace"in k&&(b.parameter(k.colorSpace,ge,"invalid colorSpace"),g.colorSpace=ge[k.colorSpace]),"type"in k){var H=k.type;b(y.oes_texture_float||!(H==="float"||H==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),b(y.oes_texture_half_float||!(H==="half float"||H==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),b(y.webgl_depth_texture||!(H==="uint16"||H==="uint32"||H==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),b.parameter(H,Te,"invalid texture type"),g.type=Te[H]}var Be=g.width,mt=g.height,p=g.channels,m=!1;"shape"in k?(b(Array.isArray(k.shape)&&k.shape.length>=2,"shape must be an array"),Be=k.shape[0],mt=k.shape[1],k.shape.length===3&&(p=k.shape[2],b(p>0&&p<=4,"invalid number of channels"),m=!0),b(Be>=0&&Be<=S.maxTextureSize,"invalid width"),b(mt>=0&&mt<=S.maxTextureSize,"invalid height")):("radius"in k&&(Be=mt=k.radius,b(Be>=0&&Be<=S.maxTextureSize,"invalid radius")),"width"in k&&(Be=k.width,b(Be>=0&&Be<=S.maxTextureSize,"invalid width")),"height"in k&&(mt=k.height,b(mt>=0&&mt<=S.maxTextureSize,"invalid height")),"channels"in k&&(p=k.channels,b(p>0&&p<=4,"invalid number of channels"),m=!0)),g.width=Be|0,g.height=mt|0,g.channels=p|0;var T=!1;if("format"in k){var M=k.format;b(y.webgl_depth_texture||!(M==="depth"||M==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),b.parameter(M,se,"invalid texture format");var D=g.internalformat=se[M];g.format=Ye[D],M in Te&&("type"in k||(g.type=Te[M])),M in ve&&(g.compressed=!0),T=!0}!m&&T?g.channels=ln[g.format]:m&&!T?g.channels!==Er[g.format]&&(g.format=g.internalformat=Er[g.channels]):T&&m&&b(g.channels===ln[g.format],"number of channels inconsistent with specified format")}}function Ae(g){i.pixelStorei(Ts,g.flipY),i.pixelStorei(l0,g.premultiplyAlpha),i.pixelStorei(r0,g.colorSpace),i.pixelStorei(xs,g.unpackAlignment)}function ce(){ee.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Oe(g,k){var H=null;if(Oi(k)?H=k:k&&(b.type(k,"object","invalid pixel data type"),He(g,k),"x"in k&&(g.xOffset=k.x|0),"y"in k&&(g.yOffset=k.y|0),Oi(k.data)&&(H=k.data)),b(!g.compressed||H instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),k.copy){b(!H,"can not specify copy and data field for the same texture");var Be=ne.viewportWidth,mt=ne.viewportHeight;g.width=g.width||Be-g.xOffset,g.height=g.height||mt-g.yOffset,g.needsCopy=!0,b(g.xOffset>=0&&g.xOffset<Be&&g.yOffset>=0&&g.yOffset<mt&&g.width>0&&g.width<=Be&&g.height>0&&g.height<=mt,"copy texture read out of bounds")}else if(!H)g.width=g.width||1,g.height=g.height||1,g.channels=g.channels||4;else if(o(H))g.channels=g.channels||4,g.data=H,!("type"in k)&&g.type===pr&&(g.type=Ci(H));else if(wl(H))g.channels=g.channels||4,Ms(g,H),g.alignment=1,g.needsFree=!0;else if(Bn(H)){var p=H.data;!Array.isArray(p)&&g.type===pr&&(g.type=Ci(p));var m=H.shape,T=H.stride,M,D,C,A,z,v;m.length===3?(C=m[2],v=T[2]):(b(m.length===2,"invalid ndarray pixel data, must be 2 or 3D"),C=1,v=1),M=m[0],D=m[1],A=T[0],z=T[1],g.alignment=1,g.width=M,g.height=D,g.channels=C,g.format=g.internalformat=Er[C],g.needsFree=!0,xr(g,p,A,z,v,H.offset)}else if(Ti(H)||Ca(H)||Rs(H))Ti(H)||Ca(H)?g.element=H:g.element=H.canvas,g.width=g.element.width,g.height=g.element.height,g.channels=4;else if(Ai(H))g.element=H,g.width=H.width,g.height=H.height,g.channels=4;else if(Ll(H))g.element=H,g.width=H.naturalWidth,g.height=H.naturalHeight,g.channels=4;else if(Jf(H))g.element=H,g.width=H.videoWidth,g.height=H.videoHeight,g.channels=4;else if(Cs(H)){var x=g.width||H[0].length,_=g.height||H.length,j=g.channels;en(H[0][0])?j=j||H[0][0].length:j=j||1;for(var V=uu.shape(H),ae=1,xe=0;xe<V.length;++xe)ae*=V[xe];var Ee=ua(g,ae);uu.flatten(H,V,"",Ee),Nl(g,Ee),g.alignment=1,g.width=x,g.height=_,g.channels=j,g.format=g.internalformat=Er[j],g.needsFree=!0}g.type===wn?b(S.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):g.type===Oa&&b(S.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function Me(g,k,H){var Be=g.element,mt=g.data,p=g.internalformat,m=g.format,T=g.type,M=g.width,D=g.height;Ae(g),Be?i.texImage2D(k,H,m,m,T,Be):g.compressed?i.compressedTexImage2D(k,H,p,M,D,0,mt):g.needsCopy?(Y(),i.copyTexImage2D(k,H,m,g.xOffset,g.yOffset,M,D,0)):i.texImage2D(k,H,m,M,D,0,m,T,mt||null)}function nt(g,k,H,Be,mt){var p=g.element,m=g.data,T=g.internalformat,M=g.format,D=g.type,C=g.width,A=g.height;Ae(g),p?i.texSubImage2D(k,mt,H,Be,M,D,p):g.compressed?i.compressedTexSubImage2D(k,mt,H,Be,T,C,A,m):g.needsCopy?(Y(),i.copyTexSubImage2D(k,mt,H,Be,g.xOffset,g.yOffset,C,A)):i.texSubImage2D(k,mt,H,Be,C,A,M,D,m)}var Je=[];function he(){return Je.pop()||new ce}function we(g){g.needsFree&&kt.freeType(g.data),ce.call(g),Je.push(g)}function $e(){ee.call(this),this.genMipmaps=!1,this.mipmapHint=_r,this.mipmask=0,this.images=Array(16)}function at(g,k,H){var Be=g.images[0]=he();g.mipmask=1,Be.width=g.width=k,Be.height=g.height=H,Be.channels=g.channels=4}function st(g,k){var H=null;if(Oi(k))H=g.images[0]=he(),te(H,g),Oe(H,k),g.mipmask=1;else if(He(g,k),Array.isArray(k.mipmap))for(var Be=k.mipmap,mt=0;mt<Be.length;++mt)H=g.images[mt]=he(),te(H,g),H.width>>=mt,H.height>>=mt,Oe(H,Be[mt]),g.mipmask|=1<<mt;else H=g.images[0]=he(),te(H,g),Oe(H,k),g.mipmask=1;te(g,g.images[0]),g.compressed&&(g.internalformat===Ol||g.internalformat===Hf||g.internalformat===br||g.internalformat===bi)&&b(g.width%4===0&&g.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function wt(g,k){for(var H=g.images,Be=0;Be<H.length;++Be){if(!H[Be])return;Me(H[Be],k,Be)}}var Qt=[];function vt(){var g=Qt.pop()||new $e;ee.call(g),g.mipmask=0;for(var k=0;k<16;++k)g.images[k]=null;return g}function Wt(g){for(var k=g.images,H=0;H<k.length;++H)k[H]&&we(k[H]),k[H]=null;Qt.push(g)}function At(){this.minFilter=sl,this.magFilter=sl,this.wrapS=_i,this.wrapT=_i,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=_r}function tn(g,k){if("min"in k){var H=k.min;b.parameter(H,_e),g.minFilter=_e[H],Os.indexOf(g.minFilter)>=0&&!("faces"in k)&&(g.genMipmaps=!0)}if("mag"in k){var Be=k.mag;b.parameter(Be,be),g.magFilter=be[Be]}var mt=g.wrapS,p=g.wrapT;if("wrap"in k){var m=k.wrap;typeof m=="string"?(b.parameter(m,fe),mt=p=fe[m]):Array.isArray(m)&&(b.parameter(m[0],fe),b.parameter(m[1],fe),mt=fe[m[0]],p=fe[m[1]])}else{if("wrapS"in k){var T=k.wrapS;b.parameter(T,fe),mt=fe[T]}if("wrapT"in k){var M=k.wrapT;b.parameter(M,fe),p=fe[M]}}if(g.wrapS=mt,g.wrapT=p,"anisotropic"in k){var D=k.anisotropic;b(typeof D=="number"&&D>=1&&D<=S.maxAnisotropic,"aniso samples must be between 1 and "),g.anisotropic=k.anisotropic}if("mipmap"in k){var C=!1;switch(typeof k.mipmap){case"string":b.parameter(k.mipmap,oe,"invalid mipmap hint"),g.mipmapHint=oe[k.mipmap],g.genMipmaps=!0,C=!0;break;case"boolean":C=g.genMipmaps=k.mipmap;break;case"object":b(Array.isArray(k.mipmap),"invalid mipmap type"),g.genMipmaps=!1,C=!0;break;default:b.raise("invalid mipmap type")}C&&!("min"in k)&&(g.minFilter=Cl)}}function nn(g,k){i.texParameteri(k,a0,g.minFilter),i.texParameteri(k,Qf,g.magFilter),i.texParameteri(k,mu,g.wrapS),i.texParameteri(k,ps,g.wrapT),y.ext_texture_filter_anisotropic&&i.texParameteri(k,Es,g.anisotropic),g.genMipmaps&&(i.hint(gr,g.mipmapHint),i.generateMipmap(k))}var fn=0,on={},pn=S.maxTextureUnits,Zt=Array(pn).map(function(){return null});function ft(g){ee.call(this),this.mipmask=0,this.internalformat=Al,this.id=fn++,this.refCount=1,this.target=g,this.texture=i.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new At,J.profile&&(this.stats={size:0})}function Kt(g){i.activeTexture(Sr),i.bindTexture(g.target,g.texture)}function lt(){var g=Zt[0];g?i.bindTexture(g.target,g.texture):i.bindTexture(Aa,null)}function Fe(g){var k=g.texture;b(k,"must not double destroy texture");var H=g.unit,Be=g.target;H>=0&&(i.activeTexture(Sr+H),i.bindTexture(Be,null),Zt[H]=null),i.deleteTexture(k),g.texture=null,g.params=null,g.pixels=null,g.refCount=0,delete on[g.id],F.textureCount--}f(ft.prototype,{bind:function(){var g=this;g.bindCount+=1;var k=g.unit;if(k<0){for(var H=0;H<pn;++H){var Be=Zt[H];if(Be){if(Be.bindCount>0)continue;Be.unit=-1}Zt[H]=g,k=H;break}k>=pn&&b.raise("insufficient number of texture units"),J.profile&&F.maxTextureUnits<k+1&&(F.maxTextureUnits=k+1),g.unit=k,i.activeTexture(Sr+k),i.bindTexture(g.target,g.texture)}return k},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Fe(this)}});function dt(g,k){var H=new ft(Aa);on[H.id]=H,F.textureCount++;function Be(m,T){var M=H.texInfo;At.call(M);var D=vt();return typeof m=="number"?typeof T=="number"?at(D,m|0,T|0):at(D,m|0,m|0):m?(b.type(m,"object","invalid arguments to regl.texture"),tn(M,m),st(D,m)):at(D,1,1),M.genMipmaps&&(D.mipmask=(D.width<<1)-1),H.mipmask=D.mipmask,te(H,D),b.texture2D(M,D,S),H.internalformat=D.internalformat,Be.width=D.width,Be.height=D.height,Kt(H),wt(D,Aa),nn(M,Aa),lt(),Wt(D),J.profile&&(H.stats.size=Gl(H.internalformat,H.type,D.width,D.height,M.genMipmaps,!1)),Be.format=de[H.internalformat],Be.type=ze[H.type],Be.mag=re[M.magFilter],Be.min=De[M.minFilter],Be.wrapS=Re[M.wrapS],Be.wrapT=Re[M.wrapT],Be}function mt(m,T,M,D){b(!!m,"must specify image data");var C=T|0,A=M|0,z=D|0,v=he();return te(v,H),v.width=0,v.height=0,Oe(v,m),v.width=v.width||(H.width>>z)-C,v.height=v.height||(H.height>>z)-A,b(H.type===v.type&&H.format===v.format&&H.internalformat===v.internalformat,"incompatible format for texture.subimage"),b(C>=0&&A>=0&&C+v.width<=H.width&&A+v.height<=H.height,"texture.subimage write out of bounds"),b(H.mipmask&1<<z,"missing mipmap data"),b(v.data||v.element||v.needsCopy,"missing image data"),Kt(H),nt(v,Aa,C,A,z),lt(),we(v),Be}function p(m,T){var M=m|0,D=T|0||M;if(M===H.width&&D===H.height)return Be;Be.width=H.width=M,Be.height=H.height=D,Kt(H);for(var C=0;H.mipmask>>C;++C){var A=M>>C,z=D>>C;if(!A||!z)break;i.texImage2D(Aa,C,H.format,A,z,0,H.format,H.type,null)}return lt(),J.profile&&(H.stats.size=Gl(H.internalformat,H.type,M,D,!1,!1)),Be}return Be(g,k),Be.subimage=mt,Be.resize=p,Be._reglType="texture2d",Be._texture=H,J.profile&&(Be.stats=H.stats),Be.destroy=function(){H.decRef()},Be}function tt(g,k,H,Be,mt,p){var m=new ft(Nf);on[m.id]=m,F.cubeCount++;var T=new Array(6);function M(A,z,v,x,_,j){var V,ae=m.texInfo;for(At.call(ae),V=0;V<6;++V)T[V]=vt();if(typeof A=="number"||!A){var xe=A|0||1;for(V=0;V<6;++V)at(T[V],xe,xe)}else if(typeof A=="object")if(z)st(T[0],A),st(T[1],z),st(T[2],v),st(T[3],x),st(T[4],_),st(T[5],j);else if(tn(ae,A),He(m,A),"faces"in A){var Ee=A.faces;for(b(Array.isArray(Ee)&&Ee.length===6,"cube faces must be a length 6 array"),V=0;V<6;++V)b(typeof Ee[V]=="object"&&!!Ee[V],"invalid input for cube map face"),te(T[V],m),st(T[V],Ee[V])}else for(V=0;V<6;++V)st(T[V],A);else b.raise("invalid arguments to cube map");for(te(m,T[0]),b.optional(function(){S.npotTextureCube||b(ms(m.width)&&ms(m.height),"your browser does not support non power or two texture dimensions")}),ae.genMipmaps?m.mipmask=(T[0].width<<1)-1:m.mipmask=T[0].mipmask,b.textureCube(m,ae,T,S),m.internalformat=T[0].internalformat,M.width=T[0].width,M.height=T[0].height,Kt(m),V=0;V<6;++V)wt(T[V],oi+V);for(nn(ae,Nf),lt(),J.profile&&(m.stats.size=Gl(m.internalformat,m.type,M.width,M.height,ae.genMipmaps,!0)),M.format=de[m.internalformat],M.type=ze[m.type],M.mag=re[ae.magFilter],M.min=De[ae.minFilter],M.wrapS=Re[ae.wrapS],M.wrapT=Re[ae.wrapT],V=0;V<6;++V)Wt(T[V]);return M}function D(A,z,v,x,_){b(!!z,"must specify image data"),b(typeof A=="number"&&A===(A|0)&&A>=0&&A<6,"invalid face");var j=v|0,V=x|0,ae=_|0,xe=he();return te(xe,m),xe.width=0,xe.height=0,Oe(xe,z),xe.width=xe.width||(m.width>>ae)-j,xe.height=xe.height||(m.height>>ae)-V,b(m.type===xe.type&&m.format===xe.format&&m.internalformat===xe.internalformat,"incompatible format for texture.subimage"),b(j>=0&&V>=0&&j+xe.width<=m.width&&V+xe.height<=m.height,"texture.subimage write out of bounds"),b(m.mipmask&1<<ae,"missing mipmap data"),b(xe.data||xe.element||xe.needsCopy,"missing image data"),Kt(m),nt(xe,oi+A,j,V,ae),lt(),we(xe),M}function C(A){var z=A|0;if(z!==m.width){M.width=m.width=z,M.height=m.height=z,Kt(m);for(var v=0;v<6;++v)for(var x=0;m.mipmask>>x;++x)i.texImage2D(oi+v,x,m.format,z>>x,z>>x,0,m.format,m.type,null);return lt(),J.profile&&(m.stats.size=Gl(m.internalformat,m.type,M.width,M.height,!1,!0)),M}}return M(g,k,H,Be,mt,p),M.subimage=D,M.resize=C,M._reglType="textureCube",M._texture=m,J.profile&&(M.stats=m.stats),M.destroy=function(){m.decRef()},M}function an(){for(var g=0;g<pn;++g)i.activeTexture(Sr+g),i.bindTexture(Aa,null),Zt[g]=null;la(on).forEach(Fe),F.cubeCount=0,F.textureCount=0}J.profile&&(F.getTotalTextureSize=function(){var g=0;return Object.keys(on).forEach(function(k){g+=on[k].stats.size}),g});function ga(){for(var g=0;g<pn;++g){var k=Zt[g];k&&(k.bindCount=0,k.unit=-1,Zt[g]=null)}la(on).forEach(function(H){H.texture=i.createTexture(),i.bindTexture(H.target,H.texture);for(var Be=0;Be<32;++Be)if((H.mipmask&1<<Be)!==0)if(H.target===Aa)i.texImage2D(Aa,Be,H.internalformat,H.width>>Be,H.height>>Be,0,H.internalformat,H.type,null);else for(var mt=0;mt<6;++mt)i.texImage2D(oi+mt,Be,H.internalformat,H.width>>Be,H.height>>Be,0,H.internalformat,H.type,null);nn(H.texInfo,H.target)})}function gl(){for(var g=0;g<pn;++g){var k=Zt[g];k&&(k.bindCount=0,k.unit=-1,Zt[g]=null),i.activeTexture(Sr+g),i.bindTexture(Aa,null),i.bindTexture(Nf,null)}}return{create2D:dt,createCube:tt,clear:an,getTexture:function(g){return null},restore:ga,refresh:gl}}var En=36161,Vn=32854,Ka=32855,va=36194,ya=33189,Ra=36168,$f=34041,Ri=35907,Mi=34836,Wf=34842,On=34843,Ct=[];Ct[Vn]=2,Ct[Ka]=2,Ct[va]=2,Ct[ya]=2,Ct[Ra]=1,Ct[$f]=4,Ct[Ri]=4,Ct[Mi]=16,Ct[Wf]=8,Ct[On]=6;function Ot(i,y,S){return Ct[i]*y*S}var ol=function(i,y,S,Y,ne){var F={rgba4:Vn,rgb565:va,"rgb5 a1":Ka,depth:ya,stencil:Ra,"depth stencil":$f};y.ext_srgb&&(F.srgba=Ri),y.ext_color_buffer_half_float&&(F.rgba16f=Wf,F.rgb16f=On),y.webgl_color_buffer_float&&(F.rgba32f=Mi);var J=[];Object.keys(F).forEach(function(se){var ve=F[se];J[ve]=se});var oe=0,fe={};function be(se){this.id=oe++,this.refCount=1,this.renderbuffer=se,this.format=Vn,this.width=0,this.height=0,ne.profile&&(this.stats={size:0})}be.prototype.decRef=function(){--this.refCount<=0&&_e(this)};function _e(se){var ve=se.renderbuffer;b(ve,"must not double destroy renderbuffer"),i.bindRenderbuffer(En,null),i.deleteRenderbuffer(ve),se.renderbuffer=null,se.refCount=0,delete fe[se.id],Y.renderbufferCount--}function ge(se,ve){var B=new be(i.createRenderbuffer());fe[B.id]=B,Y.renderbufferCount++;function Q(ze,re){var De=0,Re=0,Ye=Vn;if(typeof ze=="object"&&ze){var ee=ze;if("shape"in ee){var te=ee.shape;b(Array.isArray(te)&&te.length>=2,"invalid renderbuffer shape"),De=te[0]|0,Re=te[1]|0}else"radius"in ee&&(De=Re=ee.radius|0),"width"in ee&&(De=ee.width|0),"height"in ee&&(Re=ee.height|0);"format"in ee&&(b.parameter(ee.format,F,"invalid renderbuffer format"),Ye=F[ee.format])}else typeof ze=="number"?(De=ze|0,typeof re=="number"?Re=re|0:Re=De):ze?b.raise("invalid arguments to renderbuffer constructor"):De=Re=1;if(b(De>0&&Re>0&&De<=S.maxRenderbufferSize&&Re<=S.maxRenderbufferSize,"invalid renderbuffer size"),!(De===B.width&&Re===B.height&&Ye===B.format))return Q.width=B.width=De,Q.height=B.height=Re,B.format=Ye,i.bindRenderbuffer(En,B.renderbuffer),i.renderbufferStorage(En,Ye,De,Re),b(i.getError()===0,"invalid render buffer format"),ne.profile&&(B.stats.size=Ot(B.format,B.width,B.height)),Q.format=J[B.format],Q}function de(ze,re){var De=ze|0,Re=re|0||De;return De===B.width&&Re===B.height||(b(De>0&&Re>0&&De<=S.maxRenderbufferSize&&Re<=S.maxRenderbufferSize,"invalid renderbuffer size"),Q.width=B.width=De,Q.height=B.height=Re,i.bindRenderbuffer(En,B.renderbuffer),i.renderbufferStorage(En,B.format,De,Re),b(i.getError()===0,"invalid render buffer format"),ne.profile&&(B.stats.size=Ot(B.format,B.width,B.height))),Q}return Q(se,ve),Q.resize=de,Q._reglType="renderbuffer",Q._renderbuffer=B,ne.profile&&(Q.stats=B.stats),Q.destroy=function(){B.decRef()},Q}ne.profile&&(Y.getTotalRenderbufferSize=function(){var se=0;return Object.keys(fe).forEach(function(ve){se+=fe[ve].stats.size}),se});function Te(){la(fe).forEach(function(se){se.renderbuffer=i.createRenderbuffer(),i.bindRenderbuffer(En,se.renderbuffer),i.renderbufferStorage(En,se.format,se.width,se.height)}),i.bindRenderbuffer(En,null)}return{create:ge,clear:function(){la(fe).forEach(_e)},restore:Te}},dn=36160,bu=36161,$n=3553,pu=34069,If=36064,Bl=36096,hl=36128,zi=33306,Tr=36053,Pf=36054,jl=36055,Ja=36057,ml=36061,$a=36193,ec=5121,tc=5126,Ul=6407,gu=6408,Hl=6402,Ln=[Ul,gu],Ar=[];Ar[gu]=4,Ar[Ul]=3;var _u=[];_u[ec]=1,_u[tc]=4,_u[$a]=2;var u0=32854,i0=32855,f0=36194,vn=33189,nc=36168,Or=34041,Su=35907,ac=34836,Cr=34842,Rr=34843,c0=[u0,i0,f0,Su,Cr,Rr,ac],Vl={};Vl[Tr]="complete",Vl[Pf]="incomplete attachment",Vl[Ja]="incomplete dimensions",Vl[jl]="incomplete, missing attachment",Vl[ml]="unsupported";function s0(i,y,S,Y,ne,F){var J={cur:null,next:null,dirty:!1,setFBO:null},oe=["rgba"],fe=["rgba4","rgb565","rgb5 a1"];y.ext_srgb&&fe.push("srgba"),y.ext_color_buffer_half_float&&fe.push("rgba16f","rgb16f"),y.webgl_color_buffer_float&&fe.push("rgba32f");var be=["uint8"];y.oes_texture_half_float&&be.push("half float","float16"),y.oes_texture_float&&be.push("float","float32");function _e(ce,Oe,Me){this.target=ce,this.texture=Oe,this.renderbuffer=Me;var nt=0,Je=0;Oe?(nt=Oe.width,Je=Oe.height):Me&&(nt=Me.width,Je=Me.height),this.width=nt,this.height=Je}function ge(ce){ce&&(ce.texture&&ce.texture._texture.decRef(),ce.renderbuffer&&ce.renderbuffer._renderbuffer.decRef())}function Te(ce,Oe,Me){if(ce)if(ce.texture){var nt=ce.texture._texture,Je=Math.max(1,nt.width),he=Math.max(1,nt.height);b(Je===Oe&&he===Me,"inconsistent width/height for supplied texture"),nt.refCount+=1}else{var we=ce.renderbuffer._renderbuffer;b(we.width===Oe&&we.height===Me,"inconsistent width/height for renderbuffer"),we.refCount+=1}}function se(ce,Oe){Oe&&(Oe.texture?i.framebufferTexture2D(dn,ce,Oe.target,Oe.texture._texture.texture,0):i.framebufferRenderbuffer(dn,ce,bu,Oe.renderbuffer._renderbuffer.renderbuffer))}function ve(ce){var Oe=$n,Me=null,nt=null,Je=ce;typeof ce=="object"&&(Je=ce.data,"target"in ce&&(Oe=ce.target|0)),b.type(Je,"function","invalid attachment data");var he=Je._reglType;return he==="texture2d"?(Me=Je,b(Oe===$n)):he==="textureCube"?(Me=Je,b(Oe>=pu&&Oe<pu+6,"invalid cube map target")):he==="renderbuffer"?(nt=Je,Oe=bu):b.raise("invalid regl object for attachment"),new _e(Oe,Me,nt)}function B(ce,Oe,Me,nt,Je){if(Me){var he=Y.create2D({width:ce,height:Oe,format:nt,type:Je});return he._texture.refCount=0,new _e($n,he,null)}else{var we=ne.create({width:ce,height:Oe,format:nt});return we._renderbuffer.refCount=0,new _e(bu,null,we)}}function Q(ce){return ce&&(ce.texture||ce.renderbuffer)}function de(ce,Oe,Me){ce&&(ce.texture?ce.texture.resize(Oe,Me):ce.renderbuffer&&ce.renderbuffer.resize(Oe,Me),ce.width=Oe,ce.height=Me)}var ze=0,re={};function De(){this.id=ze++,re[this.id]=this,this.framebuffer=i.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Re(ce){ce.colorAttachments.forEach(ge),ge(ce.depthAttachment),ge(ce.stencilAttachment),ge(ce.depthStencilAttachment)}function Ye(ce){var Oe=ce.framebuffer;b(Oe,"must not double destroy framebuffer"),i.deleteFramebuffer(Oe),ce.framebuffer=null,F.framebufferCount--,delete re[ce.id]}function ee(ce){var Oe;i.bindFramebuffer(dn,ce.framebuffer);var Me=ce.colorAttachments;for(Oe=0;Oe<Me.length;++Oe)se(If+Oe,Me[Oe]);for(Oe=Me.length;Oe<S.maxColorAttachments;++Oe)i.framebufferTexture2D(dn,If+Oe,$n,null,0);i.framebufferTexture2D(dn,zi,$n,null,0),i.framebufferTexture2D(dn,Bl,$n,null,0),i.framebufferTexture2D(dn,hl,$n,null,0),se(Bl,ce.depthAttachment),se(hl,ce.stencilAttachment),se(zi,ce.depthStencilAttachment);var nt=i.checkFramebufferStatus(dn);!i.isContextLost()&&nt!==Tr&&b.raise("framebuffer configuration not supported, status = "+Vl[nt]),i.bindFramebuffer(dn,J.next?J.next.framebuffer:null),J.cur=J.next,i.getError()}function te(ce,Oe){var Me=new De;F.framebufferCount++;function nt(he,we){var $e;b(J.next!==Me,"can not update framebuffer which is currently in use");var at=0,st=0,wt=!0,Qt=!0,vt=null,Wt=!0,At="rgba",tn="uint8",nn=1,fn=null,on=null,pn=null,Zt=!1;if(typeof he=="number")at=he|0,st=we|0||at;else if(!he)at=st=1;else{b.type(he,"object","invalid arguments for framebuffer");var ft=he;if("shape"in ft){var Kt=ft.shape;b(Array.isArray(Kt)&&Kt.length>=2,"invalid shape for framebuffer"),at=Kt[0],st=Kt[1]}else"radius"in ft&&(at=st=ft.radius),"width"in ft&&(at=ft.width),"height"in ft&&(st=ft.height);("color"in ft||"colors"in ft)&&(vt=ft.color||ft.colors,Array.isArray(vt)&&b(vt.length===1||y.webgl_draw_buffers,"multiple render targets not supported")),vt||("colorCount"in ft&&(nn=ft.colorCount|0,b(nn>0,"invalid color buffer count")),"colorTexture"in ft&&(Wt=!!ft.colorTexture,At="rgba4"),"colorType"in ft&&(tn=ft.colorType,Wt?(b(y.oes_texture_float||!(tn==="float"||tn==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),b(y.oes_texture_half_float||!(tn==="half float"||tn==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):tn==="half float"||tn==="float16"?(b(y.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),At="rgba16f"):(tn==="float"||tn==="float32")&&(b(y.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),At="rgba32f"),b.oneOf(tn,be,"invalid color type")),"colorFormat"in ft&&(At=ft.colorFormat,oe.indexOf(At)>=0?Wt=!0:fe.indexOf(At)>=0?Wt=!1:b.optional(function(){Wt?b.oneOf(ft.colorFormat,oe,"invalid color format for texture"):b.oneOf(ft.colorFormat,fe,"invalid color format for renderbuffer")}))),("depthTexture"in ft||"depthStencilTexture"in ft)&&(Zt=!!(ft.depthTexture||ft.depthStencilTexture),b(!Zt||y.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in ft&&(typeof ft.depth=="boolean"?wt=ft.depth:(fn=ft.depth,Qt=!1)),"stencil"in ft&&(typeof ft.stencil=="boolean"?Qt=ft.stencil:(on=ft.stencil,wt=!1)),"depthStencil"in ft&&(typeof ft.depthStencil=="boolean"?wt=Qt=ft.depthStencil:(pn=ft.depthStencil,wt=!1,Qt=!1))}var lt=null,Fe=null,dt=null,tt=null;if(Array.isArray(vt))lt=vt.map(ve);else if(vt)lt=[ve(vt)];else for(lt=new Array(nn),$e=0;$e<nn;++$e)lt[$e]=B(at,st,Wt,At,tn);b(y.webgl_draw_buffers||lt.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),b(lt.length<=S.maxColorAttachments,"too many color attachments, not supported"),at=at||lt[0].width,st=st||lt[0].height,fn?Fe=ve(fn):wt&&!Qt&&(Fe=B(at,st,Zt,"depth","uint32")),on?dt=ve(on):Qt&&!wt&&(dt=B(at,st,!1,"stencil","uint8")),pn?tt=ve(pn):!fn&&!on&&Qt&&wt&&(tt=B(at,st,Zt,"depth stencil","depth stencil")),b(!!fn+!!on+!!pn<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var an=null;for($e=0;$e<lt.length;++$e)if(Te(lt[$e],at,st),b(!lt[$e]||lt[$e].texture&&Ln.indexOf(lt[$e].texture._texture.format)>=0||lt[$e].renderbuffer&&c0.indexOf(lt[$e].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+$e+" is invalid"),lt[$e]&&lt[$e].texture){var ga=Ar[lt[$e].texture._texture.format]*_u[lt[$e].texture._texture.type];an===null?an=ga:b(an===ga,"all color attachments much have the same number of bits per pixel.")}return Te(Fe,at,st),b(!Fe||Fe.texture&&Fe.texture._texture.format===Hl||Fe.renderbuffer&&Fe.renderbuffer._renderbuffer.format===vn,"invalid depth attachment for framebuffer object"),Te(dt,at,st),b(!dt||dt.renderbuffer&&dt.renderbuffer._renderbuffer.format===nc,"invalid stencil attachment for framebuffer object"),Te(tt,at,st),b(!tt||tt.texture&&tt.texture._texture.format===Or||tt.renderbuffer&&tt.renderbuffer._renderbuffer.format===Or,"invalid depth-stencil attachment for framebuffer object"),Re(Me),Me.width=at,Me.height=st,Me.colorAttachments=lt,Me.depthAttachment=Fe,Me.stencilAttachment=dt,Me.depthStencilAttachment=tt,nt.color=lt.map(Q),nt.depth=Q(Fe),nt.stencil=Q(dt),nt.depthStencil=Q(tt),nt.width=Me.width,nt.height=Me.height,ee(Me),nt}function Je(he,we){b(J.next!==Me,"can not resize a framebuffer which is currently in use");var $e=Math.max(he|0,1),at=Math.max(we|0||$e,1);if($e===Me.width&&at===Me.height)return nt;for(var st=Me.colorAttachments,wt=0;wt<st.length;++wt)de(st[wt],$e,at);return de(Me.depthAttachment,$e,at),de(Me.stencilAttachment,$e,at),de(Me.depthStencilAttachment,$e,at),Me.width=nt.width=$e,Me.height=nt.height=at,ee(Me),nt}return nt(ce,Oe),f(nt,{resize:Je,_reglType:"framebuffer",_framebuffer:Me,destroy:function(){Ye(Me),Re(Me)},use:function(he){J.setFBO({framebuffer:nt},he)}})}function He(ce){var Oe=Array(6);function Me(Je){var he;b(Oe.indexOf(J.next)<0,"can not update framebuffer which is currently in use");var we={color:null},$e=0,at=null,st="rgba",wt="uint8",Qt=1;if(typeof Je=="number")$e=Je|0;else if(!Je)$e=1;else{b.type(Je,"object","invalid arguments for framebuffer");var vt=Je;if("shape"in vt){var Wt=vt.shape;b(Array.isArray(Wt)&&Wt.length>=2,"invalid shape for framebuffer"),b(Wt[0]===Wt[1],"cube framebuffer must be square"),$e=Wt[0]}else"radius"in vt&&($e=vt.radius|0),"width"in vt?($e=vt.width|0,"height"in vt&&b(vt.height===$e,"must be square")):"height"in vt&&($e=vt.height|0);("color"in vt||"colors"in vt)&&(at=vt.color||vt.colors,Array.isArray(at)&&b(at.length===1||y.webgl_draw_buffers,"multiple render targets not supported")),at||("colorCount"in vt&&(Qt=vt.colorCount|0,b(Qt>0,"invalid color buffer count")),"colorType"in vt&&(b.oneOf(vt.colorType,be,"invalid color type"),wt=vt.colorType),"colorFormat"in vt&&(st=vt.colorFormat,b.oneOf(vt.colorFormat,oe,"invalid color format for texture"))),"depth"in vt&&(we.depth=vt.depth),"stencil"in vt&&(we.stencil=vt.stencil),"depthStencil"in vt&&(we.depthStencil=vt.depthStencil)}var At;if(at)if(Array.isArray(at))for(At=[],he=0;he<at.length;++he)At[he]=at[he];else At=[at];else{At=Array(Qt);var tn={radius:$e,format:st,type:wt};for(he=0;he<Qt;++he)At[he]=Y.createCube(tn)}for(we.color=Array(At.length),he=0;he<At.length;++he){var nn=At[he];b(typeof nn=="function"&&nn._reglType==="textureCube","invalid cube map"),$e=$e||nn.width,b(nn.width===$e&&nn.height===$e,"invalid cube map shape"),we.color[he]={target:pu,data:At[he]}}for(he=0;he<6;++he){for(var fn=0;fn<At.length;++fn)we.color[fn].target=pu+he;he>0&&(we.depth=Oe[0].depth,we.stencil=Oe[0].stencil,we.depthStencil=Oe[0].depthStencil),Oe[he]?Oe[he](we):Oe[he]=te(we)}return f(Me,{width:$e,height:$e,color:At})}function nt(Je){var he,we=Je|0;if(b(we>0&&we<=S.maxCubeMapSize,"invalid radius for cube fbo"),we===Me.width)return Me;var $e=Me.color;for(he=0;he<$e.length;++he)$e[he].resize(we);for(he=0;he<6;++he)Oe[he].resize(we);return Me.width=Me.height=we,Me}return Me(ce),f(Me,{faces:Oe,resize:nt,_reglType:"framebufferCube",destroy:function(){Oe.forEach(function(Je){Je.destroy()})}})}function Ae(){J.cur=null,J.next=null,J.dirty=!0,la(re).forEach(function(ce){ce.framebuffer=i.createFramebuffer(),ee(ce)})}return f(J,{getFramebuffer:function(ce){if(typeof ce=="function"&&ce._reglType==="framebuffer"){var Oe=ce._framebuffer;if(Oe instanceof De)return Oe}return null},create:te,createCube:He,clear:function(){la(re).forEach(Ye)},restore:Ae})}var zs=5126,dl=34962,Mr=34963,Eu=["attributes","elements","offset","count","primitive","instances"];function Di(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=zs,this.offset=0,this.stride=0,this.divisor=0}function zr(i,y,S,Y,ne,F,J){for(var oe=S.maxAttributes,fe=new Array(oe),be=0;be<oe;++be)fe[be]=new Di;var _e=0,ge={},Te={Record:Di,scope:{},state:fe,currentVAO:null,targetVAO:null,restore:ve()?Re:function(){},createVAO:Ye,getVAO:Q,destroyBuffer:se,setVAO:ve()?de:ze,clear:ve()?re:function(){}};function se(ee){for(var te=0;te<fe.length;++te){var He=fe[te];He.buffer===ee&&(i.disableVertexAttribArray(te),He.buffer=null)}}function ve(){return y.oes_vertex_array_object}function B(){return y.angle_instanced_arrays}function Q(ee){return typeof ee=="function"&&ee._vao?ee._vao:null}function de(ee){if(ee!==Te.currentVAO){var te=ve();ee?te.bindVertexArrayOES(ee.vao):te.bindVertexArrayOES(null),Te.currentVAO=ee}}function ze(ee){if(ee!==Te.currentVAO){if(ee)ee.bindAttrs();else{for(var te=B(),He=0;He<fe.length;++He){var Ae=fe[He];Ae.buffer?(i.enableVertexAttribArray(He),Ae.buffer.bind(),i.vertexAttribPointer(He,Ae.size,Ae.type,Ae.normalized,Ae.stride,Ae.offfset),te&&Ae.divisor&&te.vertexAttribDivisorANGLE(He,Ae.divisor)):(i.disableVertexAttribArray(He),i.vertexAttrib4f(He,Ae.x,Ae.y,Ae.z,Ae.w))}J.elements?i.bindBuffer(Mr,J.elements.buffer.buffer):i.bindBuffer(Mr,null)}Te.currentVAO=ee}}function re(){la(ge).forEach(function(ee){ee.destroy()})}function De(){this.id=++_e,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var ee=ve();ee?this.vao=ee.createVertexArrayOES():this.vao=null,ge[this.id]=this,this.buffers=[]}De.prototype.bindAttrs=function(){for(var ee=B(),te=this.attributes,He=0;He<te.length;++He){var Ae=te[He];Ae.buffer?(i.enableVertexAttribArray(He),i.bindBuffer(dl,Ae.buffer.buffer),i.vertexAttribPointer(He,Ae.size,Ae.type,Ae.normalized,Ae.stride,Ae.offset),ee&&Ae.divisor&&ee.vertexAttribDivisorANGLE(He,Ae.divisor)):(i.disableVertexAttribArray(He),i.vertexAttrib4f(He,Ae.x,Ae.y,Ae.z,Ae.w))}for(var ce=te.length;ce<oe;++ce)i.disableVertexAttribArray(ce);var Oe=F.getElements(this.elements);Oe?i.bindBuffer(Mr,Oe.buffer.buffer):i.bindBuffer(Mr,null)},De.prototype.refresh=function(){var ee=ve();ee&&(ee.bindVertexArrayOES(this.vao),this.bindAttrs(),Te.currentVAO=null,ee.bindVertexArrayOES(null))},De.prototype.destroy=function(){if(this.vao){var ee=ve();this===Te.currentVAO&&(Te.currentVAO=null,ee.bindVertexArrayOES(null)),ee.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),ge[this.id]&&(delete ge[this.id],Y.vaoCount-=1)};function Re(){var ee=ve();ee&&la(ge).forEach(function(te){te.refresh()})}function Ye(ee){var te=new De;Y.vaoCount+=1;function He(Ae){var ce;if(Array.isArray(Ae))ce=Ae,te.elements&&te.ownsElements&&te.elements.destroy(),te.elements=null,te.ownsElements=!1,te.offset=0,te.count=0,te.instances=-1,te.primitive=4;else{if(b(typeof Ae=="object","invalid arguments for create vao"),b("attributes"in Ae,"must specify attributes for vao"),Ae.elements){var Oe=Ae.elements;te.ownsElements?typeof Oe=="function"&&Oe._reglType==="elements"?(te.elements.destroy(),te.ownsElements=!1):(te.elements(Oe),te.ownsElements=!1):F.getElements(Ae.elements)?(te.elements=Ae.elements,te.ownsElements=!1):(te.elements=F.create(Ae.elements),te.ownsElements=!0)}else te.elements=null,te.ownsElements=!1;ce=Ae.attributes,te.offset=0,te.count=-1,te.instances=-1,te.primitive=4,te.elements&&(te.count=te.elements._elements.vertCount,te.primitive=te.elements._elements.primType),"offset"in Ae&&(te.offset=Ae.offset|0),"count"in Ae&&(te.count=Ae.count|0),"instances"in Ae&&(te.instances=Ae.instances|0),"primitive"in Ae&&(b(Ae.primitive in cl,"bad primitive type: "+Ae.primitive),te.primitive=cl[Ae.primitive]),b.optional(()=>{for(var wt=Object.keys(Ae),Qt=0;Qt<wt.length;++Qt)b(Eu.indexOf(wt[Qt])>=0,'invalid option for vao: "'+wt[Qt]+'" valid options are '+Eu)}),b(Array.isArray(ce),"attributes must be an array")}b(ce.length<oe,"too many attributes"),b(ce.length>0,"must specify at least one attribute");var Me={},nt=te.attributes;nt.length=ce.length;for(var Je=0;Je<ce.length;++Je){var he=ce[Je],we=nt[Je]=new Di,$e=he.data||he;if(Array.isArray($e)||o($e)||Bn($e)){var at;te.buffers[Je]&&(at=te.buffers[Je],o($e)&&at._buffer.byteLength>=$e.byteLength?at.subdata($e):(at.destroy(),te.buffers[Je]=null)),te.buffers[Je]||(at=te.buffers[Je]=ne.create(he,dl,!1,!0)),we.buffer=ne.getBuffer(at),we.size=we.buffer.dimension|0,we.normalized=!1,we.type=we.buffer.dtype,we.offset=0,we.stride=0,we.divisor=0,we.state=1,Me[Je]=1}else ne.getBuffer(he)?(we.buffer=ne.getBuffer(he),we.size=we.buffer.dimension|0,we.normalized=!1,we.type=we.buffer.dtype,we.offset=0,we.stride=0,we.divisor=0,we.state=1):ne.getBuffer(he.buffer)?(we.buffer=ne.getBuffer(he.buffer),we.size=(+he.size||we.buffer.dimension)|0,we.normalized=!!he.normalized||!1,"type"in he?(b.parameter(he.type,Ya,"invalid buffer type"),we.type=Ya[he.type]):we.type=we.buffer.dtype,we.offset=(he.offset||0)|0,we.stride=(he.stride||0)|0,we.divisor=(he.divisor||0)|0,we.state=1,b(we.size>=1&&we.size<=4,"size must be between 1 and 4"),b(we.offset>=0,"invalid offset"),b(we.stride>=0&&we.stride<=255,"stride must be between 0 and 255"),b(we.divisor>=0,"divisor must be positive"),b(!we.divisor||!!y.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in he?(b(Je>0,"first attribute must not be a constant"),we.x=+he.x||0,we.y=+he.y||0,we.z=+he.z||0,we.w=+he.w||0,we.state=2):b(!1,"invalid attribute spec for location "+Je)}for(var st=0;st<te.buffers.length;++st)!Me[st]&&te.buffers[st]&&(te.buffers[st].destroy(),te.buffers[st]=null);return te.refresh(),He}return He.destroy=function(){for(var Ae=0;Ae<te.buffers.length;++Ae)te.buffers[Ae]&&te.buffers[Ae].destroy();te.buffers.length=0,te.ownsElements&&(te.elements.destroy(),te.elements=null,te.ownsElements=!1),te.destroy()},He._vao=te,He._reglType="vao",He(ee)}return Te}var wi=35632,Li=35633,Ni=35718,Ds=35721;function ws(i,y,S,Y){var ne={},F={};function J(B,Q,de,ze){this.name=B,this.id=Q,this.location=de,this.info=ze}function oe(B,Q){for(var de=0;de<B.length;++de)if(B[de].id===Q.id){B[de].location=Q.location;return}B.push(Q)}function fe(B,Q,de){var ze=B===wi?ne:F,re=ze[Q];if(!re){var De=y.str(Q);re=i.createShader(B),i.shaderSource(re,De),i.compileShader(re),b.shaderError(i,re,De,B,de),ze[Q]=re}return re}var be={},_e=[],ge=0;function Te(B,Q){this.id=ge++,this.fragId=B,this.vertId=Q,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,Y.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function se(B,Q,de){var ze,re,De=fe(wi,B.fragId),Re=fe(Li,B.vertId),Ye=B.program=i.createProgram();if(i.attachShader(Ye,De),i.attachShader(Ye,Re),de)for(ze=0;ze<de.length;++ze){var ee=de[ze];i.bindAttribLocation(Ye,ee[0],ee[1])}i.linkProgram(Ye),b.linkError(i,Ye,y.str(B.fragId),y.str(B.vertId),Q);var te=i.getProgramParameter(Ye,Ni);Y.profile&&(B.stats.uniformsCount=te);var He=B.uniforms;for(ze=0;ze<te;++ze)if(re=i.getActiveUniform(Ye,ze),re)if(re.size>1)for(var Ae=0;Ae<re.size;++Ae){var ce=re.name.replace("[0]","["+Ae+"]");oe(He,new J(ce,y.id(ce),i.getUniformLocation(Ye,ce),re))}else oe(He,new J(re.name,y.id(re.name),i.getUniformLocation(Ye,re.name),re));var Oe=i.getProgramParameter(Ye,Ds);Y.profile&&(B.stats.attributesCount=Oe);var Me=B.attributes;for(ze=0;ze<Oe;++ze)re=i.getActiveAttrib(Ye,ze),re&&oe(Me,new J(re.name,y.id(re.name),i.getAttribLocation(Ye,re.name),re))}Y.profile&&(S.getMaxUniformsCount=function(){var B=0;return _e.forEach(function(Q){Q.stats.uniformsCount>B&&(B=Q.stats.uniformsCount)}),B},S.getMaxAttributesCount=function(){var B=0;return _e.forEach(function(Q){Q.stats.attributesCount>B&&(B=Q.stats.attributesCount)}),B});function ve(){ne={},F={};for(var B=0;B<_e.length;++B)se(_e[B],null,_e[B].attributes.map(function(Q){return[Q.location,Q.name]}))}return{clear:function(){var B=i.deleteShader.bind(i);la(ne).forEach(B),ne={},la(F).forEach(B),F={},_e.forEach(function(Q){i.deleteProgram(Q.program)}),_e.length=0,be={},S.shaderCount=0},program:function(B,Q,de,ze){b.command(B>=0,"missing vertex shader",de),b.command(Q>=0,"missing fragment shader",de);var re=be[Q];re||(re=be[Q]={});var De=re[B];if(De&&(De.refCount++,!ze))return De;var Re=new Te(Q,B);return S.shaderCount++,se(Re,de,ze),De||(re[B]=Re),_e.push(Re),f(Re,{destroy:function(){if(Re.refCount--,Re.refCount<=0){i.deleteProgram(Re.program);var Ye=_e.indexOf(Re);_e.splice(Ye,1),S.shaderCount--}re[Re.vertId].refCount<=0&&(i.deleteShader(F[Re.vertId]),delete F[Re.vertId],delete be[Re.fragId][Re.vertId]),Object.keys(be[Re.fragId]).length||(i.deleteShader(ne[Re.fragId]),delete ne[Re.fragId],delete be[Re.fragId])}})},restore:ve,shader:fe,frag:-1,vert:-1}}var kl=6408,ba=5121,Ls=3333,xu=5126;function Dr(i,y,S,Y,ne,F,J){function oe(_e){var ge;y.next===null?(b(ne.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),ge=ba):(b(y.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),ge=y.next.colorAttachments[0].texture._texture.type,b.optional(function(){F.oes_texture_float?(b(ge===ba||ge===xu,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),ge===xu&&b(J.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):b(ge===ba,"Reading from a framebuffer is only allowed for the type 'uint8'")}));var Te=0,se=0,ve=Y.framebufferWidth,B=Y.framebufferHeight,Q=null;o(_e)?Q=_e:_e&&(b.type(_e,"object","invalid arguments to regl.read()"),Te=_e.x|0,se=_e.y|0,b(Te>=0&&Te<Y.framebufferWidth,"invalid x offset for regl.read"),b(se>=0&&se<Y.framebufferHeight,"invalid y offset for regl.read"),ve=(_e.width||Y.framebufferWidth-Te)|0,B=(_e.height||Y.framebufferHeight-se)|0,Q=_e.data||null),Q&&(ge===ba?b(Q instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):ge===xu&&b(Q instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),b(ve>0&&ve+Te<=Y.framebufferWidth,"invalid width for read pixels"),b(B>0&&B+se<=Y.framebufferHeight,"invalid height for read pixels"),S();var de=ve*B*4;return Q||(ge===ba?Q=new Uint8Array(de):ge===xu&&(Q=Q||new Float32Array(de))),b.isTypedArray(Q,"data buffer for regl.read() must be a typedarray"),b(Q.byteLength>=de,"data buffer for regl.read() too small"),i.pixelStorei(Ls,4),i.readPixels(Te,se,ve,B,kl,ge,Q),Q}function fe(_e){var ge;return y.setFBO({framebuffer:_e.framebuffer},function(){ge=oe(_e)}),ge}function be(_e){return!_e||!("framebuffer"in _e)?oe(_e):fe(_e)}return be}function Ma(i){return Array.prototype.slice.call(i)}function Wa(i){return Ma(i).join("")}function Tu(){var i=0,y=[],S=[];function Y(ge){for(var Te=0;Te<S.length;++Te)if(S[Te]===ge)return y[Te];var se="g"+i++;return y.push(se),S.push(ge),se}function ne(){var ge=[];function Te(){ge.push.apply(ge,Ma(arguments))}var se=[];function ve(){var B="v"+i++;return se.push(B),arguments.length>0&&(ge.push(B,"="),ge.push.apply(ge,Ma(arguments)),ge.push(";")),B}return f(Te,{def:ve,toString:function(){return Wa([se.length>0?"var "+se.join(",")+";":"",Wa(ge)])}})}function F(){var ge=ne(),Te=ne(),se=ge.toString,ve=Te.toString;function B(Q,de){Te(Q,de,"=",ge.def(Q,de),";")}return f(function(){ge.apply(ge,Ma(arguments))},{def:ge.def,entry:ge,exit:Te,save:B,set:function(Q,de,ze){B(Q,de),ge(Q,de,"=",ze,";")},toString:function(){return se()+ve()}})}function J(){var ge=Wa(arguments),Te=F(),se=F(),ve=Te.toString,B=se.toString;return f(Te,{then:function(){return Te.apply(Te,Ma(arguments)),this},else:function(){return se.apply(se,Ma(arguments)),this},toString:function(){var Q=B();return Q&&(Q="else{"+Q+"}"),Wa(["if(",ge,"){",ve(),"}",Q])}})}var oe=ne(),fe={};function be(ge,Te){var se=[];function ve(){var re="a"+se.length;return se.push(re),re}Te=Te||0;for(var B=0;B<Te;++B)ve();var Q=F(),de=Q.toString,ze=fe[ge]=f(Q,{arg:ve,toString:function(){return Wa(["function(",se.join(),"){",de(),"}"])}});return ze}function _e(){var ge=['"use strict";',oe,"return {"];Object.keys(fe).forEach(function(ve){ge.push('"',ve,'":',fe[ve].toString(),",")}),ge.push("}");var Te=Wa(ge).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),se=Function.apply(null,y.concat(Te));return se.apply(null,S)}return{global:oe,link:Y,block:ne,proc:be,scope:F,cond:J,compile:_e}}var Ia="xyzw".split(""),lc=5121,ca=1,Gi=2,za=0,Au=1,Ou=2,Da=3,pa=4,wr=5,Bi=6,ji="dither",Lr="blend.enable",Nr="blend.color",Ui="blend.equation",Hi="blend.func",ql="depth.enable",Cu="depth.func",rc="depth.range",Vi="depth.mask",Ru="colorMask",Wn="cull.enable",ia="cull.face",wa="frontFace",Mu="lineWidth",uc="polygonOffset.enable",La="polygonOffset.offset",In="sample.alpha",rn="sample.enable",Gr="sample.coverage",Na="stencil.enable",pt="stencil.mask",Ut="stencil.func",un="stencil.opFront",vl="stencil.opBack",Xl="scissor.enable",Ga="scissor.box",sa="viewport",Pa="profile",oa="framebuffer",zu="vert",Yt="frag",el="elements",tl="primitive",yl="count",Du="offset",ki="instances",Yl="vao",wu="Width",Lu="Height",yn=oa+wu,Ft=oa+Lu,qi=sa+wu,Nu=sa+Lu,Gu="drawingBuffer",Xi=Gu+wu,Ba=Gu+Lu,Yi=[Hi,Ui,Ut,un,vl,Gr,sa,Ga,La],bl=34962,Bu=34963,Ns=35632,Gs=35633,ic=3553,Bs=34067,js=2884,Us=3042,fc=3024,Hs=2960,o0=2929,Vs=3089,ks=32823,qs=32926,cc=32928,Fi=5126,ju=35664,Uu=35665,Hu=35666,Qi=5124,Zi=35667,Vu=35668,nl=35669,Ki=35670,Fl=35671,Ql=35672,ku=35673,Zl=35674,qu=35675,Br=35676,jr=35678,Ur=35680,Ji=4,Hr=1028,al=1029,sc=2304,$i=2305,oc=32775,Xs=32776,Ys=519,pl=7680,Wi=0,hc=1,mc=32774,dc=513,vc=36160,Fs=36064,ja={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Qs=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Kl={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},ha={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Ii={frag:Ns,vert:Gs},Vr={cw:sc,ccw:$i};function Xu(i){return Array.isArray(i)||o(i)||Bn(i)}function yc(i){return i.sort(function(y,S){return y===sa?-1:S===sa?1:y<S?-1:1})}function It(i,y,S,Y){this.thisDep=i,this.contextDep=y,this.propDep=S,this.append=Y}function ll(i){return i&&!(i.thisDep||i.contextDep||i.propDep)}function Pt(i){return new It(!1,!1,!1,i)}function kn(i,y){var S=i.type;if(S===za){var Y=i.data.length;return new It(!0,Y>=1,Y>=2,y)}else if(S===pa){var ne=i.data;return new It(ne.thisDep,ne.contextDep,ne.propDep,y)}else{if(S===wr)return new It(!1,!1,!1,y);if(S===Bi){for(var F=!1,J=!1,oe=!1,fe=0;fe<i.data.length;++fe){var be=i.data[fe];if(be.type===Au)oe=!0;else if(be.type===Ou)J=!0;else if(be.type===Da)F=!0;else if(be.type===za){F=!0;var _e=be.data;_e>=1&&(J=!0),_e>=2&&(oe=!0)}else be.type===pa&&(F=F||be.data.thisDep,J=J||be.data.contextDep,oe=oe||be.data.propDep)}return new It(F,J,oe,y)}else return new It(S===Da,S===Ou,S===Au,y)}}var Pi=new It(!1,!1,!1,function(){});function bc(i,y,S,Y,ne,F,J,oe,fe,be,_e,ge,Te,se,ve){var B=be.Record,Q={add:32774,subtract:32778,"reverse subtract":32779};S.ext_blend_minmax&&(Q.min=oc,Q.max=Xs);var de=S.angle_instanced_arrays,ze=S.webgl_draw_buffers,re=S.oes_vertex_array_object,De={dirty:!0,profile:ve.profile},Re={},Ye=[],ee={},te={};function He(p){return p.replace(".","_")}function Ae(p,m,T){var M=He(p);Ye.push(p),Re[M]=De[M]=!!T,ee[M]=m}function ce(p,m,T){var M=He(p);Ye.push(p),Array.isArray(T)?(De[M]=T.slice(),Re[M]=T.slice()):De[M]=Re[M]=T,te[M]=m}Ae(ji,fc),Ae(Lr,Us),ce(Nr,"blendColor",[0,0,0,0]),ce(Ui,"blendEquationSeparate",[mc,mc]),ce(Hi,"blendFuncSeparate",[hc,Wi,hc,Wi]),Ae(ql,o0,!0),ce(Cu,"depthFunc",dc),ce(rc,"depthRange",[0,1]),ce(Vi,"depthMask",!0),ce(Ru,Ru,[!0,!0,!0,!0]),Ae(Wn,js),ce(ia,"cullFace",al),ce(wa,wa,$i),ce(Mu,Mu,1),Ae(uc,ks),ce(La,"polygonOffset",[0,0]),Ae(In,qs),Ae(rn,cc),ce(Gr,"sampleCoverage",[1,!1]),Ae(Na,Hs),ce(pt,"stencilMask",-1),ce(Ut,"stencilFunc",[Ys,0,-1]),ce(un,"stencilOpSeparate",[Hr,pl,pl,pl]),ce(vl,"stencilOpSeparate",[al,pl,pl,pl]),Ae(Xl,Vs),ce(Ga,"scissor",[0,0,i.drawingBufferWidth,i.drawingBufferHeight]),ce(sa,sa,[0,0,i.drawingBufferWidth,i.drawingBufferHeight]);var Oe={gl:i,context:Te,strings:y,next:Re,current:De,draw:ge,elements:F,buffer:ne,shader:_e,attributes:be.state,vao:be,uniforms:fe,framebuffer:oe,extensions:S,timer:se,isBufferArgs:Xu},Me={primTypes:cl,compareFuncs:Kl,blendFuncs:ja,blendEquations:Q,stencilOps:ha,glTypes:Ya,orientationType:Vr};b.optional(function(){Oe.isArrayLike=en}),ze&&(Me.backBuffer=[al],Me.drawBuffer=Qn(Y.maxDrawbuffers,function(p){return p===0?[0]:Qn(p,function(m){return Fs+m})}));var nt=0;function Je(){var p=Tu(),m=p.link,T=p.global;p.id=nt++,p.batchId="0";var M=m(Oe),D=p.shared={props:"a0"};Object.keys(Oe).forEach(function(x){D[x]=T.def(M,".",x)}),b.optional(function(){p.CHECK=m(b),p.commandStr=b.guessCommand(),p.command=m(p.commandStr),p.assert=function(x,_,j){x("if(!(",_,"))",this.CHECK,".commandRaise(",m(j),",",this.command,");")},Me.invalidBlendCombinations=Qs});var C=p.next={},A=p.current={};Object.keys(te).forEach(function(x){Array.isArray(De[x])&&(C[x]=T.def(D.next,".",x),A[x]=T.def(D.current,".",x))});var z=p.constants={};Object.keys(Me).forEach(function(x){z[x]=T.def(JSON.stringify(Me[x]))}),p.invoke=function(x,_){switch(_.type){case za:var j=["this",D.context,D.props,p.batchId];return x.def(m(_.data),".call(",j.slice(0,Math.max(_.data.length+1,4)),")");case Au:return x.def(D.props,_.data);case Ou:return x.def(D.context,_.data);case Da:return x.def("this",_.data);case pa:return _.data.append(p,x),_.data.ref;case wr:return _.data.toString();case Bi:return _.data.map(function(V){return p.invoke(x,V)})}},p.attribCache={};var v={};return p.scopeAttrib=function(x){var _=y.id(x);if(_ in v)return v[_];var j=be.scope[_];j||(j=be.scope[_]=new B);var V=v[_]=m(j);return V},p}function he(p){var m=p.static,T=p.dynamic,M;if(Pa in m){var D=!!m[Pa];M=Pt(function(A,z){return D}),M.enable=D}else if(Pa in T){var C=T[Pa];M=kn(C,function(A,z){return A.invoke(z,C)})}return M}function we(p,m){var T=p.static,M=p.dynamic;if(oa in T){var D=T[oa];return D?(D=oe.getFramebuffer(D),b.command(D,"invalid framebuffer object"),Pt(function(A,z){var v=A.link(D),x=A.shared;z.set(x.framebuffer,".next",v);var _=x.context;return z.set(_,"."+yn,v+".width"),z.set(_,"."+Ft,v+".height"),v})):Pt(function(A,z){var v=A.shared;z.set(v.framebuffer,".next","null");var x=v.context;return z.set(x,"."+yn,x+"."+Xi),z.set(x,"."+Ft,x+"."+Ba),"null"})}else if(oa in M){var C=M[oa];return kn(C,function(A,z){var v=A.invoke(z,C),x=A.shared,_=x.framebuffer,j=z.def(_,".getFramebuffer(",v,")");b.optional(function(){A.assert(z,"!"+v+"||"+j,"invalid framebuffer object")}),z.set(_,".next",j);var V=x.context;return z.set(V,"."+yn,j+"?"+j+".width:"+V+"."+Xi),z.set(V,"."+Ft,j+"?"+j+".height:"+V+"."+Ba),j})}else return null}function $e(p,m,T){var M=p.static,D=p.dynamic;function C(v){if(v in M){var x=M[v];b.commandType(x,"object","invalid "+v,T.commandStr);var _=!0,j=x.x|0,V=x.y|0,ae,xe;return"width"in x?(ae=x.width|0,b.command(ae>=0,"invalid "+v,T.commandStr)):_=!1,"height"in x?(xe=x.height|0,b.command(xe>=0,"invalid "+v,T.commandStr)):_=!1,new It(!_&&m&&m.thisDep,!_&&m&&m.contextDep,!_&&m&&m.propDep,function(Se,Ne){var Le=Se.shared.context,Ue=ae;"width"in x||(Ue=Ne.def(Le,".",yn,"-",j));var Ge=xe;return"height"in x||(Ge=Ne.def(Le,".",Ft,"-",V)),[j,V,Ue,Ge]})}else if(v in D){var Ee=D[v],Ce=kn(Ee,function(Se,Ne){var Le=Se.invoke(Ne,Ee);b.optional(function(){Se.assert(Ne,Le+"&&typeof "+Le+'==="object"',"invalid "+v)});var Ue=Se.shared.context,Ge=Ne.def(Le,".x|0"),Ve=Ne.def(Le,".y|0"),Qe=Ne.def('"width" in ',Le,"?",Le,".width|0:","(",Ue,".",yn,"-",Ge,")"),Nt=Ne.def('"height" in ',Le,"?",Le,".height|0:","(",Ue,".",Ft,"-",Ve,")");return b.optional(function(){Se.assert(Ne,Qe+">=0&&"+Nt+">=0","invalid "+v)}),[Ge,Ve,Qe,Nt]});return m&&(Ce.thisDep=Ce.thisDep||m.thisDep,Ce.contextDep=Ce.contextDep||m.contextDep,Ce.propDep=Ce.propDep||m.propDep),Ce}else return m?new It(m.thisDep,m.contextDep,m.propDep,function(Se,Ne){var Le=Se.shared.context;return[0,0,Ne.def(Le,".",yn),Ne.def(Le,".",Ft)]}):null}var A=C(sa);if(A){var z=A;A=new It(A.thisDep,A.contextDep,A.propDep,function(v,x){var _=z.append(v,x),j=v.shared.context;return x.set(j,"."+qi,_[2]),x.set(j,"."+Nu,_[3]),_})}return{viewport:A,scissor_box:C(Ga)}}function at(p,m){var T=p.static,M=typeof T[Yt]=="string"&&typeof T[zu]=="string";if(M){if(Object.keys(m.dynamic).length>0)return null;var D=m.static,C=Object.keys(D);if(C.length>0&&typeof D[C[0]]=="number"){for(var A=[],z=0;z<C.length;++z)b(typeof D[C[z]]=="number","must specify all vertex attribute locations when using vaos"),A.push([D[C[z]]|0,C[z]]);return A}}return null}function st(p,m,T){var M=p.static,D=p.dynamic;function C(_){if(_ in M){var j=y.id(M[_]);b.optional(function(){_e.shader(Ii[_],j,b.guessCommand())});var V=Pt(function(){return j});return V.id=j,V}else if(_ in D){var ae=D[_];return kn(ae,function(xe,Ee){var Ce=xe.invoke(Ee,ae),Se=Ee.def(xe.shared.strings,".id(",Ce,")");return b.optional(function(){Ee(xe.shared.shader,".shader(",Ii[_],",",Se,",",xe.command,");")}),Se})}return null}var A=C(Yt),z=C(zu),v=null,x;return ll(A)&&ll(z)?(v=_e.program(z.id,A.id,null,T),x=Pt(function(_,j){return _.link(v)})):x=new It(A&&A.thisDep||z&&z.thisDep,A&&A.contextDep||z&&z.contextDep,A&&A.propDep||z&&z.propDep,function(_,j){var V=_.shared.shader,ae;A?ae=A.append(_,j):ae=j.def(V,".",Yt);var xe;z?xe=z.append(_,j):xe=j.def(V,".",zu);var Ee=V+".program("+xe+","+ae;return b.optional(function(){Ee+=","+_.command}),j.def(Ee+")")}),{frag:A,vert:z,progVar:x,program:v}}function wt(p,m){var T=p.static,M=p.dynamic,D={},C=!1;function A(){if(Yl in T){var Ne=T[Yl];return Ne!==null&&be.getVAO(Ne)===null&&(Ne=be.createVAO(Ne)),C=!0,D.vao=Ne,Pt(function(Ue){var Ge=be.getVAO(Ne);return Ge?Ue.link(Ge):"null"})}else if(Yl in M){C=!0;var Le=M[Yl];return kn(Le,function(Ue,Ge){var Ve=Ue.invoke(Ge,Le);return Ge.def(Ue.shared.vao+".getVAO("+Ve+")")})}return null}var z=A(),v=!1;function x(){if(el in T){var Ne=T[el];if(D.elements=Ne,Xu(Ne)){var Le=D.elements=F.create(Ne,!0);Ne=F.getElements(Le),v=!0}else Ne&&(Ne=F.getElements(Ne),v=!0,b.command(Ne,"invalid elements",m.commandStr));var Ue=Pt(function(Ve,Qe){if(Ne){var Nt=Ve.link(Ne);return Ve.ELEMENTS=Nt,Nt}return Ve.ELEMENTS=null,null});return Ue.value=Ne,Ue}else if(el in M){v=!0;var Ge=M[el];return kn(Ge,function(Ve,Qe){var Nt=Ve.shared,xn=Nt.isBufferArgs,rl=Nt.elements,Et=Ve.invoke(Qe,Ge),Rt=Qe.def("null"),it=Qe.def(xn,"(",Et,")"),yt=Ve.cond(it).then(Rt,"=",rl,".createStream(",Et,");").else(Rt,"=",rl,".getElements(",Et,");");return b.optional(function(){Ve.assert(yt.else,"!"+Et+"||"+Rt,"invalid elements")}),Qe.entry(yt),Qe.exit(Ve.cond(it).then(rl,".destroyStream(",Rt,");")),Ve.ELEMENTS=Rt,Rt})}else if(C)return new It(z.thisDep,z.contextDep,z.propDep,function(Ve,Qe){return Qe.def(Ve.shared.vao+".currentVAO?"+Ve.shared.elements+".getElements("+Ve.shared.vao+".currentVAO.elements):null")});return null}var _=x();function j(){if(tl in T){var Ne=T[tl];return D.primitive=Ne,b.commandParameter(Ne,cl,"invalid primitve",m.commandStr),Pt(function(Ue,Ge){return cl[Ne]})}else if(tl in M){var Le=M[tl];return kn(Le,function(Ue,Ge){var Ve=Ue.constants.primTypes,Qe=Ue.invoke(Ge,Le);return b.optional(function(){Ue.assert(Ge,Qe+" in "+Ve,"invalid primitive, must be one of "+Object.keys(cl))}),Ge.def(Ve,"[",Qe,"]")})}else{if(v)return ll(_)?_.value?Pt(function(Ue,Ge){return Ge.def(Ue.ELEMENTS,".primType")}):Pt(function(){return Ji}):new It(_.thisDep,_.contextDep,_.propDep,function(Ue,Ge){var Ve=Ue.ELEMENTS;return Ge.def(Ve,"?",Ve,".primType:",Ji)});if(C)return new It(z.thisDep,z.contextDep,z.propDep,function(Ue,Ge){return Ge.def(Ue.shared.vao+".currentVAO?"+Ue.shared.vao+".currentVAO.primitive:"+Ji)})}return null}function V(Ne,Le){if(Ne in T){var Ue=T[Ne]|0;return Le?D.offset=Ue:D.instances=Ue,b.command(!Le||Ue>=0,"invalid "+Ne,m.commandStr),Pt(function(Ve,Qe){return Le&&(Ve.OFFSET=Ue),Ue})}else if(Ne in M){var Ge=M[Ne];return kn(Ge,function(Ve,Qe){var Nt=Ve.invoke(Qe,Ge);return Le&&(Ve.OFFSET=Nt,b.optional(function(){Ve.assert(Qe,Nt+">=0","invalid "+Ne)})),Nt})}else if(Le){if(v)return Pt(function(Ve,Qe){return Ve.OFFSET=0,0});if(C)return new It(z.thisDep,z.contextDep,z.propDep,function(Ve,Qe){return Qe.def(Ve.shared.vao+".currentVAO?"+Ve.shared.vao+".currentVAO.offset:0")})}else if(C)return new It(z.thisDep,z.contextDep,z.propDep,function(Ve,Qe){return Qe.def(Ve.shared.vao+".currentVAO?"+Ve.shared.vao+".currentVAO.instances:-1")});return null}var ae=V(Du,!0);function xe(){if(yl in T){var Ne=T[yl]|0;return D.count=Ne,b.command(typeof Ne=="number"&&Ne>=0,"invalid vertex count",m.commandStr),Pt(function(){return Ne})}else if(yl in M){var Le=M[yl];return kn(Le,function(Qe,Nt){var xn=Qe.invoke(Nt,Le);return b.optional(function(){Qe.assert(Nt,"typeof "+xn+'==="number"&&'+xn+">=0&&"+xn+"===("+xn+"|0)","invalid vertex count")}),xn})}else if(v)if(ll(_)){if(_)return ae?new It(ae.thisDep,ae.contextDep,ae.propDep,function(Qe,Nt){var xn=Nt.def(Qe.ELEMENTS,".vertCount-",Qe.OFFSET);return b.optional(function(){Qe.assert(Nt,xn+">=0","invalid vertex offset/element buffer too small")}),xn}):Pt(function(Qe,Nt){return Nt.def(Qe.ELEMENTS,".vertCount")});var Ue=Pt(function(){return-1});return b.optional(function(){Ue.MISSING=!0}),Ue}else{var Ge=new It(_.thisDep||ae.thisDep,_.contextDep||ae.contextDep,_.propDep||ae.propDep,function(Qe,Nt){var xn=Qe.ELEMENTS;return Qe.OFFSET?Nt.def(xn,"?",xn,".vertCount-",Qe.OFFSET,":-1"):Nt.def(xn,"?",xn,".vertCount:-1")});return b.optional(function(){Ge.DYNAMIC=!0}),Ge}else if(C){var Ve=new It(z.thisDep,z.contextDep,z.propDep,function(Qe,Nt){return Nt.def(Qe.shared.vao,".currentVAO?",Qe.shared.vao,".currentVAO.count:-1")});return Ve}return null}var Ee=j(),Ce=xe(),Se=V(ki,!1);return{elements:_,primitive:Ee,count:Ce,instances:Se,offset:ae,vao:z,vaoActive:C,elementsActive:v,static:D}}function Qt(p,m){var T=p.static,M=p.dynamic,D={};return Ye.forEach(function(C){var A=He(C);function z(v,x){if(C in T){var _=v(T[C]);D[A]=Pt(function(){return _})}else if(C in M){var j=M[C];D[A]=kn(j,function(V,ae){return x(V,ae,V.invoke(ae,j))})}}switch(C){case Wn:case Lr:case ji:case Na:case ql:case Xl:case uc:case In:case rn:case Vi:return z(function(v){return b.commandType(v,"boolean",C,m.commandStr),v},function(v,x,_){return b.optional(function(){v.assert(x,"typeof "+_+'==="boolean"',"invalid flag "+C,v.commandStr)}),_});case Cu:return z(function(v){return b.commandParameter(v,Kl,"invalid "+C,m.commandStr),Kl[v]},function(v,x,_){var j=v.constants.compareFuncs;return b.optional(function(){v.assert(x,_+" in "+j,"invalid "+C+", must be one of "+Object.keys(Kl))}),x.def(j,"[",_,"]")});case rc:return z(function(v){return b.command(en(v)&&v.length===2&&typeof v[0]=="number"&&typeof v[1]=="number"&&v[0]<=v[1],"depth range is 2d array",m.commandStr),v},function(v,x,_){b.optional(function(){v.assert(x,v.shared.isArrayLike+"("+_+")&&"+_+".length===2&&typeof "+_+'[0]==="number"&&typeof '+_+'[1]==="number"&&'+_+"[0]<="+_+"[1]","depth range must be a 2d array")});var j=x.def("+",_,"[0]"),V=x.def("+",_,"[1]");return[j,V]});case Hi:return z(function(v){b.commandType(v,"object","blend.func",m.commandStr);var x="srcRGB"in v?v.srcRGB:v.src,_="srcAlpha"in v?v.srcAlpha:v.src,j="dstRGB"in v?v.dstRGB:v.dst,V="dstAlpha"in v?v.dstAlpha:v.dst;return b.commandParameter(x,ja,A+".srcRGB",m.commandStr),b.commandParameter(_,ja,A+".srcAlpha",m.commandStr),b.commandParameter(j,ja,A+".dstRGB",m.commandStr),b.commandParameter(V,ja,A+".dstAlpha",m.commandStr),b.command(Qs.indexOf(x+", "+j)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+x+", "+j+")",m.commandStr),[ja[x],ja[j],ja[_],ja[V]]},function(v,x,_){var j=v.constants.blendFuncs;b.optional(function(){v.assert(x,_+"&&typeof "+_+'==="object"',"invalid blend func, must be an object")});function V(Le,Ue){var Ge=x.def('"',Le,Ue,'" in ',_,"?",_,".",Le,Ue,":",_,".",Le);return b.optional(function(){v.assert(x,Ge+" in "+j,"invalid "+C+"."+Le+Ue+", must be one of "+Object.keys(ja))}),Ge}var ae=V("src","RGB"),xe=V("dst","RGB");b.optional(function(){var Le=v.constants.invalidBlendCombinations;v.assert(x,Le+".indexOf("+ae+'+", "+'+xe+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var Ee=x.def(j,"[",ae,"]"),Ce=x.def(j,"[",V("src","Alpha"),"]"),Se=x.def(j,"[",xe,"]"),Ne=x.def(j,"[",V("dst","Alpha"),"]");return[Ee,Se,Ce,Ne]});case Ui:return z(function(v){if(typeof v=="string")return b.commandParameter(v,Q,"invalid "+C,m.commandStr),[Q[v],Q[v]];if(typeof v=="object")return b.commandParameter(v.rgb,Q,C+".rgb",m.commandStr),b.commandParameter(v.alpha,Q,C+".alpha",m.commandStr),[Q[v.rgb],Q[v.alpha]];b.commandRaise("invalid blend.equation",m.commandStr)},function(v,x,_){var j=v.constants.blendEquations,V=x.def(),ae=x.def(),xe=v.cond("typeof ",_,'==="string"');return b.optional(function(){function Ee(Ce,Se,Ne){v.assert(Ce,Ne+" in "+j,"invalid "+Se+", must be one of "+Object.keys(Q))}Ee(xe.then,C,_),v.assert(xe.else,_+"&&typeof "+_+'==="object"',"invalid "+C),Ee(xe.else,C+".rgb",_+".rgb"),Ee(xe.else,C+".alpha",_+".alpha")}),xe.then(V,"=",ae,"=",j,"[",_,"];"),xe.else(V,"=",j,"[",_,".rgb];",ae,"=",j,"[",_,".alpha];"),x(xe),[V,ae]});case Nr:return z(function(v){return b.command(en(v)&&v.length===4,"blend.color must be a 4d array",m.commandStr),Qn(4,function(x){return+v[x]})},function(v,x,_){return b.optional(function(){v.assert(x,v.shared.isArrayLike+"("+_+")&&"+_+".length===4","blend.color must be a 4d array")}),Qn(4,function(j){return x.def("+",_,"[",j,"]")})});case pt:return z(function(v){return b.commandType(v,"number",A,m.commandStr),v|0},function(v,x,_){return b.optional(function(){v.assert(x,"typeof "+_+'==="number"',"invalid stencil.mask")}),x.def(_,"|0")});case Ut:return z(function(v){b.commandType(v,"object",A,m.commandStr);var x=v.cmp||"keep",_=v.ref||0,j="mask"in v?v.mask:-1;return b.commandParameter(x,Kl,C+".cmp",m.commandStr),b.commandType(_,"number",C+".ref",m.commandStr),b.commandType(j,"number",C+".mask",m.commandStr),[Kl[x],_,j]},function(v,x,_){var j=v.constants.compareFuncs;b.optional(function(){function Ee(){v.assert(x,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Ee(_+"&&typeof ",_,'==="object"'),Ee('!("cmp" in ',_,")||(",_,".cmp in ",j,")")});var V=x.def('"cmp" in ',_,"?",j,"[",_,".cmp]",":",pl),ae=x.def(_,".ref|0"),xe=x.def('"mask" in ',_,"?",_,".mask|0:-1");return[V,ae,xe]});case un:case vl:return z(function(v){b.commandType(v,"object",A,m.commandStr);var x=v.fail||"keep",_=v.zfail||"keep",j=v.zpass||"keep";return b.commandParameter(x,ha,C+".fail",m.commandStr),b.commandParameter(_,ha,C+".zfail",m.commandStr),b.commandParameter(j,ha,C+".zpass",m.commandStr),[C===vl?al:Hr,ha[x],ha[_],ha[j]]},function(v,x,_){var j=v.constants.stencilOps;b.optional(function(){v.assert(x,_+"&&typeof "+_+'==="object"',"invalid "+C)});function V(ae){return b.optional(function(){v.assert(x,'!("'+ae+'" in '+_+")||("+_+"."+ae+" in "+j+")","invalid "+C+"."+ae+", must be one of "+Object.keys(ha))}),x.def('"',ae,'" in ',_,"?",j,"[",_,".",ae,"]:",pl)}return[C===vl?al:Hr,V("fail"),V("zfail"),V("zpass")]});case La:return z(function(v){b.commandType(v,"object",A,m.commandStr);var x=v.factor|0,_=v.units|0;return b.commandType(x,"number",A+".factor",m.commandStr),b.commandType(_,"number",A+".units",m.commandStr),[x,_]},function(v,x,_){b.optional(function(){v.assert(x,_+"&&typeof "+_+'==="object"',"invalid "+C)});var j=x.def(_,".factor|0"),V=x.def(_,".units|0");return[j,V]});case ia:return z(function(v){var x=0;return v==="front"?x=Hr:v==="back"&&(x=al),b.command(!!x,A,m.commandStr),x},function(v,x,_){return b.optional(function(){v.assert(x,_+'==="front"||'+_+'==="back"',"invalid cull.face")}),x.def(_,'==="front"?',Hr,":",al)});case Mu:return z(function(v){return b.command(typeof v=="number"&&v>=Y.lineWidthDims[0]&&v<=Y.lineWidthDims[1],"invalid line width, must be a positive number between "+Y.lineWidthDims[0]+" and "+Y.lineWidthDims[1],m.commandStr),v},function(v,x,_){return b.optional(function(){v.assert(x,"typeof "+_+'==="number"&&'+_+">="+Y.lineWidthDims[0]+"&&"+_+"<="+Y.lineWidthDims[1],"invalid line width")}),_});case wa:return z(function(v){return b.commandParameter(v,Vr,A,m.commandStr),Vr[v]},function(v,x,_){return b.optional(function(){v.assert(x,_+'==="cw"||'+_+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),x.def(_+'==="cw"?'+sc+":"+$i)});case Ru:return z(function(v){return b.command(en(v)&&v.length===4,"color.mask must be length 4 array",m.commandStr),v.map(function(x){return!!x})},function(v,x,_){return b.optional(function(){v.assert(x,v.shared.isArrayLike+"("+_+")&&"+_+".length===4","invalid color.mask")}),Qn(4,function(j){return"!!"+_+"["+j+"]"})});case Gr:return z(function(v){b.command(typeof v=="object"&&v,A,m.commandStr);var x="value"in v?v.value:1,_=!!v.invert;return b.command(typeof x=="number"&&x>=0&&x<=1,"sample.coverage.value must be a number between 0 and 1",m.commandStr),[x,_]},function(v,x,_){b.optional(function(){v.assert(x,_+"&&typeof "+_+'==="object"',"invalid sample.coverage")});var j=x.def('"value" in ',_,"?+",_,".value:1"),V=x.def("!!",_,".invert");return[j,V]})}}),D}function vt(p,m){var T=p.static,M=p.dynamic,D={};return Object.keys(T).forEach(function(C){var A=T[C],z;if(typeof A=="number"||typeof A=="boolean")z=Pt(function(){return A});else if(typeof A=="function"){var v=A._reglType;v==="texture2d"||v==="textureCube"?z=Pt(function(x){return x.link(A)}):v==="framebuffer"||v==="framebufferCube"?(b.command(A.color.length>0,'missing color attachment for framebuffer sent to uniform "'+C+'"',m.commandStr),z=Pt(function(x){return x.link(A.color[0])})):b.commandRaise('invalid data for uniform "'+C+'"',m.commandStr)}else en(A)?z=Pt(function(x){var _=x.global.def("[",Qn(A.length,function(j){return b.command(typeof A[j]=="number"||typeof A[j]=="boolean","invalid uniform "+C,x.commandStr),A[j]}),"]");return _}):b.commandRaise('invalid or missing data for uniform "'+C+'"',m.commandStr);z.value=A,D[C]=z}),Object.keys(M).forEach(function(C){var A=M[C];D[C]=kn(A,function(z,v){return z.invoke(v,A)})}),D}function Wt(p,m){var T=p.static,M=p.dynamic,D={};return Object.keys(T).forEach(function(C){var A=T[C],z=y.id(C),v=new B;if(Xu(A))v.state=ca,v.buffer=ne.getBuffer(ne.create(A,bl,!1,!0)),v.type=0;else{var x=ne.getBuffer(A);if(x)v.state=ca,v.buffer=x,v.type=0;else if(b.command(typeof A=="object"&&A,"invalid data for attribute "+C,m.commandStr),"constant"in A){var _=A.constant;v.buffer="null",v.state=Gi,typeof _=="number"?v.x=_:(b.command(en(_)&&_.length>0&&_.length<=4,"invalid constant for attribute "+C,m.commandStr),Ia.forEach(function(Se,Ne){Ne<_.length&&(v[Se]=_[Ne])}))}else{Xu(A.buffer)?x=ne.getBuffer(ne.create(A.buffer,bl,!1,!0)):x=ne.getBuffer(A.buffer),b.command(!!x,'missing buffer for attribute "'+C+'"',m.commandStr);var j=A.offset|0;b.command(j>=0,'invalid offset for attribute "'+C+'"',m.commandStr);var V=A.stride|0;b.command(V>=0&&V<256,'invalid stride for attribute "'+C+'", must be integer betweeen [0, 255]',m.commandStr);var ae=A.size|0;b.command(!("size"in A)||ae>0&&ae<=4,'invalid size for attribute "'+C+'", must be 1,2,3,4',m.commandStr);var xe=!!A.normalized,Ee=0;"type"in A&&(b.commandParameter(A.type,Ya,"invalid type for attribute "+C,m.commandStr),Ee=Ya[A.type]);var Ce=A.divisor|0;b.optional(function(){"divisor"in A&&(b.command(Ce===0||de,'cannot specify divisor for attribute "'+C+'", instancing not supported',m.commandStr),b.command(Ce>=0,'invalid divisor for attribute "'+C+'"',m.commandStr));var Se=m.commandStr,Ne=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(A).forEach(function(Le){b.command(Ne.indexOf(Le)>=0,'unknown parameter "'+Le+'" for attribute pointer "'+C+'" (valid parameters are '+Ne+")",Se)})}),v.buffer=x,v.state=ca,v.size=ae,v.normalized=xe,v.type=Ee||x.dtype,v.offset=j,v.stride=V,v.divisor=Ce}}D[C]=Pt(function(Se,Ne){var Le=Se.attribCache;if(z in Le)return Le[z];var Ue={isStream:!1};return Object.keys(v).forEach(function(Ge){Ue[Ge]=v[Ge]}),v.buffer&&(Ue.buffer=Se.link(v.buffer),Ue.type=Ue.type||Ue.buffer+".dtype"),Le[z]=Ue,Ue})}),Object.keys(M).forEach(function(C){var A=M[C];function z(v,x){var _=v.invoke(x,A),j=v.shared,V=v.constants,ae=j.isBufferArgs,xe=j.buffer;b.optional(function(){v.assert(x,_+"&&(typeof "+_+'==="object"||typeof '+_+'==="function")&&('+ae+"("+_+")||"+xe+".getBuffer("+_+")||"+xe+".getBuffer("+_+".buffer)||"+ae+"("+_+'.buffer)||("constant" in '+_+"&&(typeof "+_+'.constant==="number"||'+j.isArrayLike+"("+_+".constant))))",'invalid dynamic attribute "'+C+'"')});var Ee={isStream:x.def(!1)},Ce=new B;Ce.state=ca,Object.keys(Ce).forEach(function(Ue){Ee[Ue]=x.def(""+Ce[Ue])});var Se=Ee.buffer,Ne=Ee.type;x("if(",ae,"(",_,")){",Ee.isStream,"=true;",Se,"=",xe,".createStream(",bl,",",_,");",Ne,"=",Se,".dtype;","}else{",Se,"=",xe,".getBuffer(",_,");","if(",Se,"){",Ne,"=",Se,".dtype;",'}else if("constant" in ',_,"){",Ee.state,"=",Gi,";","if(typeof "+_+'.constant === "number"){',Ee[Ia[0]],"=",_,".constant;",Ia.slice(1).map(function(Ue){return Ee[Ue]}).join("="),"=0;","}else{",Ia.map(function(Ue,Ge){return Ee[Ue]+"="+_+".constant.length>"+Ge+"?"+_+".constant["+Ge+"]:0;"}).join(""),"}}else{","if(",ae,"(",_,".buffer)){",Se,"=",xe,".createStream(",bl,",",_,".buffer);","}else{",Se,"=",xe,".getBuffer(",_,".buffer);","}",Ne,'="type" in ',_,"?",V.glTypes,"[",_,".type]:",Se,".dtype;",Ee.normalized,"=!!",_,".normalized;");function Le(Ue){x(Ee[Ue],"=",_,".",Ue,"|0;")}return Le("size"),Le("offset"),Le("stride"),Le("divisor"),x("}}"),x.exit("if(",Ee.isStream,"){",xe,".destroyStream(",Se,");","}"),Ee}D[C]=kn(A,z)}),D}function At(p){var m=p.static,T=p.dynamic,M={};return Object.keys(m).forEach(function(D){var C=m[D];M[D]=Pt(function(A,z){return typeof C=="number"||typeof C=="boolean"?""+C:A.link(C)})}),Object.keys(T).forEach(function(D){var C=T[D];M[D]=kn(C,function(A,z){return A.invoke(z,C)})}),M}function tn(p,m,T,M,D){var C=p.static,A=p.dynamic;b.optional(function(){var Le=[oa,zu,Yt,el,tl,Du,yl,ki,Pa,Yl].concat(Ye);function Ue(Ge){Object.keys(Ge).forEach(function(Ve){b.command(Le.indexOf(Ve)>=0,'unknown parameter "'+Ve+'"',D.commandStr)})}Ue(C),Ue(A)});var z=at(p,m),v=we(p),x=$e(p,v,D),_=wt(p,D),j=Qt(p,D),V=st(p,D,z);function ae(Le){var Ue=x[Le];Ue&&(j[Le]=Ue)}ae(sa),ae(He(Ga));var xe=Object.keys(j).length>0,Ee={framebuffer:v,draw:_,shader:V,state:j,dirty:xe,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Ee.profile=he(p),Ee.uniforms=vt(T,D),Ee.drawVAO=Ee.scopeVAO=_.vao,!Ee.drawVAO&&V.program&&!z&&S.angle_instanced_arrays&&_.static.elements){var Ce=!0,Se=V.program.attributes.map(function(Le){var Ue=m.static[Le];return Ce=Ce&&!!Ue,Ue});if(Ce&&Se.length>0){var Ne=be.getVAO(be.createVAO({attributes:Se,elements:_.static.elements}));Ee.drawVAO=new It(null,null,null,function(Le,Ue){return Le.link(Ne)}),Ee.useVAO=!0}}return z?Ee.useVAO=!0:Ee.attributes=Wt(m,D),Ee.context=At(M),Ee}function nn(p,m,T){var M=p.shared,D=M.context,C=p.scope();Object.keys(T).forEach(function(A){m.save(D,"."+A);var z=T[A],v=z.append(p,m);Array.isArray(v)?C(D,".",A,"=[",v.join(),"];"):C(D,".",A,"=",v,";")}),m(C)}function fn(p,m,T,M){var D=p.shared,C=D.gl,A=D.framebuffer,z;ze&&(z=m.def(D.extensions,".webgl_draw_buffers"));var v=p.constants,x=v.drawBuffer,_=v.backBuffer,j;T?j=T.append(p,m):j=m.def(A,".next"),M||m("if(",j,"!==",A,".cur){"),m("if(",j,"){",C,".bindFramebuffer(",vc,",",j,".framebuffer);"),ze&&m(z,".drawBuffersWEBGL(",x,"[",j,".colorAttachments.length]);"),m("}else{",C,".bindFramebuffer(",vc,",null);"),ze&&m(z,".drawBuffersWEBGL(",_,");"),m("}",A,".cur=",j,";"),M||m("}")}function on(p,m,T){var M=p.shared,D=M.gl,C=p.current,A=p.next,z=M.current,v=M.next,x=p.cond(z,".dirty");Ye.forEach(function(_){var j=He(_);if(!(j in T.state)){var V,ae;if(j in A){V=A[j],ae=C[j];var xe=Qn(De[j].length,function(Ce){return x.def(V,"[",Ce,"]")});x(p.cond(xe.map(function(Ce,Se){return Ce+"!=="+ae+"["+Se+"]"}).join("||")).then(D,".",te[j],"(",xe,");",xe.map(function(Ce,Se){return ae+"["+Se+"]="+Ce}).join(";"),";"))}else{V=x.def(v,".",j);var Ee=p.cond(V,"!==",z,".",j);x(Ee),j in ee?Ee(p.cond(V).then(D,".enable(",ee[j],");").else(D,".disable(",ee[j],");"),z,".",j,"=",V,";"):Ee(D,".",te[j],"(",V,");",z,".",j,"=",V,";")}}}),Object.keys(T.state).length===0&&x(z,".dirty=false;"),m(x)}function pn(p,m,T,M){var D=p.shared,C=p.current,A=D.current,z=D.gl;yc(Object.keys(T)).forEach(function(v){var x=T[v];if(!(M&&!M(x))){var _=x.append(p,m);if(ee[v]){var j=ee[v];ll(x)?_?m(z,".enable(",j,");"):m(z,".disable(",j,");"):m(p.cond(_).then(z,".enable(",j,");").else(z,".disable(",j,");")),m(A,".",v,"=",_,";")}else if(en(_)){var V=C[v];m(z,".",te[v],"(",_,");",_.map(function(ae,xe){return V+"["+xe+"]="+ae}).join(";"),";")}else m(z,".",te[v],"(",_,");",A,".",v,"=",_,";")}})}function Zt(p,m){de&&(p.instancing=m.def(p.shared.extensions,".angle_instanced_arrays"))}function ft(p,m,T,M,D){var C=p.shared,A=p.stats,z=C.current,v=C.timer,x=T.profile;function _(){return typeof performance>"u"?"Date.now()":"performance.now()"}var j,V;function ae(Le){j=m.def(),Le(j,"=",_(),";"),typeof D=="string"?Le(A,".count+=",D,";"):Le(A,".count++;"),se&&(M?(V=m.def(),Le(V,"=",v,".getNumPendingQueries();")):Le(v,".beginQuery(",A,");"))}function xe(Le){Le(A,".cpuTime+=",_(),"-",j,";"),se&&(M?Le(v,".pushScopeStats(",V,",",v,".getNumPendingQueries(),",A,");"):Le(v,".endQuery();"))}function Ee(Le){var Ue=m.def(z,".profile");m(z,".profile=",Le,";"),m.exit(z,".profile=",Ue,";")}var Ce;if(x){if(ll(x)){x.enable?(ae(m),xe(m.exit),Ee("true")):Ee("false");return}Ce=x.append(p,m),Ee(Ce)}else Ce=m.def(z,".profile");var Se=p.block();ae(Se),m("if(",Ce,"){",Se,"}");var Ne=p.block();xe(Ne),m.exit("if(",Ce,"){",Ne,"}")}function Kt(p,m,T,M,D){var C=p.shared;function A(v){switch(v){case ju:case Zi:case Fl:return 2;case Uu:case Vu:case Ql:return 3;case Hu:case nl:case ku:return 4;default:return 1}}function z(v,x,_){var j=C.gl,V=m.def(v,".location"),ae=m.def(C.attributes,"[",V,"]"),xe=_.state,Ee=_.buffer,Ce=[_.x,_.y,_.z,_.w],Se=["buffer","normalized","offset","stride"];function Ne(){m("if(!",ae,".buffer){",j,".enableVertexAttribArray(",V,");}");var Ue=_.type,Ge;if(_.size?Ge=m.def(_.size,"||",x):Ge=x,m("if(",ae,".type!==",Ue,"||",ae,".size!==",Ge,"||",Se.map(function(Qe){return ae+"."+Qe+"!=="+_[Qe]}).join("||"),"){",j,".bindBuffer(",bl,",",Ee,".buffer);",j,".vertexAttribPointer(",[V,Ge,Ue,_.normalized,_.stride,_.offset],");",ae,".type=",Ue,";",ae,".size=",Ge,";",Se.map(function(Qe){return ae+"."+Qe+"="+_[Qe]+";"}).join(""),"}"),de){var Ve=_.divisor;m("if(",ae,".divisor!==",Ve,"){",p.instancing,".vertexAttribDivisorANGLE(",[V,Ve],");",ae,".divisor=",Ve,";}")}}function Le(){m("if(",ae,".buffer){",j,".disableVertexAttribArray(",V,");",ae,".buffer=null;","}if(",Ia.map(function(Ue,Ge){return ae+"."+Ue+"!=="+Ce[Ge]}).join("||"),"){",j,".vertexAttrib4f(",V,",",Ce,");",Ia.map(function(Ue,Ge){return ae+"."+Ue+"="+Ce[Ge]+";"}).join(""),"}")}xe===ca?Ne():xe===Gi?Le():(m("if(",xe,"===",ca,"){"),Ne(),m("}else{"),Le(),m("}"))}M.forEach(function(v){var x=v.name,_=T.attributes[x],j;if(_){if(!D(_))return;j=_.append(p,m)}else{if(!D(Pi))return;var V=p.scopeAttrib(x);b.optional(function(){p.assert(m,V+".state","missing attribute "+x)}),j={},Object.keys(new B).forEach(function(ae){j[ae]=m.def(V,".",ae)})}z(p.link(v),A(v.info.type),j)})}function lt(p,m,T,M,D,C){for(var A=p.shared,z=A.gl,v,x=0;x<M.length;++x){var _=M[x],j=_.name,V=_.info.type,ae=T.uniforms[j],xe=p.link(_),Ee=xe+".location",Ce;if(ae){if(!D(ae))continue;if(ll(ae)){var Se=ae.value;if(b.command(Se!==null&&typeof Se<"u",'missing uniform "'+j+'"',p.commandStr),V===jr||V===Ur){b.command(typeof Se=="function"&&(V===jr&&(Se._reglType==="texture2d"||Se._reglType==="framebuffer")||V===Ur&&(Se._reglType==="textureCube"||Se._reglType==="framebufferCube")),"invalid texture for uniform "+j,p.commandStr);var Ne=p.link(Se._texture||Se.color[0]._texture);m(z,".uniform1i(",Ee,",",Ne+".bind());"),m.exit(Ne,".unbind();")}else if(V===Zl||V===qu||V===Br){b.optional(function(){b.command(en(Se),"invalid matrix for uniform "+j,p.commandStr),b.command(V===Zl&&Se.length===4||V===qu&&Se.length===9||V===Br&&Se.length===16,"invalid length for matrix uniform "+j,p.commandStr)});var Le=p.global.def("new Float32Array(["+Array.prototype.slice.call(Se)+"])"),Ue=2;V===qu?Ue=3:V===Br&&(Ue=4),m(z,".uniformMatrix",Ue,"fv(",Ee,",false,",Le,");")}else{switch(V){case Fi:b.commandType(Se,"number","uniform "+j,p.commandStr),v="1f";break;case ju:b.command(en(Se)&&Se.length===2,"uniform "+j,p.commandStr),v="2f";break;case Uu:b.command(en(Se)&&Se.length===3,"uniform "+j,p.commandStr),v="3f";break;case Hu:b.command(en(Se)&&Se.length===4,"uniform "+j,p.commandStr),v="4f";break;case Ki:b.commandType(Se,"boolean","uniform "+j,p.commandStr),v="1i";break;case Qi:b.commandType(Se,"number","uniform "+j,p.commandStr),v="1i";break;case Fl:b.command(en(Se)&&Se.length===2,"uniform "+j,p.commandStr),v="2i";break;case Zi:b.command(en(Se)&&Se.length===2,"uniform "+j,p.commandStr),v="2i";break;case Ql:b.command(en(Se)&&Se.length===3,"uniform "+j,p.commandStr),v="3i";break;case Vu:b.command(en(Se)&&Se.length===3,"uniform "+j,p.commandStr),v="3i";break;case ku:b.command(en(Se)&&Se.length===4,"uniform "+j,p.commandStr),v="4i";break;case nl:b.command(en(Se)&&Se.length===4,"uniform "+j,p.commandStr),v="4i";break}m(z,".uniform",v,"(",Ee,",",en(Se)?Array.prototype.slice.call(Se):Se,");")}continue}else Ce=ae.append(p,m)}else{if(!D(Pi))continue;Ce=m.def(A.uniforms,"[",y.id(j),"]")}V===jr?(b(!Array.isArray(Ce),"must specify a scalar prop for textures"),m("if(",Ce,"&&",Ce,'._reglType==="framebuffer"){',Ce,"=",Ce,".color[0];","}")):V===Ur&&(b(!Array.isArray(Ce),"must specify a scalar prop for cube maps"),m("if(",Ce,"&&",Ce,'._reglType==="framebufferCube"){',Ce,"=",Ce,".color[0];","}")),b.optional(function(){function it(Rn,$l){p.assert(m,Rn,'bad data or missing for uniform "'+j+'".  '+$l)}function yt(Rn){b(!Array.isArray(Ce),"must not specify an array type for uniform"),it("typeof "+Ce+'==="'+Rn+'"',"invalid type, expected "+Rn)}function St(Rn,$l){Array.isArray(Ce)?b(Ce.length===Rn,"must have length "+Rn):it(A.isArrayLike+"("+Ce+")&&"+Ce+".length==="+Rn,"invalid vector, should have length "+Rn,p.commandStr)}function Pn(Rn){b(!Array.isArray(Ce),"must not specify a value type"),it("typeof "+Ce+'==="function"&&'+Ce+'._reglType==="texture'+(Rn===ic?"2d":"Cube")+'"',"invalid texture type",p.commandStr)}switch(V){case Qi:yt("number");break;case Zi:St(2);break;case Vu:St(3);break;case nl:St(4);break;case Fi:yt("number");break;case ju:St(2);break;case Uu:St(3);break;case Hu:St(4);break;case Ki:yt("boolean");break;case Fl:St(2);break;case Ql:St(3);break;case ku:St(4);break;case Zl:St(4);break;case qu:St(9);break;case Br:St(16);break;case jr:Pn(ic);break;case Ur:Pn(Bs);break}});var Ge=1;switch(V){case jr:case Ur:var Ve=m.def(Ce,"._texture");m(z,".uniform1i(",Ee,",",Ve,".bind());"),m.exit(Ve,".unbind();");continue;case Qi:case Ki:v="1i";break;case Zi:case Fl:v="2i",Ge=2;break;case Vu:case Ql:v="3i",Ge=3;break;case nl:case ku:v="4i",Ge=4;break;case Fi:v="1f";break;case ju:v="2f",Ge=2;break;case Uu:v="3f",Ge=3;break;case Hu:v="4f",Ge=4;break;case Zl:v="Matrix2fv";break;case qu:v="Matrix3fv";break;case Br:v="Matrix4fv";break}if(v.charAt(0)==="M"){m(z,".uniform",v,"(",Ee,",");var Qe=Math.pow(V-Zl+2,2),Nt=p.global.def("new Float32Array(",Qe,")");Array.isArray(Ce)?m("false,(",Qn(Qe,function(it){return Nt+"["+it+"]="+Ce[it]}),",",Nt,")"):m("false,(Array.isArray(",Ce,")||",Ce," instanceof Float32Array)?",Ce,":(",Qn(Qe,function(it){return Nt+"["+it+"]="+Ce+"["+it+"]"}),",",Nt,")"),m(");")}else if(Ge>1){for(var xn=[],rl=[],Et=0;Et<Ge;++Et)Array.isArray(Ce)?rl.push(Ce[Et]):rl.push(m.def(Ce+"["+Et+"]")),C&&xn.push(m.def());C&&m("if(!",p.batchId,"||",xn.map(function(it,yt){return it+"!=="+rl[yt]}).join("||"),"){",xn.map(function(it,yt){return it+"="+rl[yt]+";"}).join("")),m(z,".uniform",v,"(",Ee,",",rl.join(","),");"),C&&m("}")}else{if(b(!Array.isArray(Ce),"uniform value must not be an array"),C){var Rt=m.def();m("if(!",p.batchId,"||",Rt,"!==",Ce,"){",Rt,"=",Ce,";")}m(z,".uniform",v,"(",Ee,",",Ce,");"),C&&m("}")}}}function Fe(p,m,T,M){var D=p.shared,C=D.gl,A=D.draw,z=M.draw;function v(){var Ge=z.elements,Ve,Qe=m;return Ge?((Ge.contextDep&&M.contextDynamic||Ge.propDep)&&(Qe=T),Ve=Ge.append(p,Qe),z.elementsActive&&Qe("if("+Ve+")"+C+".bindBuffer("+Bu+","+Ve+".buffer.buffer);")):(Ve=Qe.def(),Qe(Ve,"=",A,".",el,";","if(",Ve,"){",C,".bindBuffer(",Bu,",",Ve,".buffer.buffer);}","else if(",D.vao,".currentVAO){",Ve,"=",p.shared.elements+".getElements("+D.vao,".currentVAO.elements);",re?"":"if("+Ve+")"+C+".bindBuffer("+Bu+","+Ve+".buffer.buffer);","}")),Ve}function x(){var Ge=z.count,Ve,Qe=m;return Ge?((Ge.contextDep&&M.contextDynamic||Ge.propDep)&&(Qe=T),Ve=Ge.append(p,Qe),b.optional(function(){Ge.MISSING&&p.assert(m,"false","missing vertex count"),Ge.DYNAMIC&&p.assert(Qe,Ve+">=0","missing vertex count")})):(Ve=Qe.def(A,".",yl),b.optional(function(){p.assert(Qe,Ve+">=0","missing vertex count")})),Ve}var _=v();function j(Ge){var Ve=z[Ge];return Ve?Ve.contextDep&&M.contextDynamic||Ve.propDep?Ve.append(p,T):Ve.append(p,m):m.def(A,".",Ge)}var V=j(tl),ae=j(Du),xe=x();if(typeof xe=="number"){if(xe===0)return}else T("if(",xe,"){"),T.exit("}");var Ee,Ce;de&&(Ee=j(ki),Ce=p.instancing);var Se=_+".type",Ne=z.elements&&ll(z.elements)&&!z.vaoActive;function Le(){function Ge(){T(Ce,".drawElementsInstancedANGLE(",[V,xe,Se,ae+"<<(("+Se+"-"+lc+")>>1)",Ee],");")}function Ve(){T(Ce,".drawArraysInstancedANGLE(",[V,ae,xe,Ee],");")}_&&_!=="null"?Ne?Ge():(T("if(",_,"){"),Ge(),T("}else{"),Ve(),T("}")):Ve()}function Ue(){function Ge(){T(C+".drawElements("+[V,xe,Se,ae+"<<(("+Se+"-"+lc+")>>1)"]+");")}function Ve(){T(C+".drawArrays("+[V,ae,xe]+");")}_&&_!=="null"?Ne?Ge():(T("if(",_,"){"),Ge(),T("}else{"),Ve(),T("}")):Ve()}de&&(typeof Ee!="number"||Ee>=0)?typeof Ee=="string"?(T("if(",Ee,">0){"),Le(),T("}else if(",Ee,"<0){"),Ue(),T("}")):Le():Ue()}function dt(p,m,T,M,D){var C=Je(),A=C.proc("body",D);return b.optional(function(){C.commandStr=m.commandStr,C.command=C.link(m.commandStr)}),de&&(C.instancing=A.def(C.shared.extensions,".angle_instanced_arrays")),p(C,A,T,M),C.compile().body}function tt(p,m,T,M){Zt(p,m),T.useVAO?T.drawVAO?m(p.shared.vao,".setVAO(",T.drawVAO.append(p,m),");"):m(p.shared.vao,".setVAO(",p.shared.vao,".targetVAO);"):(m(p.shared.vao,".setVAO(null);"),Kt(p,m,T,M.attributes,function(){return!0})),lt(p,m,T,M.uniforms,function(){return!0},!1),Fe(p,m,m,T)}function an(p,m){var T=p.proc("draw",1);Zt(p,T),nn(p,T,m.context),fn(p,T,m.framebuffer),on(p,T,m),pn(p,T,m.state),ft(p,T,m,!1,!0);var M=m.shader.progVar.append(p,T);if(T(p.shared.gl,".useProgram(",M,".program);"),m.shader.program)tt(p,T,m,m.shader.program);else{T(p.shared.vao,".setVAO(null);");var D=p.global.def("{}"),C=T.def(M,".id"),A=T.def(D,"[",C,"]");T(p.cond(A).then(A,".call(this,a0);").else(A,"=",D,"[",C,"]=",p.link(function(z){return dt(tt,p,m,z,1)}),"(",M,");",A,".call(this,a0);"))}Object.keys(m.state).length>0&&T(p.shared.current,".dirty=true;"),p.shared.vao&&T(p.shared.vao,".setVAO(null);")}function ga(p,m,T,M){p.batchId="a1",Zt(p,m);function D(){return!0}Kt(p,m,T,M.attributes,D),lt(p,m,T,M.uniforms,D,!1),Fe(p,m,m,T)}function gl(p,m,T,M){Zt(p,m);var D=T.contextDep,C=m.def(),A="a0",z="a1",v=m.def();p.shared.props=v,p.batchId=C;var x=p.scope(),_=p.scope();m(x.entry,"for(",C,"=0;",C,"<",z,";++",C,"){",v,"=",A,"[",C,"];",_,"}",x.exit);function j(Se){return Se.contextDep&&D||Se.propDep}function V(Se){return!j(Se)}if(T.needsContext&&nn(p,_,T.context),T.needsFramebuffer&&fn(p,_,T.framebuffer),pn(p,_,T.state,j),T.profile&&j(T.profile)&&ft(p,_,T,!1,!0),M)T.useVAO?T.drawVAO?j(T.drawVAO)?_(p.shared.vao,".setVAO(",T.drawVAO.append(p,_),");"):x(p.shared.vao,".setVAO(",T.drawVAO.append(p,x),");"):x(p.shared.vao,".setVAO(",p.shared.vao,".targetVAO);"):(x(p.shared.vao,".setVAO(null);"),Kt(p,x,T,M.attributes,V),Kt(p,_,T,M.attributes,j)),lt(p,x,T,M.uniforms,V,!1),lt(p,_,T,M.uniforms,j,!0),Fe(p,x,_,T);else{var ae=p.global.def("{}"),xe=T.shader.progVar.append(p,_),Ee=_.def(xe,".id"),Ce=_.def(ae,"[",Ee,"]");_(p.shared.gl,".useProgram(",xe,".program);","if(!",Ce,"){",Ce,"=",ae,"[",Ee,"]=",p.link(function(Se){return dt(ga,p,T,Se,2)}),"(",xe,");}",Ce,".call(this,a0[",C,"],",C,");")}}function g(p,m){var T=p.proc("batch",2);p.batchId="0",Zt(p,T);var M=!1,D=!0;Object.keys(m.context).forEach(function(ae){M=M||m.context[ae].propDep}),M||(nn(p,T,m.context),D=!1);var C=m.framebuffer,A=!1;C?(C.propDep?M=A=!0:C.contextDep&&M&&(A=!0),A||fn(p,T,C)):fn(p,T,null),m.state.viewport&&m.state.viewport.propDep&&(M=!0);function z(ae){return ae.contextDep&&M||ae.propDep}on(p,T,m),pn(p,T,m.state,function(ae){return!z(ae)}),(!m.profile||!z(m.profile))&&ft(p,T,m,!1,"a1"),m.contextDep=M,m.needsContext=D,m.needsFramebuffer=A;var v=m.shader.progVar;if(v.contextDep&&M||v.propDep)gl(p,T,m,null);else{var x=v.append(p,T);if(T(p.shared.gl,".useProgram(",x,".program);"),m.shader.program)gl(p,T,m,m.shader.program);else{T(p.shared.vao,".setVAO(null);");var _=p.global.def("{}"),j=T.def(x,".id"),V=T.def(_,"[",j,"]");T(p.cond(V).then(V,".call(this,a0,a1);").else(V,"=",_,"[",j,"]=",p.link(function(ae){return dt(gl,p,m,ae,2)}),"(",x,");",V,".call(this,a0,a1);"))}}Object.keys(m.state).length>0&&T(p.shared.current,".dirty=true;"),p.shared.vao&&T(p.shared.vao,".setVAO(null);")}function k(p,m){var T=p.proc("scope",3);p.batchId="a2";var M=p.shared,D=M.current;nn(p,T,m.context),m.framebuffer&&m.framebuffer.append(p,T),yc(Object.keys(m.state)).forEach(function(A){var z=m.state[A],v=z.append(p,T);en(v)?v.forEach(function(x,_){T.set(p.next[A],"["+_+"]",x)}):T.set(M.next,"."+A,v)}),ft(p,T,m,!0,!0),[el,Du,yl,ki,tl].forEach(function(A){var z=m.draw[A];z&&T.set(M.draw,"."+A,""+z.append(p,T))}),Object.keys(m.uniforms).forEach(function(A){var z=m.uniforms[A].append(p,T);Array.isArray(z)&&(z="["+z.join()+"]"),T.set(M.uniforms,"["+y.id(A)+"]",z)}),Object.keys(m.attributes).forEach(function(A){var z=m.attributes[A].append(p,T),v=p.scopeAttrib(A);Object.keys(new B).forEach(function(x){T.set(v,"."+x,z[x])})}),m.scopeVAO&&T.set(M.vao,".targetVAO",m.scopeVAO.append(p,T));function C(A){var z=m.shader[A];z&&T.set(M.shader,"."+A,z.append(p,T))}C(zu),C(Yt),Object.keys(m.state).length>0&&(T(D,".dirty=true;"),T.exit(D,".dirty=true;")),T("a1(",p.shared.context,",a0,",p.batchId,");")}function H(p){if(!(typeof p!="object"||en(p))){for(var m=Object.keys(p),T=0;T<m.length;++T)if(mn.isDynamic(p[m[T]]))return!0;return!1}}function Be(p,m,T){var M=m.static[T];if(!M||!H(M))return;var D=p.global,C=Object.keys(M),A=!1,z=!1,v=!1,x=p.global.def("{}");C.forEach(function(j){var V=M[j];if(mn.isDynamic(V)){typeof V=="function"&&(V=M[j]=mn.unbox(V));var ae=kn(V,null);A=A||ae.thisDep,v=v||ae.propDep,z=z||ae.contextDep}else{switch(D(x,".",j,"="),typeof V){case"number":D(V);break;case"string":D('"',V,'"');break;case"object":Array.isArray(V)&&D("[",V.join(),"]");break;default:D(p.link(V));break}D(";")}});function _(j,V){C.forEach(function(ae){var xe=M[ae];if(mn.isDynamic(xe)){var Ee=j.invoke(V,xe);V(x,".",ae,"=",Ee,";")}})}m.dynamic[T]=new mn.DynamicVariable(pa,{thisDep:A,contextDep:z,propDep:v,ref:x,append:_}),delete m.static[T]}function mt(p,m,T,M,D){var C=Je();C.stats=C.link(D),Object.keys(m.static).forEach(function(z){Be(C,m,z)}),Yi.forEach(function(z){Be(C,p,z)});var A=tn(p,m,T,M,C);return an(C,A),k(C,A),g(C,A),f(C.compile(),{destroy:function(){A.shader.program.destroy()}})}return{next:Re,current:De,procs:(function(){var p=Je(),m=p.proc("poll"),T=p.proc("refresh"),M=p.block();m(M),T(M);var D=p.shared,C=D.gl,A=D.next,z=D.current;M(z,".dirty=false;"),fn(p,m),fn(p,T,null,!0);var v;de&&(v=p.link(de)),S.oes_vertex_array_object&&T(p.link(S.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var x=0;x<Y.maxAttributes;++x){var _=T.def(D.attributes,"[",x,"]"),j=p.cond(_,".buffer");j.then(C,".enableVertexAttribArray(",x,");",C,".bindBuffer(",bl,",",_,".buffer.buffer);",C,".vertexAttribPointer(",x,",",_,".size,",_,".type,",_,".normalized,",_,".stride,",_,".offset);").else(C,".disableVertexAttribArray(",x,");",C,".vertexAttrib4f(",x,",",_,".x,",_,".y,",_,".z,",_,".w);",_,".buffer=null;"),T(j),de&&T(v,".vertexAttribDivisorANGLE(",x,",",_,".divisor);")}return T(p.shared.vao,".currentVAO=null;",p.shared.vao,".setVAO(",p.shared.vao,".targetVAO);"),Object.keys(ee).forEach(function(V){var ae=ee[V],xe=M.def(A,".",V),Ee=p.block();Ee("if(",xe,"){",C,".enable(",ae,")}else{",C,".disable(",ae,")}",z,".",V,"=",xe,";"),T(Ee),m("if(",xe,"!==",z,".",V,"){",Ee,"}")}),Object.keys(te).forEach(function(V){var ae=te[V],xe=De[V],Ee,Ce,Se=p.block();if(Se(C,".",ae,"("),en(xe)){var Ne=xe.length;Ee=p.global.def(A,".",V),Ce=p.global.def(z,".",V),Se(Qn(Ne,function(Le){return Ee+"["+Le+"]"}),");",Qn(Ne,function(Le){return Ce+"["+Le+"]="+Ee+"["+Le+"];"}).join("")),m("if(",Qn(Ne,function(Le){return Ee+"["+Le+"]!=="+Ce+"["+Le+"]"}).join("||"),"){",Se,"}")}else Ee=M.def(A,".",V),Ce=M.def(z,".",V),Se(Ee,");",z,".",V,"=",Ee,";"),m("if(",Ee,"!==",Ce,"){",Se,"}");T(Se)}),p.compile()})(),compile:mt}}function Zs(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var Ks=34918,Jl=34919,pc=35007,Js=function(i,y){if(!y.ext_disjoint_timer_query)return null;var S=[];function Y(){return S.pop()||y.ext_disjoint_timer_query.createQueryEXT()}function ne(de){S.push(de)}var F=[];function J(de){var ze=Y();y.ext_disjoint_timer_query.beginQueryEXT(pc,ze),F.push(ze),se(F.length-1,F.length,de)}function oe(){y.ext_disjoint_timer_query.endQueryEXT(pc)}function fe(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var be=[];function _e(){return be.pop()||new fe}function ge(de){be.push(de)}var Te=[];function se(de,ze,re){var De=_e();De.startQueryIndex=de,De.endQueryIndex=ze,De.sum=0,De.stats=re,Te.push(De)}var ve=[],B=[];function Q(){var de,ze,re=F.length;if(re!==0){B.length=Math.max(B.length,re+1),ve.length=Math.max(ve.length,re+1),ve[0]=0,B[0]=0;var De=0;for(de=0,ze=0;ze<F.length;++ze){var Re=F[ze];y.ext_disjoint_timer_query.getQueryObjectEXT(Re,Jl)?(De+=y.ext_disjoint_timer_query.getQueryObjectEXT(Re,Ks),ne(Re)):F[de++]=Re,ve[ze+1]=De,B[ze+1]=de}for(F.length=de,de=0,ze=0;ze<Te.length;++ze){var Ye=Te[ze],ee=Ye.startQueryIndex,te=Ye.endQueryIndex;Ye.sum+=ve[te]-ve[ee];var He=B[ee],Ae=B[te];Ae===He?(Ye.stats.gpuTime+=Ye.sum/1e6,ge(Ye)):(Ye.startQueryIndex=He,Ye.endQueryIndex=Ae,Te[de++]=Ye)}Te.length=de}}return{beginQuery:J,endQuery:oe,pushScopeStats:se,update:Q,getNumPendingQueries:function(){return F.length},clear:function(){S.push.apply(S,F);for(var de=0;de<S.length;de++)y.ext_disjoint_timer_query.deleteQueryEXT(S[de]);F.length=0,S.length=0},restore:function(){F.length=0,S.length=0}}},$s=16384,ef=256,Ws=1024,gc=34962,_c="webglcontextlost",Sc="webglcontextrestored",Is=1,Ec=2,bn=3;function Cn(i,y){for(var S=0;S<i.length;++S)if(i[S]===y)return S;return-1}function Ps(i){var y=tu(i);if(!y)return null;var S=y.gl,Y=S.getContextAttributes(),ne=S.isContextLost(),F=qo(S,y);if(!F)return null;var J=Vo(),oe=Zs(),fe=F.extensions,be=Js(S,fe),_e=qc(),ge=S.drawingBufferWidth,Te=S.drawingBufferHeight,se={tick:0,time:0,viewportWidth:ge,viewportHeight:Te,framebufferWidth:ge,framebufferHeight:Te,drawingBufferWidth:ge,drawingBufferHeight:Te,pixelRatio:y.pixelRatio},ve={},B={elements:null,primitive:4,count:-1,offset:0,instances:-1},Q=es(S,fe),de=Mf(S,oe,y,De),ze=Po(S,fe,de,oe),re=zr(S,fe,Q,oe,de,ze,B);function De(Fe){return re.destroyBuffer(Fe)}var Re=ws(S,J,oe,y),Ye=yu(S,fe,Q,function(){He.procs.poll()},se,oe,y),ee=ol(S,fe,Q,oe,y),te=s0(S,fe,Q,Ye,ee,oe),He=bc(S,J,fe,Q,de,ze,Ye,te,ve,re,Re,B,se,be,y),Ae=Dr(S,te,He.procs.poll,se,Y,fe,Q),ce=He.next,Oe=S.canvas,Me=[],nt=[],Je=[],he=[y.onDestroy],we=null;function $e(){if(Me.length===0){be&&be.update(),we=null;return}we=Hn.next($e),pn();for(var Fe=Me.length-1;Fe>=0;--Fe){var dt=Me[Fe];dt&&dt(se,null,0)}S.flush(),be&&be.update()}function at(){!we&&Me.length>0&&(we=Hn.next($e))}function st(){we&&(Hn.cancel($e),we=null)}function wt(Fe){Fe.preventDefault(),ne=!0,st(),nt.forEach(function(dt){dt()})}function Qt(Fe){S.getError(),ne=!1,F.restore(),Re.restore(),de.restore(),Ye.restore(),ee.restore(),te.restore(),re.restore(),be&&be.restore(),He.procs.refresh(),at(),Je.forEach(function(dt){dt()})}Oe&&(Oe.addEventListener(_c,wt,!1),Oe.addEventListener(Sc,Qt,!1));function vt(){Me.length=0,st(),Oe&&(Oe.removeEventListener(_c,wt),Oe.removeEventListener(Sc,Qt)),Re.clear(),te.clear(),ee.clear(),re.clear(),Ye.clear(),ze.clear(),de.clear(),be&&be.clear(),he.forEach(function(Fe){Fe()})}function Wt(Fe){b(!!Fe,"invalid args to regl({...})"),b.type(Fe,"object","invalid args to regl({...})");function dt(D){var C=f({},D);delete C.uniforms,delete C.attributes,delete C.context,delete C.vao,"stencil"in C&&C.stencil.op&&(C.stencil.opBack=C.stencil.opFront=C.stencil.op,delete C.stencil.op);function A(z){if(z in C){var v=C[z];delete C[z],Object.keys(v).forEach(function(x){C[z+"."+x]=v[x]})}}return A("blend"),A("depth"),A("cull"),A("stencil"),A("polygonOffset"),A("scissor"),A("sample"),"vao"in D&&(C.vao=D.vao),C}function tt(D,C){var A={},z={};return Object.keys(D).forEach(function(v){var x=D[v];if(mn.isDynamic(x)){z[v]=mn.unbox(x,v);return}else if(C&&Array.isArray(x)){for(var _=0;_<x.length;++_)if(mn.isDynamic(x[_])){z[v]=mn.unbox(x,v);return}}A[v]=x}),{dynamic:z,static:A}}var an=tt(Fe.context||{},!0),ga=tt(Fe.uniforms||{},!0),gl=tt(Fe.attributes||{},!1),g=tt(dt(Fe),!1),k={gpuTime:0,cpuTime:0,count:0},H=He.compile(g,gl,ga,an,k),Be=H.draw,mt=H.batch,p=H.scope,m=[];function T(D){for(;m.length<D;)m.push(null);return m}function M(D,C){var A;if(ne&&b.raise("context lost"),typeof D=="function")return p.call(this,null,D,0);if(typeof C=="function")if(typeof D=="number")for(A=0;A<D;++A)p.call(this,null,C,A);else if(Array.isArray(D))for(A=0;A<D.length;++A)p.call(this,D[A],C,A);else return p.call(this,D,C,0);else if(typeof D=="number"){if(D>0)return mt.call(this,T(D|0),D|0)}else if(Array.isArray(D)){if(D.length)return mt.call(this,D,D.length)}else return Be.call(this,D)}return f(M,{stats:k,destroy:function(){H.destroy()}})}var At=te.setFBO=Wt({framebuffer:mn.define.call(null,Is,"framebuffer")});function tn(Fe,dt){var tt=0;He.procs.poll();var an=dt.color;an&&(S.clearColor(+an[0]||0,+an[1]||0,+an[2]||0,+an[3]||0),tt|=$s),"depth"in dt&&(S.clearDepth(+dt.depth),tt|=ef),"stencil"in dt&&(S.clearStencil(dt.stencil|0),tt|=Ws),b(!!tt,"called regl.clear with no buffer specified"),S.clear(tt)}function nn(Fe){if(b(typeof Fe=="object"&&Fe,"regl.clear() takes an object as input"),"framebuffer"in Fe)if(Fe.framebuffer&&Fe.framebuffer_reglType==="framebufferCube")for(var dt=0;dt<6;++dt)At(f({framebuffer:Fe.framebuffer.faces[dt]},Fe),tn);else At(Fe,tn);else tn(null,Fe)}function fn(Fe){b.type(Fe,"function","regl.frame() callback must be a function"),Me.push(Fe);function dt(){var tt=Cn(Me,Fe);b(tt>=0,"cannot cancel a frame twice");function an(){var ga=Cn(Me,an);Me[ga]=Me[Me.length-1],Me.length-=1,Me.length<=0&&st()}Me[tt]=an}return at(),{cancel:dt}}function on(){var Fe=ce.viewport,dt=ce.scissor_box;Fe[0]=Fe[1]=dt[0]=dt[1]=0,se.viewportWidth=se.framebufferWidth=se.drawingBufferWidth=Fe[2]=dt[2]=S.drawingBufferWidth,se.viewportHeight=se.framebufferHeight=se.drawingBufferHeight=Fe[3]=dt[3]=S.drawingBufferHeight}function pn(){se.tick+=1,se.time=ft(),on(),He.procs.poll()}function Zt(){Ye.refresh(),on(),He.procs.refresh(),be&&be.update()}function ft(){return(qc()-_e)/1e3}Zt();function Kt(Fe,dt){b.type(dt,"function","listener callback must be a function");var tt;switch(Fe){case"frame":return fn(dt);case"lost":tt=nt;break;case"restore":tt=Je;break;case"destroy":tt=he;break;default:b.raise("invalid event, must be one of frame,lost,restore,destroy")}return tt.push(dt),{cancel:function(){for(var an=0;an<tt.length;++an)if(tt[an]===dt){tt[an]=tt[tt.length-1],tt.pop();return}}}}var lt=f(Wt,{clear:nn,prop:mn.define.bind(null,Is),context:mn.define.bind(null,Ec),this:mn.define.bind(null,bn),draw:Wt({}),buffer:function(Fe){return de.create(Fe,gc,!1,!1)},elements:function(Fe){return ze.create(Fe,!1)},texture:Ye.create2D,cube:Ye.createCube,renderbuffer:ee.create,framebuffer:te.create,framebufferCube:te.createCube,vao:re.createVAO,attributes:Y,frame:fn,on:Kt,limits:Q,hasExtension:function(Fe){return Q.extensions.indexOf(Fe.toLowerCase())>=0},read:Ae,destroy:vt,_gl:S,_refresh:Zt,poll:function(){pn(),be&&be.update()},now:ft,stats:oe});return y.onDone(null,lt),lt}return Ps}))})(Co)),Co.exports}var uv=rv();const iv=K1(uv);function fv({ref:u}){const{commandsRef:s,controls:o,controlsRef:f,setControls:h}=df(),{simulationRef:E}=hh(),{activeToolRef:O}=Go();P.useLayoutEffect(()=>{if(!u.current)return;const I=u.current,Pe=new ResizeObserver(ut=>{const[{contentRect:et}]=ut,{width:ht,height:qt}=et;I.width=Math.round(ht),I.height=Math.round(qt);const zt=Math.round(I.width*o.scale),je=Math.round(I.height*o.scale);(E.current.width!==zt||E.current.height!==je)&&E.current.updateSize(zt,je)});return Pe.observe(I),()=>Pe.disconnect()},[o.scale]);const U=P.useCallback(({clientX:I,clientY:Pe})=>{if(!u.current)throw new Error("oh no");const ut=u.current.getBoundingClientRect(),et=Math.max(0,Math.round((I-ut.x)*f.current.scale)),ht=Math.max(0,Math.round((Pe-ut.top)*f.current.scale));return[et,ht]},[]),q=P.useCallback(I=>E.current.use(...U(I),O.current),[U,h]),N=P.useCallback(I=>{I.preventDefault(),E.current.use(...U(I),{id:"erase"})},[U,h]),$=P.useCallback(I=>{I.buttons&&(I.buttons&1&&!["erase","noise"].includes(O.current.id)||E.current.use(...U(I),I.buttons&2?{id:"erase"}:O.current))},[U,h]);return P.useEffect(()=>s.current.subscribe(ch.Save,()=>{u.current&&u.current.toBlob(I=>{if(!I)return;const Pe=URL.createObjectURL(I),ut=document.createElement("a");ut.download=`game-of-life-${new Date().toISOString()}.png`,ut.href=Pe,ut.click(),ut.remove(),URL.revokeObjectURL(Pe)},"image/png",1)}),[]),w.jsx("canvas",{ref:u,onMouseMove:$,onClick:q,onContextMenu:N,className:"overflow-hidden "})}function cv(){const u=P.useRef(null),{controlsRef:s}=df(),{simulationRef:o,stepTimesRef:f}=hh(),{themeDarkRef:h,themeRef:E}=Fm(),O=P.useRef(null),{controlsRef:U}=km();return P.useEffect(()=>{if(!u.current)return;const q=new $m(100),N=u.current.getContext("webgl",{preserveDrawingBuffer:!0});if(!N)return;const $=iv({gl:N,extensions:["angle_instanced_arrays"]});let I=o.current.size;const Pe=$.buffer({type:"uint8",usage:"dynamic",length:I*3}),ut=$.buffer({type:"uint16",usage:"dynamic",length:I*2});let et=new Uint8Array(I*3),ht=new Uint16Array(I*2),qt=-1;const zt=$.texture({width:o.current.width,height:o.current.height,format:"rgba"}),je=$.framebuffer({color:zt,stencil:!1});let We=Array.from({length:3},()=>{if(!u.current)throw new Error("stop");const bt=$.texture({width:u.current.width,height:u.current.height,format:"rgba"});return{texture:bt,framefuffer:$.framebuffer({color:bt,stencil:!1})}});const _n=$({vert:`
        #pragma vscode_glsllint_stage : vert
        precision mediump float;
        // only attributes support instanced data
        attribute vec2 verts;
        attribute lowp vec3 colour;
        attribute vec2 position;
        // uniforms are per-call
        uniform vec2 gridSize;
        // varying is for passing data from vertex to fragment shader
        varying lowp vec3 vColour;
        void main() {
          vec2 scale = 2.0 / gridSize;
          // coord space is -1 to 1
          vec2 cell = vec2(-1.0, -1.0) + verts * scale + position * scale;
          // gl y is inverted to the canvas and sim
          gl_Position = vec4(cell.x, -cell.y, 0, 1);
          // attributes have to be passed as varyings to the fragment shader
          vColour = colour;
        }`,frag:`
        #pragma vscode_glsllint_stage : frag
        precision lowp float;
        varying lowp vec3 vColour;
        void main() {
          // from the vertex shader
          gl_FragColor = vec4(vColour / 255.0, 1.0);
        }`,attributes:{verts:[[0,0],[1,0],[0,1],[0,1],[1,0],[1,1]],colour:{buffer:Pe,divisor:1},position:{buffer:ut,divisor:1}},count:6,uniforms:{gridSize:$.prop("gridSize")},instances:$.prop("instances"),framebuffer:$.prop("framebuffer")}),hn=$({vert:`
        #pragma vscode_glsllint_stage : vert
        precision mediump float;
        varying vec2 uv;
        attribute vec2 verts;

        void main() {
          uv = verts * 0.5 + 0.5;
          gl_Position = vec4(verts, 0, 1);
        }
      `,frag:`
        #pragma vscode_glsllint_stage : frag
        precision lowp float;

        uniform lowp sampler2D texture;
        uniform vec2 canvasSize;
        uniform float radius;
        uniform float step;
        uniform float falloff;
        uniform bool wrap;

        varying vec2 uv;

        const float maxBounds = 16.0;

        float modOne(float value) {
          if (!wrap) return value;
          if (value > 1.0) return value - 1.0;
          if (value < 0.0) return value + 1.0;
          return value;
        }

        void main() {
          float maxR2 = pow(radius, 2.0);
          vec2 pixel = vec2(1, 1) / canvasSize * step;
          vec4 blur = vec4(0, 0, 0, 0);

          // loop over neighbours, exclude by r2, accumulate their colour multiplied by falloff into blur
          // the for loop initialialiser and limit must be constants so this is quite horrendous
          for (float x = -maxBounds; x <= maxBounds; x++) {
            if (x < -radius || x > radius) continue;
            for (float y = -maxBounds; y <= maxBounds; y++) {
              if (y < -radius || y > radius) continue;
              float r2 = pow(x, 2.0) + pow(y, 2.0);
              if (r2 >= maxR2) continue;
              vec2 unbounded = uv + (vec2(x, y) * pixel);
              // apparently there is no mod operator
              vec2 wrapped = vec2(modOne(unbounded.x), modOne(unbounded.y));
              vec4 pointColour = texture2D(texture, wrapped);
              blur += pointColour * pow((maxR2 - r2) / maxR2, falloff) * 0.05;
            }
          }

          gl_FragColor = clamp(blur, 0.0, 1.0);
        }
      `,uniforms:{texture:zt,canvasSize:$.prop("canvasSize"),radius:$.prop("radius"),step:$.prop("step"),falloff:$.prop("falloff"),wrap:$.prop("wrap")},attributes:{verts:[[-1,-1],[1,-1],[-1,1],[-1,1],[1,-1],[1,1]]},count:6,framebuffer:$.prop("framebuffer")}),Mn=$({vert:`
        #pragma vscode_glsllint_stage : vert
        precision mediump float;
        varying vec2 uv;
        attribute vec2 verts;

        void main() {
          uv = verts * 0.5 + 0.5;
          gl_Position = vec4(verts, 0, 1);
        }
      `,frag:`
        #pragma vscode_glsllint_stage : frag
        precision lowp float;

        uniform lowp sampler2D texture;
        uniform lowp sampler2D blur0;
        uniform lowp sampler2D blur1;
        uniform lowp sampler2D blur2;
        uniform vec4 background;
        uniform float colourMix;
        uniform float blur0Mix;
        uniform float blur1Mix;
        uniform float blur2Mix;
        uniform bool showBackground;

        varying vec2 uv;

        // pow doesn't work with ints
        const float radius = 6.0;
        float maxR2 = pow(radius, 2.0);

        void main() {
          vec4 colourPoint = texture2D(texture, uv);
          vec4 blur0Point = texture2D(blur0, uv);
          vec4 blur1Point = texture2D(blur1, uv);
          vec4 blur2Point = texture2D(blur2, uv);

          vec4 mixed = clamp(
            colourPoint * colourMix +            blur0Point * blur0Mix +            blur1Point * blur1Mix +            blur2Point * blur2Mix           , 0.0, 1.0);

          // add in background and remove opacity
          if (showBackground) gl_FragColor = vec4(mixed.rgb + background.rgb * (1.0 - mixed.a), 1);
          else gl_FragColor = mixed;
        }
      `,uniforms:{texture:zt,background:$.prop("background"),blur0:$.prop("blur0"),blur1:$.prop("blur1"),blur2:$.prop("blur2"),colourMix:$.prop("colourMix"),blur0Mix:$.prop("blur0Mix"),blur1Mix:$.prop("blur1Mix"),blur2Mix:$.prop("blur2Mix"),showBackground:$.prop("showBackground")},attributes:{verts:[[-1,-1],[1,-1],[-1,1],[-1,1],[1,-1],[1,1]]},count:6});return $.frame(({tick:bt,time:Gn})=>{if(q.push(Gn),!u.current)return;s.current.paused||f.current.push(o.current.step(s.current.speed)),o.current.steps!==qt&&(qt=o.current.steps);let ta=o.current.dirty;if(o.current.size!==I){console.debug("resizing regl buffers from",I,"to",o.current.size),I=o.current.size,Pe({type:"uint8",usage:"dynamic",length:I*3}),ut({type:"uint16",usage:"dynamic",length:I*2}),et=new Uint8Array(I*3),ht=new Uint16Array(I*2),zt.resize(o.current.width,o.current.height),je.resize(o.current.width,o.current.height);for(const Gt of We)Gt.texture.resize(u.current.width,u.current.height),Gt.framefuffer.resize(u.current.width,u.current.height);ta=!0}if(ta){let Gt=0;for(const[zn,ue,ke,ct]of o.current.values()){const[Bt,Lt,G]=of.hsl.rgb(ke+E.current.hue,U.current.bloom?100:33.333333333333336*Math.min(3,ct),h.current?70:30);et[Gt*3+0]=Bt,et[Gt*3+1]=Lt,et[Gt*3+2]=G,ht[Gt*2+0]=zn,ht[Gt*2+1]=ue,++Gt}Pe.subdata(et.subarray(0,(Gt+1)*3)),ut.subdata(ht.subarray(0,(Gt+1)*2)),U.current.bloom?($.clear({color:[0,0,0,0],depth:1,framebuffer:je}),_n({instances:Gt,gridSize:[o.current.width,o.current.height],framebuffer:je}),$.clear({color:[0,0,0,0],depth:1,framebuffer:We[0].framefuffer}),hn({canvasSize:[u.current.width,u.current.height],framebuffer:We[0].framefuffer,radius:U.current.blurRadius,step:U.current.blurStep,falloff:U.current.blurFalloff,wrap:s.current.wrap}),$.clear({color:[0,0,0,0],depth:1}),Mn({background:h.current?[0,0,0,1]:[1,1,1,1],blur0:We[0].texture,blur1:We[1].texture,blur2:We[2].texture,colourMix:U.current.colourMix/100,blur0Mix:U.current.blur0Mix/100,blur1Mix:U.current.blur1Mix/100,blur2Mix:U.current.blur2Mix/100,showBackground:U.current.background}),We=[We[We.length-1],...We.slice(0,-1)]):($.clear({color:h.current?[0,0,0,1]:[1,1,1,1],depth:1}),_n({instances:Gt,gridSize:[o.current.width,o.current.height],framebuffer:null}))}if(bt%10>0)return;const Ea=f.current.items().reduce((Gt,zn)=>Gt+zn,0)/f.current.size,na=1/((q.at(-1)??0)-(q.at(0)??0))*(q.size-1),{alive:Tn,steps:xa}=o.current;if(bt%1e3===0){const Gt=$.stats,zn=_n.stats;console.debug({tick:bt,stepTime:Ea,frameRate:na,alive:Tn,steps:xa,reglStats:Gt,drawStats:zn,colourArrayLength:et.length,positionArrayLength:ht.length})}O.current&&(O.current.children[0].innerText=`Step ${xa.toLocaleString()}`,O.current.children[1].innerText=`${Number.isNaN(Ea)?"- ":Ea.toFixed(1)} ms`,O.current.children[2].innerText=`${na.toFixed(1)} fps`,O.current.children[3].innerText=`${Tn.toLocaleString()} alive`)}),()=>$.destroy()},[]),w.jsxs(w.Fragment,{children:[w.jsx(fv,{ref:u}),w.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 m-1 bg-background/70 pointer-events-none select-none",children:w.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(10ch,1fr))] gap-4 text-4xl font-medium text-center max-w-6xl mx-auto",ref:O,children:[w.jsx("span",{className:"text-label-1"}),w.jsx("span",{className:"text-label-2"}),w.jsx("span",{className:"text-label-3"}),w.jsx("span",{className:"text-label-4"})]})})]})}function sv(){return w.jsxs("div",{className:"flex flex-col size-full items-center justify-center",children:[w.jsx(Kd,{}),w.jsx(cv,{})]})}var $0={exports:{}},Bc={},W0={exports:{}},I0={};var Lm;function ov(){return Lm||(Lm=1,(function(u){function s(ue,ke){var ct=ue.length;ue.push(ke);e:for(;0<ct;){var Bt=ct-1>>>1,Lt=ue[Bt];if(0<h(Lt,ke))ue[Bt]=ke,ue[ct]=Lt,ct=Bt;else break e}}function o(ue){return ue.length===0?null:ue[0]}function f(ue){if(ue.length===0)return null;var ke=ue[0],ct=ue.pop();if(ct!==ke){ue[0]=ct;e:for(var Bt=0,Lt=ue.length,G=Lt>>>1;Bt<G;){var pe=2*(Bt+1)-1,qe=ue[pe],Ke=pe+1,gt=ue[Ke];if(0>h(qe,ct))Ke<Lt&&0>h(gt,qe)?(ue[Bt]=gt,ue[Ke]=ct,Bt=Ke):(ue[Bt]=qe,ue[pe]=ct,Bt=pe);else if(Ke<Lt&&0>h(gt,ct))ue[Bt]=gt,ue[Ke]=ct,Bt=Ke;else break e}}return ke}function h(ue,ke){var ct=ue.sortIndex-ke.sortIndex;return ct!==0?ct:ue.id-ke.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var E=performance;u.unstable_now=function(){return E.now()}}else{var O=Date,U=O.now();u.unstable_now=function(){return O.now()-U}}var q=[],N=[],$=1,I=null,Pe=3,ut=!1,et=!1,ht=!1,qt=!1,zt=typeof setTimeout=="function"?setTimeout:null,je=typeof clearTimeout=="function"?clearTimeout:null,We=typeof setImmediate<"u"?setImmediate:null;function _n(ue){for(var ke=o(N);ke!==null;){if(ke.callback===null)f(N);else if(ke.startTime<=ue)f(N),ke.sortIndex=ke.expirationTime,s(q,ke);else break;ke=o(N)}}function hn(ue){if(ht=!1,_n(ue),!et)if(o(q)!==null)et=!0,Mn||(Mn=!0,Tn());else{var ke=o(N);ke!==null&&zn(hn,ke.startTime-ue)}}var Mn=!1,bt=-1,Gn=5,ta=-1;function Ea(){return qt?!0:!(u.unstable_now()-ta<Gn)}function na(){if(qt=!1,Mn){var ue=u.unstable_now();ta=ue;var ke=!0;try{e:{et=!1,ht&&(ht=!1,je(bt),bt=-1),ut=!0;var ct=Pe;try{t:{for(_n(ue),I=o(q);I!==null&&!(I.expirationTime>ue&&Ea());){var Bt=I.callback;if(typeof Bt=="function"){I.callback=null,Pe=I.priorityLevel;var Lt=Bt(I.expirationTime<=ue);if(ue=u.unstable_now(),typeof Lt=="function"){I.callback=Lt,_n(ue),ke=!0;break t}I===o(q)&&f(q),_n(ue)}else f(q);I=o(q)}if(I!==null)ke=!0;else{var G=o(N);G!==null&&zn(hn,G.startTime-ue),ke=!1}}break e}finally{I=null,Pe=ct,ut=!1}ke=void 0}}finally{ke?Tn():Mn=!1}}}var Tn;if(typeof We=="function")Tn=function(){We(na)};else if(typeof MessageChannel<"u"){var xa=new MessageChannel,Gt=xa.port2;xa.port1.onmessage=na,Tn=function(){Gt.postMessage(null)}}else Tn=function(){zt(na,0)};function zn(ue,ke){bt=zt(function(){ue(u.unstable_now())},ke)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(ue){ue.callback=null},u.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Gn=0<ue?Math.floor(1e3/ue):5},u.unstable_getCurrentPriorityLevel=function(){return Pe},u.unstable_next=function(ue){switch(Pe){case 1:case 2:case 3:var ke=3;break;default:ke=Pe}var ct=Pe;Pe=ke;try{return ue()}finally{Pe=ct}},u.unstable_requestPaint=function(){qt=!0},u.unstable_runWithPriority=function(ue,ke){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var ct=Pe;Pe=ue;try{return ke()}finally{Pe=ct}},u.unstable_scheduleCallback=function(ue,ke,ct){var Bt=u.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Bt+ct:Bt):ct=Bt,ue){case 1:var Lt=-1;break;case 2:Lt=250;break;case 5:Lt=1073741823;break;case 4:Lt=1e4;break;default:Lt=5e3}return Lt=ct+Lt,ue={id:$++,callback:ke,priorityLevel:ue,startTime:ct,expirationTime:Lt,sortIndex:-1},ct>Bt?(ue.sortIndex=ct,s(N,ue),o(q)===null&&ue===o(N)&&(ht?(je(bt),bt=-1):ht=!0,zn(hn,ct-Bt))):(ue.sortIndex=Lt,s(q,ue),et||ut||(et=!0,Mn||(Mn=!0,Tn()))),ue},u.unstable_shouldYield=Ea,u.unstable_wrapCallback=function(ue){var ke=Pe;return function(){var ct=Pe;Pe=ke;try{return ue.apply(this,arguments)}finally{Pe=ct}}}})(I0)),I0}var Nm;function hv(){return Nm||(Nm=1,W0.exports=ov()),W0.exports}var Gm;function mv(){if(Gm)return Bc;Gm=1;var u=hv(),s=uh(),o=jm();function f(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function E(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function O(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function U(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function q(e){if(E(e)!==e)throw Error(f(188))}function N(e){var t=e.alternate;if(!t){if(t=E(e),t===null)throw Error(f(188));return t!==e?null:e}for(var n=e,a=t;;){var l=n.return;if(l===null)break;var r=l.alternate;if(r===null){if(a=l.return,a!==null){n=a;continue}break}if(l.child===r.child){for(r=l.child;r;){if(r===n)return q(l),e;if(r===a)return q(l),t;r=r.sibling}throw Error(f(188))}if(n.return!==a.return)n=l,a=r;else{for(var c=!1,d=l.child;d;){if(d===n){c=!0,n=l,a=r;break}if(d===a){c=!0,a=l,n=r;break}d=d.sibling}if(!c){for(d=r.child;d;){if(d===n){c=!0,n=r,a=l;break}if(d===a){c=!0,a=r,n=l;break}d=d.sibling}if(!c)throw Error(f(189))}}if(n.alternate!==a)throw Error(f(190))}if(n.tag!==3)throw Error(f(188));return n.stateNode.current===n?e:t}function $(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=$(e),t!==null)return t;e=e.sibling}return null}var I=Object.assign,Pe=Symbol.for("react.element"),ut=Symbol.for("react.transitional.element"),et=Symbol.for("react.portal"),ht=Symbol.for("react.fragment"),qt=Symbol.for("react.strict_mode"),zt=Symbol.for("react.profiler"),je=Symbol.for("react.consumer"),We=Symbol.for("react.context"),_n=Symbol.for("react.forward_ref"),hn=Symbol.for("react.suspense"),Mn=Symbol.for("react.suspense_list"),bt=Symbol.for("react.memo"),Gn=Symbol.for("react.lazy"),ta=Symbol.for("react.activity"),Ea=Symbol.for("react.memo_cache_sentinel"),na=Symbol.iterator;function Tn(e){return e===null||typeof e!="object"?null:(e=na&&e[na]||e["@@iterator"],typeof e=="function"?e:null)}var xa=Symbol.for("react.client.reference");function Gt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===xa?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ht:return"Fragment";case zt:return"Profiler";case qt:return"StrictMode";case hn:return"Suspense";case Mn:return"SuspenseList";case ta:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case et:return"Portal";case We:return e.displayName||"Context";case je:return(e._context.displayName||"Context")+".Consumer";case _n:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bt:return t=e.displayName||null,t!==null?t:Gt(e.type)||"Memo";case Gn:t=e._payload,e=e._init;try{return Gt(e(t))}catch{}}return null}var zn=Array.isArray,ue=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ke=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Bt=[],Lt=-1;function G(e){return{current:e}}function pe(e){0>Lt||(e.current=Bt[Lt],Bt[Lt]=null,Lt--)}function qe(e,t){Lt++,Bt[Lt]=e.current,e.current=t}var Ke=G(null),gt=G(null),Tt=G(null),jt=G(null);function Un(e,t){switch(qe(Tt,t),qe(gt,e),qe(Ke,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Fh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Fh(t),e=Qh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}pe(Ke),qe(Ke,e)}function cn(){pe(Ke),pe(gt),pe(Tt)}function Ir(e){e.memoizedState!==null&&qe(jt,e);var t=Ke.current,n=Qh(t,e.type);t!==n&&(qe(gt,e),qe(Ke,n))}function Qu(e){gt.current===e&&(pe(Ke),pe(gt)),jt.current===e&&(pe(jt),Dc._currentValue=ct)}var Zu,vf;function ul(e){if(Zu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Zu=t&&t[1]||"",vf=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zu+e+vf}var Ku=!1;function Ju(e,t){if(!e||Ku)return"";Ku=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(le){var W=le}Reflect.construct(e,[],ye)}else{try{ye.call()}catch(le){W=le}e.call(ye.prototype)}}else{try{throw Error()}catch(le){W=le}(ye=e())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(le){if(le&&W&&typeof le.stack=="string")return[le.stack,W.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=a.DetermineComponentFrameRoot(),c=r[0],d=r[1];if(c&&d){var R=c.split(`
`),K=d.split(`
`);for(l=a=0;a<R.length&&!R[a].includes("DetermineComponentFrameRoot");)a++;for(;l<K.length&&!K[l].includes("DetermineComponentFrameRoot");)l++;if(a===R.length||l===K.length)for(a=R.length-1,l=K.length-1;1<=a&&0<=l&&R[a]!==K[l];)l--;for(;1<=a&&0<=l;a--,l--)if(R[a]!==K[l]){if(a!==1||l!==1)do if(a--,l--,0>l||R[a]!==K[l]){var ie=`
`+R[a].replace(" at new "," at ");return e.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",e.displayName)),ie}while(1<=a&&0<=l);break}}}finally{Ku=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ul(n):""}function Bo(e,t){switch(e.tag){case 26:case 27:case 5:return ul(e.type);case 16:return ul("Lazy");case 13:return e.child!==t&&t!==null?ul("Suspense Fallback"):ul("Suspense");case 19:return ul("SuspenseList");case 0:case 15:return Ju(e.type,!1);case 11:return Ju(e.type.render,!1);case 1:return Ju(e.type,!0);case 31:return ul("Activity");default:return""}}function Yn(e){try{var t="",n=null;do t+=Bo(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var $u=Object.prototype.hasOwnProperty,tr=u.unstable_scheduleCallback,yf=u.unstable_cancelCallback,jo=u.unstable_shouldYield,b=u.unstable_requestPaint,aa=u.unstable_now,Uo=u.unstable_getCurrentPriorityLevel,Uc=u.unstable_ImmediatePriority,Hc=u.unstable_UserBlockingPriority,Ta=u.unstable_NormalPriority,Vc=u.unstable_LowPriority,nr=u.unstable_IdlePriority,kc=u.log,Ho=u.unstable_setDisableYieldValue,Pr=null,Fn=null;function mn(e){if(typeof kc=="function"&&Ho(e),Fn&&typeof Fn.setStrictMode=="function")try{Fn.setStrictMode(Pr,e)}catch{}}var Hn=Math.clz32?Math.clz32:ko,qc=Math.log,Vo=Math.LN2;function ko(e){return e>>>=0,e===0?32:31-(qc(e)/Vo|0)|0}var Wu=256,Iu=262144,Pu=4194304;function il(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function eu(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var l=0,r=e.suspendedLanes,c=e.pingedLanes;e=e.warmLanes;var d=a&134217727;return d!==0?(a=d&~r,a!==0?l=il(a):(c&=d,c!==0?l=il(c):n||(n=d&~e,n!==0&&(l=il(n))))):(d=a&~r,d!==0?l=il(d):c!==0?l=il(c):n||(n=a&~e,n!==0&&(l=il(n)))),l===0?0:t!==0&&t!==l&&(t&r)===0&&(r=l&-l,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:l}function tu(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function qo(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qn(){var e=Pu;return Pu<<=1,(Pu&62914560)===0&&(Pu=4194304),e}function bf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function nu(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Xo(e,t,n,a,l,r){var c=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var d=e.entanglements,R=e.expirationTimes,K=e.hiddenUpdates;for(n=c&~n;0<n;){var ie=31-Hn(n),ye=1<<ie;d[ie]=0,R[ie]=-1;var W=K[ie];if(W!==null)for(K[ie]=null,ie=0;ie<W.length;ie++){var le=W[ie];le!==null&&(le.lane&=-536870913)}n&=~ye}a!==0&&Xc(e,a,0),r!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=r&~(c&~t))}function Xc(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Hn(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Yc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Hn(n),l=1<<a;l&t|e[a]&t&&(e[a]|=t),n&=~l}}function Fc(e,t){var n=t&-t;return n=(n&42)!==0?1:pf(n),(n&(e.suspendedLanes|t))!==0?0:n}function pf(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function gf(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function _f(){var e=ke.p;return e!==0?e:(e=window.event,e===void 0?32:vm(e.type))}function Sf(e,t){var n=ke.p;try{return ke.p=e,t()}finally{ke.p=n}}var kt=Math.random().toString(36).slice(2),Dn="__reactFiber$"+kt,Zn="__reactProps$"+kt,ar="__reactContainer$"+kt,Ef="__reactEvents$"+kt,Yo="__reactListeners$"+kt,Fo="__reactHandles$"+kt,Qc="__reactResources$"+kt,au="__reactMarker$"+kt;function xf(e){delete e[Dn],delete e[Zn],delete e[Ef],delete e[Yo],delete e[Fo]}function lr(e){var t=e[Dn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ar]||n[Dn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ph(e);e!==null;){if(n=e[Dn])return n;e=Ph(e)}return t}e=n,n=e.parentNode}return null}function rr(e){if(e=e[Dn]||e[ar]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function lu(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(f(33))}function ur(e){var t=e[Qc];return t||(t=e[Qc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function An(e){e[au]=!0}var Zc=new Set,Kc={};function Sl(e,t){ir(e,t),ir(e+"Capture",t)}function ir(e,t){for(Kc[e]=t,e=0;e<t.length;e++)Zc.add(t[e])}var Qo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jc={},$c={};function Zo(e){return $u.call($c,e)?!0:$u.call(Jc,e)?!1:Qo.test(e)?$c[e]=!0:(Jc[e]=!0,!1)}function ei(e,t,n){if(Zo(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ti(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ka(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function fa(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ni(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var l=a.get,r=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(c){n=""+c,r.call(this,c)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(c){n=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ai(e){if(!e._valueTracker){var t=Wc(e)?"checked":"value";e._valueTracker=ni(e,t,""+e[t])}}function Ic(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=Wc(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ru=/[\n"\\]/g;function Kn(e){return e.replace(ru,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ri(e,t,n,a,l,r,c,d){e.name="",c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.type=c:e.removeAttribute("type"),t!=null?c==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+fa(t)):e.value!==""+fa(t)&&(e.value=""+fa(t)):c!=="submit"&&c!=="reset"||e.removeAttribute("value"),t!=null?Tf(e,c,fa(t)):n!=null?Tf(e,c,fa(n)):a!=null&&e.removeAttribute("value"),l==null&&r!=null&&(e.defaultChecked=!!r),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.name=""+fa(d):e.removeAttribute("name")}function ui(e,t,n,a,l,r,c,d){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){ai(e);return}n=n!=null?""+fa(n):"",t=t!=null?""+fa(t):n,d||t===e.value||(e.value=t),e.defaultValue=t}a=a??l,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=d?e.checked:!!a,e.defaultChecked=!!a,c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.name=c),ai(e)}function Tf(e,t,n){t==="number"&&li(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function fr(e,t,n,a){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&a&&(e[n].defaultSelected=!0)}else{for(n=""+fa(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,a&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Pc(e,t,n){if(t!=null&&(t=""+fa(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+fa(n):""}function es(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(f(92));if(zn(a)){if(1<a.length)throw Error(f(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=fa(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),ai(e)}function Bn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var la=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uu(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||la.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function ts(e,t,n){if(t!=null&&typeof t!="object")throw Error(f(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var l in t)a=t[l],t.hasOwnProperty(l)&&n[l]!==a&&uu(e,l,a)}else for(var r in t)t.hasOwnProperty(r)&&uu(e,r,t[r])}function Af(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ns=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),as=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ii(e){return as.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qa(){}var iu=null;function Of(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cr=null,sr=null;function ls(e){var t=rr(e);if(t&&(e=t.stateNode)){var n=e[Zn]||null;e:switch(e=t.stateNode,t.type){case"input":if(ri(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Kn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var l=a[Zn]||null;if(!l)throw Error(f(90));ri(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Ic(a)}break e;case"textarea":Pc(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&fr(e,!!n.multiple,t,!1)}}}var Cf=!1;function rs(e,t,n){if(Cf)return e(t,n);Cf=!0;try{var a=e(t);return a}finally{if(Cf=!1,(cr!==null||sr!==null)&&(ao(),cr&&(t=cr,e=sr,sr=cr=null,ls(t),e)))for(t=0;t<e.length;t++)ls(e[t])}}function fu(e,t){var n=e.stateNode;if(n===null)return null;var a=n[Zn]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(f(231,t,typeof n));return n}var Xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ya=!1;if(Xa)try{var cu={};Object.defineProperty(cu,"passive",{get:function(){Ya=!0}}),window.addEventListener("test",cu,cu),window.removeEventListener("test",cu,cu)}catch{Ya=!1}var fl=null,or=null,hr=null;function Rf(){if(hr)return hr;var e,t=or,n=t.length,a,l="value"in fl?fl.value:fl.textContent,r=l.length;for(e=0;e<n&&t[e]===l[e];e++);var c=n-e;for(a=1;a<=c&&t[n-a]===l[r-a];a++);return hr=l.slice(e,1<a?1-a:void 0)}function su(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fi(){return!0}function ci(){return!1}function jn(e){function t(n,a,l,r,c){this._reactName=n,this._targetInst=l,this.type=a,this.nativeEvent=r,this.target=c,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(n=e[d],this[d]=n?n(r):r[d]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?fi:ci,this.isPropagationStopped=ci,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fi)},persist:function(){},isPersistent:fi}),t}var Jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},El=jn(Jn),mr=I({},Jn,{view:0,detail:0}),us=jn(mr),Mf,zf,ou,si=I({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ou&&(ou&&e.type==="mousemove"?(Mf=e.screenX-ou.screenX,zf=e.screenY-ou.screenY):zf=Mf=0,ou=e),Mf)},movementY:function(e){return"movementY"in e?e.movementY:zf}}),is=jn(si),Ko=I({},si,{dataTransfer:0}),Jo=jn(Ko),cl=I({},mr,{relatedTarget:0}),Df=jn(cl),$o=I({},Jn,{animationName:0,elapsedTime:0,pseudoElement:0}),hu=jn($o),Wo=I({},Jn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dr=jn(Wo),fs=I({},Jn,{data:0}),xl=jn(fs),cs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Io(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wf[e])?!!t[e]:!1}function Lf(){return Io}var Po=I({},mr,{key:function(e){if(e.key){var t=cs[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=su(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lf,charCode:function(e){return e.type==="keypress"?su(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?su(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ss=jn(Po),e0=I({},si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),os=jn(e0),hs=I({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lf}),en=jn(hs),ms=I({},Jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),t0=jn(ms),Aa=I({},si,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nf=jn(Aa),oi=I({},Jn,{newState:0,oldState:0}),Al=jn(oi),Gf=[9,13,27,32],vr=Xa&&"CompositionEvent"in window,Fa=null;Xa&&"documentMode"in document&&(Fa=document.documentMode);var hi=Xa&&"TextEvent"in window&&!Fa,Bf=Xa&&(!vr||Fa&&8<Fa&&11>=Fa),mi=" ",jf=!1;function ds(e,t){switch(e){case"keyup":return Gf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vs(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yr=!1;function n0(e,t){switch(e){case"compositionend":return vs(t);case"keypress":return t.which!==32?null:(jf=!0,mi);case"textInput":return e=t.data,e===mi&&jf?null:e;default:return null}}function Uf(e,t){if(yr)return e==="compositionend"||!vr&&ds(e,t)?(e=Rf(),hr=or=fl=null,yr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bf&&t.locale!=="ko"?null:t.data;default:return null}}var di={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!di[e.type]:t==="textarea"}function yi(e,t,n,a){cr?sr?sr.push(a):sr=[a]:cr=a,t=so(t,"onChange"),0<t.length&&(n=new El("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Oa=null,Ol=null;function Hf(e){Hh(e,0)}function br(e){var t=lu(e);if(Ic(t))return e}function bi(e,t){if(e==="change")return t}var Vf=!1;if(Xa){var pi;if(Xa){var gi="oninput"in document;if(!gi){var kf=document.createElement("div");kf.setAttribute("oninput","return;"),gi=typeof kf.oninput=="function"}pi=gi}else pi=!1;Vf=pi&&(!document.documentMode||9<document.documentMode)}function qf(){Oa&&(Oa.detachEvent("onpropertychange",Xf),Ol=Oa=null)}function Xf(e){if(e.propertyName==="value"&&br(Ol)){var t=[];yi(t,Ol,e,Of(e)),rs(Hf,t)}}function ys(e,t,n){e==="focusin"?(qf(),Oa=t,Ol=n,Oa.attachEvent("onpropertychange",Xf)):e==="focusout"&&qf()}function bs(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return br(Ol)}function pr(e,t){if(e==="click")return br(t)}function Yf(e,t){if(e==="input"||e==="change")return br(t)}function Ff(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wn=typeof Object.is=="function"?Object.is:Ff;function mu(e,t){if(wn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var l=n[a];if(!$u.call(t,l)||!wn(e[l],t[l]))return!1}return!0}function ps(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gs(e,t){var n=ps(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ps(n)}}function _i(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_i(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _s(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=li(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=li(e.document)}return t}function Qf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var a0=Xa&&"documentMode"in document&&11>=document.documentMode,sl=null,Zf=null,Cl=null,Si=!1;function Kf(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Si||sl==null||sl!==li(a)||(a=sl,"selectionStart"in a&&Qf(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Cl&&mu(Cl,a)||(Cl=a,a=so(Zf,"onSelect"),0<a.length&&(t=new El("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=sl)))}function Qa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gr={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionrun:Qa("Transition","TransitionRun"),transitionstart:Qa("Transition","TransitionStart"),transitioncancel:Qa("Transition","TransitionCancel"),transitionend:Qa("Transition","TransitionEnd")},_r={},Ss={};Xa&&(Ss=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function Rl(e){if(_r[e])return _r[e];if(!gr[e])return e;var t=gr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ss)return _r[e]=t[n];return e}var Es=Rl("animationend"),xs=Rl("animationiteration"),Ts=Rl("animationstart"),l0=Rl("transitionrun"),r0=Rl("transitionstart"),As=Rl("transitioncancel"),Sr=Rl("transitionend"),Os=new Map,Er="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Er.push("scrollEnd");function ln(e,t){Os.set(e,t),Sl(t,[e])}var Za=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ra=[],Ml=0,Ei=0;function du(){for(var e=Ml,t=Ei=Ml=0;t<e;){var n=ra[t];ra[t++]=null;var a=ra[t];ra[t++]=null;var l=ra[t];ra[t++]=null;var r=ra[t];if(ra[t++]=null,a!==null&&l!==null){var c=a.pending;c===null?l.next=l:(l.next=c.next,c.next=l),a.pending=l}r!==0&&Dl(n,l,r)}}function vu(e,t,n,a){ra[Ml++]=e,ra[Ml++]=t,ra[Ml++]=n,ra[Ml++]=a,Ei|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function xi(e,t,n,a){return vu(e,t,n,a),sn(e)}function zl(e,t){return vu(e,null,null,t),sn(e)}function Dl(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var l=!1,r=e.return;r!==null;)r.childLanes|=n,a=r.alternate,a!==null&&(a.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(l=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,l&&t!==null&&(l=31-Hn(n),e=r.hiddenUpdates,a=e[l],a===null?e[l]=[t]:a.push(t),t.lane=n|536870912),r):null}function sn(e){if(50<Tc)throw Tc=0,b0=null,Error(f(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var wl={};function Cs(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,t,n,a){return new Cs(e,t,n,a)}function Ti(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ca(e,t){var n=e.alternate;return n===null?(n=Sn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Rs(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ai(e,t,n,a,l,r){var c=0;if(a=e,typeof e=="function")Ti(e)&&(c=1);else if(typeof e=="string")c=B1(e,n,Ke.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ta:return e=Sn(31,n,t,l),e.elementType=ta,e.lanes=r,e;case ht:return Ll(n.children,l,r,t);case qt:c=8,l|=24;break;case zt:return e=Sn(12,n,t,l|2),e.elementType=zt,e.lanes=r,e;case hn:return e=Sn(13,n,t,l),e.elementType=hn,e.lanes=r,e;case Mn:return e=Sn(19,n,t,l),e.elementType=Mn,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case We:c=10;break e;case je:c=9;break e;case _n:c=11;break e;case bt:c=14;break e;case Gn:c=16,a=null;break e}c=29,n=Error(f(130,e===null?"null":typeof e,"")),a=null}return t=Sn(c,n,t,l),t.elementType=e,t.type=a,t.lanes=r,t}function Ll(e,t,n,a){return e=Sn(7,e,a,t),e.lanes=n,e}function Jf(e,t,n){return e=Sn(6,e,null,t),e.lanes=n,e}function Oi(e){var t=Sn(18,null,null,0);return t.stateNode=e,t}function Ci(e,t,n){return t=Sn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ms=new WeakMap;function ua(e,t){if(typeof e=="object"&&e!==null){var n=Ms.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Yn(t)},Ms.set(e,t),t)}return{value:e,source:t,stack:Yn(t)}}var Nl=[],xr=0,Gl=null,yu=0,En=[],Vn=0,Ka=null,va=1,ya="";function Ra(e,t){Nl[xr++]=yu,Nl[xr++]=Gl,Gl=e,yu=t}function $f(e,t,n){En[Vn++]=va,En[Vn++]=ya,En[Vn++]=Ka,Ka=e;var a=va;e=ya;var l=32-Hn(a)-1;a&=~(1<<l),n+=1;var r=32-Hn(t)+l;if(30<r){var c=l-l%5;r=(a&(1<<c)-1).toString(32),a>>=c,l-=c,va=1<<32-Hn(t)+l|n<<l|a,ya=r+e}else va=1<<r|n<<l|a,ya=e}function Ri(e){e.return!==null&&(Ra(e,1),$f(e,1,0))}function Mi(e){for(;e===Gl;)Gl=Nl[--xr],Nl[xr]=null,yu=Nl[--xr],Nl[xr]=null;for(;e===Ka;)Ka=En[--Vn],En[Vn]=null,ya=En[--Vn],En[Vn]=null,va=En[--Vn],En[Vn]=null}function Wf(e,t){En[Vn++]=va,En[Vn++]=ya,En[Vn++]=Ka,va=t.id,ya=t.overflow,Ka=e}var On=null,Ct=null,Ot=!1,ol=null,dn=!1,bu=Error(f(519));function $n(e){var t=Error(f(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Tr(ua(t,e)),bu}function pu(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Dn]=e,t[Zn]=a,n){case"dialog":Mt("cancel",t),Mt("close",t);break;case"iframe":case"object":case"embed":Mt("load",t);break;case"video":case"audio":for(n=0;n<Oc.length;n++)Mt(Oc[n],t);break;case"source":Mt("error",t);break;case"img":case"image":case"link":Mt("error",t),Mt("load",t);break;case"details":Mt("toggle",t);break;case"input":Mt("invalid",t),ui(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Mt("invalid",t);break;case"textarea":Mt("invalid",t),es(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||Xh(t.textContent,n)?(a.popover!=null&&(Mt("beforetoggle",t),Mt("toggle",t)),a.onScroll!=null&&Mt("scroll",t),a.onScrollEnd!=null&&Mt("scrollend",t),a.onClick!=null&&(t.onclick=qa),t=!0):t=!1,t||$n(e,!0)}function If(e){for(On=e.return;On;)switch(On.tag){case 5:case 31:case 13:dn=!1;return;case 27:case 3:dn=!0;return;default:On=On.return}}function Bl(e){if(e!==On)return!1;if(!Ot)return If(e),Ot=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||w0(e.type,e.memoizedProps)),n=!n),n&&Ct&&$n(e),If(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(317));Ct=Ih(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(317));Ct=Ih(e)}else t===27?(t=Ct,Qr(e.type)?(e=j0,j0=null,Ct=e):Ct=t):Ct=On?Ua(e.stateNode.nextSibling):null;return!0}function hl(){Ct=On=null,Ot=!1}function zi(){var e=ol;return e!==null&&(ma===null?ma=e:ma.push.apply(ma,e),ol=null),e}function Tr(e){ol===null?ol=[e]:ol.push(e)}var Pf=G(null),jl=null,Ja=null;function ml(e,t,n){qe(Pf,t._currentValue),t._currentValue=n}function $a(e){e._currentValue=Pf.current,pe(Pf)}function ec(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function tc(e,t,n,a){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var r=l.dependencies;if(r!==null){var c=l.child;r=r.firstContext;e:for(;r!==null;){var d=r;r=l;for(var R=0;R<t.length;R++)if(d.context===t[R]){r.lanes|=n,d=r.alternate,d!==null&&(d.lanes|=n),ec(r.return,n,e),a||(c=null);break e}r=d.next}}else if(l.tag===18){if(c=l.return,c===null)throw Error(f(341));c.lanes|=n,r=c.alternate,r!==null&&(r.lanes|=n),ec(c,n,e),c=null}else c=l.child;if(c!==null)c.return=l;else for(c=l;c!==null;){if(c===e){c=null;break}if(l=c.sibling,l!==null){l.return=c.return,c=l;break}c=c.return}l=c}}function Ul(e,t,n,a){e=null;for(var l=t,r=!1;l!==null;){if(!r){if((l.flags&524288)!==0)r=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var c=l.alternate;if(c===null)throw Error(f(387));if(c=c.memoizedProps,c!==null){var d=l.type;wn(l.pendingProps.value,c.value)||(e!==null?e.push(d):e=[d])}}else if(l===jt.current){if(c=l.alternate,c===null)throw Error(f(387));c.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(Dc):e=[Dc])}l=l.return}e!==null&&tc(t,e,n,a),t.flags|=262144}function gu(e){for(e=e.firstContext;e!==null;){if(!wn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Hl(e){jl=e,Ja=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ln(e){return _u(jl,e)}function Ar(e,t){return jl===null&&Hl(e),_u(e,t)}function _u(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Ja===null){if(e===null)throw Error(f(308));Ja=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ja=Ja.next=t;return n}var u0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},i0=u.unstable_scheduleCallback,f0=u.unstable_NormalPriority,vn={$$typeof:We,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nc(){return{controller:new u0,data:new Map,refCount:0}}function Or(e){e.refCount--,e.refCount===0&&i0(f0,function(){e.controller.abort()})}var Su=null,ac=0,Cr=0,Rr=null;function c0(e,t){if(Su===null){var n=Su=[];ac=0,Cr=x0(),Rr={status:"pending",value:void 0,then:function(a){n.push(a)}}}return ac++,t.then(Vl,Vl),t}function Vl(){if(--ac===0&&Su!==null){Rr!==null&&(Rr.status="fulfilled");var e=Su;Su=null,Cr=0,Rr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function s0(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var l=0;l<n.length;l++)(0,n[l])(t)},function(l){for(a.status="rejected",a.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),a}var zs=ue.S;ue.S=function(e,t){mh=aa(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&c0(e,t),zs!==null&&zs(e,t)};var dl=G(null);function Mr(){var e=dl.current;return e!==null?e:Rt.pooledCache}function Eu(e,t){t===null?qe(dl,dl.current):qe(dl,t.pool)}function Di(){var e=Mr();return e===null?null:{parent:vn._currentValue,pool:e}}var zr=Error(f(460)),wi=Error(f(474)),Li=Error(f(542)),Ni={then:function(){}};function Ds(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ws(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(qa,qa),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,xu(e),e;default:if(typeof t.status=="string")t.then(qa,qa);else{if(e=Rt,e!==null&&100<e.shellSuspendCounter)throw Error(f(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=a}},function(a){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,xu(e),e}throw ba=t,zr}}function kl(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ba=n,zr):n}}var ba=null;function Ls(){if(ba===null)throw Error(f(459));var e=ba;return ba=null,e}function xu(e){if(e===zr||e===Li)throw Error(f(483))}var Dr=null,Ma=0;function Wa(e){var t=Ma;return Ma+=1,Dr===null&&(Dr=[]),ws(Dr,e,t)}function Tu(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ia(e,t){throw t.$$typeof===Pe?Error(f(525)):(e=Object.prototype.toString.call(t),Error(f(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function lc(e){function t(X,L){if(e){var Z=X.deletions;Z===null?(X.deletions=[L],X.flags|=16):Z.push(L)}}function n(X,L){if(!e)return null;for(;L!==null;)t(X,L),L=L.sibling;return null}function a(X){for(var L=new Map;X!==null;)X.key!==null?L.set(X.key,X):L.set(X.index,X),X=X.sibling;return L}function l(X,L){return X=Ca(X,L),X.index=0,X.sibling=null,X}function r(X,L,Z){return X.index=Z,e?(Z=X.alternate,Z!==null?(Z=Z.index,Z<L?(X.flags|=67108866,L):Z):(X.flags|=67108866,L)):(X.flags|=1048576,L)}function c(X){return e&&X.alternate===null&&(X.flags|=67108866),X}function d(X,L,Z,me){return L===null||L.tag!==6?(L=Jf(Z,X.mode,me),L.return=X,L):(L=l(L,Z),L.return=X,L)}function R(X,L,Z,me){var rt=Z.type;return rt===ht?ie(X,L,Z.props.children,me,Z.key):L!==null&&(L.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===Gn&&kl(rt)===L.type)?(L=l(L,Z.props),Tu(L,Z),L.return=X,L):(L=Ai(Z.type,Z.key,Z.props,null,X.mode,me),Tu(L,Z),L.return=X,L)}function K(X,L,Z,me){return L===null||L.tag!==4||L.stateNode.containerInfo!==Z.containerInfo||L.stateNode.implementation!==Z.implementation?(L=Ci(Z,X.mode,me),L.return=X,L):(L=l(L,Z.children||[]),L.return=X,L)}function ie(X,L,Z,me,rt){return L===null||L.tag!==7?(L=Ll(Z,X.mode,me,rt),L.return=X,L):(L=l(L,Z),L.return=X,L)}function ye(X,L,Z){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Jf(""+L,X.mode,Z),L.return=X,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case ut:return Z=Ai(L.type,L.key,L.props,null,X.mode,Z),Tu(Z,L),Z.return=X,Z;case et:return L=Ci(L,X.mode,Z),L.return=X,L;case Gn:return L=kl(L),ye(X,L,Z)}if(zn(L)||Tn(L))return L=Ll(L,X.mode,Z,null),L.return=X,L;if(typeof L.then=="function")return ye(X,Wa(L),Z);if(L.$$typeof===We)return ye(X,Ar(X,L),Z);Ia(X,L)}return null}function W(X,L,Z,me){var rt=L!==null?L.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return rt!==null?null:d(X,L,""+Z,me);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case ut:return Z.key===rt?R(X,L,Z,me):null;case et:return Z.key===rt?K(X,L,Z,me):null;case Gn:return Z=kl(Z),W(X,L,Z,me)}if(zn(Z)||Tn(Z))return rt!==null?null:ie(X,L,Z,me,null);if(typeof Z.then=="function")return W(X,L,Wa(Z),me);if(Z.$$typeof===We)return W(X,L,Ar(X,Z),me);Ia(X,Z)}return null}function le(X,L,Z,me,rt){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return X=X.get(Z)||null,d(L,X,""+me,rt);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case ut:return X=X.get(me.key===null?Z:me.key)||null,R(L,X,me,rt);case et:return X=X.get(me.key===null?Z:me.key)||null,K(L,X,me,rt);case Gn:return me=kl(me),le(X,L,Z,me,rt)}if(zn(me)||Tn(me))return X=X.get(Z)||null,ie(L,X,me,rt,null);if(typeof me.then=="function")return le(X,L,Z,Wa(me),rt);if(me.$$typeof===We)return le(X,L,Z,Ar(L,me),rt);Ia(L,me)}return null}function Ze(X,L,Z,me){for(var rt=null,Ht=null,Ie=L,xt=L=0,Dt=null;Ie!==null&&xt<Z.length;xt++){Ie.index>xt?(Dt=Ie,Ie=null):Dt=Ie.sibling;var Vt=W(X,Ie,Z[xt],me);if(Vt===null){Ie===null&&(Ie=Dt);break}e&&Ie&&Vt.alternate===null&&t(X,Ie),L=r(Vt,L,xt),Ht===null?rt=Vt:Ht.sibling=Vt,Ht=Vt,Ie=Dt}if(xt===Z.length)return n(X,Ie),Ot&&Ra(X,xt),rt;if(Ie===null){for(;xt<Z.length;xt++)Ie=ye(X,Z[xt],me),Ie!==null&&(L=r(Ie,L,xt),Ht===null?rt=Ie:Ht.sibling=Ie,Ht=Ie);return Ot&&Ra(X,xt),rt}for(Ie=a(Ie);xt<Z.length;xt++)Dt=le(Ie,X,xt,Z[xt],me),Dt!==null&&(e&&Dt.alternate!==null&&Ie.delete(Dt.key===null?xt:Dt.key),L=r(Dt,L,xt),Ht===null?rt=Dt:Ht.sibling=Dt,Ht=Dt);return e&&Ie.forEach(function(Wr){return t(X,Wr)}),Ot&&Ra(X,xt),rt}function ot(X,L,Z,me){if(Z==null)throw Error(f(151));for(var rt=null,Ht=null,Ie=L,xt=L=0,Dt=null,Vt=Z.next();Ie!==null&&!Vt.done;xt++,Vt=Z.next()){Ie.index>xt?(Dt=Ie,Ie=null):Dt=Ie.sibling;var Wr=W(X,Ie,Vt.value,me);if(Wr===null){Ie===null&&(Ie=Dt);break}e&&Ie&&Wr.alternate===null&&t(X,Ie),L=r(Wr,L,xt),Ht===null?rt=Wr:Ht.sibling=Wr,Ht=Wr,Ie=Dt}if(Vt.done)return n(X,Ie),Ot&&Ra(X,xt),rt;if(Ie===null){for(;!Vt.done;xt++,Vt=Z.next())Vt=ye(X,Vt.value,me),Vt!==null&&(L=r(Vt,L,xt),Ht===null?rt=Vt:Ht.sibling=Vt,Ht=Vt);return Ot&&Ra(X,xt),rt}for(Ie=a(Ie);!Vt.done;xt++,Vt=Z.next())Vt=le(Ie,X,xt,Vt.value,me),Vt!==null&&(e&&Vt.alternate!==null&&Ie.delete(Vt.key===null?xt:Vt.key),L=r(Vt,L,xt),Ht===null?rt=Vt:Ht.sibling=Vt,Ht=Vt);return e&&Ie.forEach(function(Z1){return t(X,Z1)}),Ot&&Ra(X,xt),rt}function $t(X,L,Z,me){if(typeof Z=="object"&&Z!==null&&Z.type===ht&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case ut:e:{for(var rt=Z.key;L!==null;){if(L.key===rt){if(rt=Z.type,rt===ht){if(L.tag===7){n(X,L.sibling),me=l(L,Z.props.children),me.return=X,X=me;break e}}else if(L.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===Gn&&kl(rt)===L.type){n(X,L.sibling),me=l(L,Z.props),Tu(me,Z),me.return=X,X=me;break e}n(X,L);break}else t(X,L);L=L.sibling}Z.type===ht?(me=Ll(Z.props.children,X.mode,me,Z.key),me.return=X,X=me):(me=Ai(Z.type,Z.key,Z.props,null,X.mode,me),Tu(me,Z),me.return=X,X=me)}return c(X);case et:e:{for(rt=Z.key;L!==null;){if(L.key===rt)if(L.tag===4&&L.stateNode.containerInfo===Z.containerInfo&&L.stateNode.implementation===Z.implementation){n(X,L.sibling),me=l(L,Z.children||[]),me.return=X,X=me;break e}else{n(X,L);break}else t(X,L);L=L.sibling}me=Ci(Z,X.mode,me),me.return=X,X=me}return c(X);case Gn:return Z=kl(Z),$t(X,L,Z,me)}if(zn(Z))return Ze(X,L,Z,me);if(Tn(Z)){if(rt=Tn(Z),typeof rt!="function")throw Error(f(150));return Z=rt.call(Z),ot(X,L,Z,me)}if(typeof Z.then=="function")return $t(X,L,Wa(Z),me);if(Z.$$typeof===We)return $t(X,L,Ar(X,Z),me);Ia(X,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,L!==null&&L.tag===6?(n(X,L.sibling),me=l(L,Z),me.return=X,X=me):(n(X,L),me=Jf(Z,X.mode,me),me.return=X,X=me),c(X)):n(X,L)}return function(X,L,Z,me){try{Ma=0;var rt=$t(X,L,Z,me);return Dr=null,rt}catch(Ie){if(Ie===zr||Ie===Li)throw Ie;var Ht=Sn(29,Ie,null,X.mode);return Ht.lanes=me,Ht.return=X,Ht}}}var ca=lc(!0),Gi=lc(!1),za=!1;function Au(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ou(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Da(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function pa(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Et&2)!==0){var l=a.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),a.pending=t,t=sn(e),Dl(e,null,n),t}return vu(e,a,t,n),sn(e)}function wr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Yc(e,n)}}function Bi(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var l=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var c={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?l=r=c:r=r.next=c,n=n.next}while(n!==null);r===null?l=r=t:r=r.next=t}else l=r=t;n={baseState:a.baseState,firstBaseUpdate:l,lastBaseUpdate:r,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ji=!1;function Lr(){if(ji){var e=Rr;if(e!==null)throw e}}function Nr(e,t,n,a){ji=!1;var l=e.updateQueue;za=!1;var r=l.firstBaseUpdate,c=l.lastBaseUpdate,d=l.shared.pending;if(d!==null){l.shared.pending=null;var R=d,K=R.next;R.next=null,c===null?r=K:c.next=K,c=R;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,d=ie.lastBaseUpdate,d!==c&&(d===null?ie.firstBaseUpdate=K:d.next=K,ie.lastBaseUpdate=R))}if(r!==null){var ye=l.baseState;c=0,ie=K=R=null,d=r;do{var W=d.lane&-536870913,le=W!==d.lane;if(le?(yt&W)===W:(a&W)===W){W!==0&&W===Cr&&(ji=!0),ie!==null&&(ie=ie.next={lane:0,tag:d.tag,payload:d.payload,callback:null,next:null});e:{var Ze=e,ot=d;W=t;var $t=n;switch(ot.tag){case 1:if(Ze=ot.payload,typeof Ze=="function"){ye=Ze.call($t,ye,W);break e}ye=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=ot.payload,W=typeof Ze=="function"?Ze.call($t,ye,W):Ze,W==null)break e;ye=I({},ye,W);break e;case 2:za=!0}}W=d.callback,W!==null&&(e.flags|=64,le&&(e.flags|=8192),le=l.callbacks,le===null?l.callbacks=[W]:le.push(W))}else le={lane:W,tag:d.tag,payload:d.payload,callback:d.callback,next:null},ie===null?(K=ie=le,R=ye):ie=ie.next=le,c|=W;if(d=d.next,d===null){if(d=l.shared.pending,d===null)break;le=d,d=le.next,le.next=null,l.lastBaseUpdate=le,l.shared.pending=null}}while(!0);ie===null&&(R=ye),l.baseState=R,l.firstBaseUpdate=K,l.lastBaseUpdate=ie,r===null&&(l.shared.lanes=0),kr|=c,e.lanes=c,e.memoizedState=ye}}function Ui(e,t){if(typeof e!="function")throw Error(f(191,e));e.call(t)}function Hi(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Ui(n[e],t)}var ql=G(null),Cu=G(0);function rc(e,t){e=Wl,qe(Cu,e),qe(ql,t),Wl=e|t.baseLanes}function Vi(){qe(Cu,Wl),qe(ql,ql.current)}function Ru(){Wl=Cu.current,pe(ql),pe(Cu)}var Wn=G(null),ia=null;function wa(e){var t=e.alternate;qe(rn,rn.current&1),qe(Wn,e),ia===null&&(t===null||ql.current!==null||t.memoizedState!==null)&&(ia=e)}function Mu(e){qe(rn,rn.current),qe(Wn,e),ia===null&&(ia=e)}function uc(e){e.tag===22?(qe(rn,rn.current),qe(Wn,e),ia===null&&(ia=e)):La()}function La(){qe(rn,rn.current),qe(Wn,Wn.current)}function In(e){pe(Wn),ia===e&&(ia=null),pe(rn)}var rn=G(0);function Gr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||G0(n)||B0(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Na=0,pt=null,Ut=null,un=null,vl=!1,Xl=!1,Ga=!1,sa=0,Pa=0,oa=null,zu=0;function Yt(){throw Error(f(321))}function el(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!wn(e[n],t[n]))return!1;return!0}function tl(e,t,n,a,l,r){return Na=r,pt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ue.H=e===null||e.memoizedState===null?ll:Pt,Ga=!1,r=n(a,l),Ga=!1,Xl&&(r=Du(t,n,a,l)),yl(e),r}function yl(e){ue.H=It;var t=Ut!==null&&Ut.next!==null;if(Na=0,un=Ut=pt=null,vl=!1,Pa=0,oa=null,t)throw Error(f(300));e===null||bn||(e=e.dependencies,e!==null&&gu(e)&&(bn=!0))}function Du(e,t,n,a){pt=e;var l=0;do{if(Xl&&(oa=null),Pa=0,Xl=!1,25<=l)throw Error(f(301));if(l+=1,un=Ut=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}ue.H=kn,r=t(n,a)}while(Xl);return r}function ki(){var e=ue.H,t=e.useState()[0];return t=typeof t.then=="function"?Nu(t):t,e=e.useState()[0],(Ut!==null?Ut.memoizedState:null)!==e&&(pt.flags|=1024),t}function Yl(){var e=sa!==0;return sa=0,e}function wu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Lu(e){if(vl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}vl=!1}Na=0,un=Ut=pt=null,Xl=!1,Pa=sa=0,oa=null}function yn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?pt.memoizedState=un=e:un=un.next=e,un}function Ft(){if(Ut===null){var e=pt.alternate;e=e!==null?e.memoizedState:null}else e=Ut.next;var t=un===null?pt.memoizedState:un.next;if(t!==null)un=t,Ut=e;else{if(e===null)throw pt.alternate===null?Error(f(467)):Error(f(310));Ut=e,e={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},un===null?pt.memoizedState=un=e:un=un.next=e}return un}function qi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nu(e){var t=Pa;return Pa+=1,oa===null&&(oa=[]),e=ws(oa,e,t),t=pt,(un===null?t.memoizedState:un.next)===null&&(t=t.alternate,ue.H=t===null||t.memoizedState===null?ll:Pt),e}function Gu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Nu(e);if(e.$$typeof===We)return Ln(e)}throw Error(f(438,String(e)))}function Xi(e){var t=null,n=pt.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=pt.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=qi(),pt.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=Ea;return t.index++,n}function Ba(e,t){return typeof t=="function"?t(e):t}function Yi(e){var t=Ft();return bl(t,Ut,e)}function bl(e,t,n){var a=e.queue;if(a===null)throw Error(f(311));a.lastRenderedReducer=n;var l=e.baseQueue,r=a.pending;if(r!==null){if(l!==null){var c=l.next;l.next=r.next,r.next=c}t.baseQueue=l=r,a.pending=null}if(r=e.baseState,l===null)e.memoizedState=r;else{t=l.next;var d=c=null,R=null,K=t,ie=!1;do{var ye=K.lane&-536870913;if(ye!==K.lane?(yt&ye)===ye:(Na&ye)===ye){var W=K.revertLane;if(W===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ye===Cr&&(ie=!0);else if((Na&W)===W){K=K.next,W===Cr&&(ie=!0);continue}else ye={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},R===null?(d=R=ye,c=r):R=R.next=ye,pt.lanes|=W,kr|=W;ye=K.action,Ga&&n(r,ye),r=K.hasEagerState?K.eagerState:n(r,ye)}else W={lane:ye,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},R===null?(d=R=W,c=r):R=R.next=W,pt.lanes|=ye,kr|=ye;K=K.next}while(K!==null&&K!==t);if(R===null?c=r:R.next=d,!wn(r,e.memoizedState)&&(bn=!0,ie&&(n=Rr,n!==null)))throw n;e.memoizedState=r,e.baseState=c,e.baseQueue=R,a.lastRenderedState=r}return l===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Bu(e){var t=Ft(),n=t.queue;if(n===null)throw Error(f(311));n.lastRenderedReducer=e;var a=n.dispatch,l=n.pending,r=t.memoizedState;if(l!==null){n.pending=null;var c=l=l.next;do r=e(r,c.action),c=c.next;while(c!==l);wn(r,t.memoizedState)||(bn=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,a]}function Ns(e,t,n){var a=pt,l=Ft(),r=Ot;if(r){if(n===void 0)throw Error(f(407));n=n()}else n=t();var c=!wn((Ut||l).memoizedState,n);if(c&&(l.memoizedState=n,bn=!0),l=l.queue,Zl(Bs.bind(null,a,l,e),[e]),l.getSnapshot!==t||c||un!==null&&un.memoizedState.tag&1){if(a.flags|=2048,nl(9,{destroy:void 0},ic.bind(null,a,l,n,t),null),Rt===null)throw Error(f(349));r||(Na&127)!==0||Gs(a,t,n)}return n}function Gs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=pt.updateQueue,t===null?(t=qi(),pt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ic(e,t,n,a){t.value=n,t.getSnapshot=a,js(t)&&Us(e)}function Bs(e,t,n){return n(function(){js(t)&&Us(e)})}function js(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wn(e,n)}catch{return!0}}function Us(e){var t=zl(e,2);t!==null&&da(t,e,2)}function fc(e){var t=yn();if(typeof e=="function"){var n=e;if(e=n(),Ga){mn(!0);try{n()}finally{mn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:e},t}function Hs(e,t,n,a){return e.baseState=n,bl(e,Ut,typeof a=="function"?a:Ba)}function o0(e,t,n,a,l){if(Vr(e))throw Error(f(485));if(e=t.action,e!==null){var r={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(c){r.listeners.push(c)}};ue.T!==null?n(!0):r.isTransition=!1,a(r),n=t.pending,n===null?(r.next=t.pending=r,Vs(t,r)):(r.next=n.next,t.pending=n.next=r)}}function Vs(e,t){var n=t.action,a=t.payload,l=e.state;if(t.isTransition){var r=ue.T,c={};ue.T=c;try{var d=n(l,a),R=ue.S;R!==null&&R(c,d),ks(e,t,d)}catch(K){cc(e,t,K)}finally{r!==null&&c.types!==null&&(r.types=c.types),ue.T=r}}else try{r=n(l,a),ks(e,t,r)}catch(K){cc(e,t,K)}}function ks(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){qs(e,t,a)},function(a){return cc(e,t,a)}):qs(e,t,n)}function qs(e,t,n){t.status="fulfilled",t.value=n,Fi(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Vs(e,n)))}function cc(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Fi(t),t=t.next;while(t!==a)}e.action=null}function Fi(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ju(e,t){return t}function Uu(e,t){if(Ot){var n=Rt.formState;if(n!==null){e:{var a=pt;if(Ot){if(Ct){t:{for(var l=Ct,r=dn;l.nodeType!==8;){if(!r){l=null;break t}if(l=Ua(l.nextSibling),l===null){l=null;break t}}r=l.data,l=r==="F!"||r==="F"?l:null}if(l){Ct=Ua(l.nextSibling),a=l.data==="F!";break e}}$n(a)}a=!1}a&&(t=n[0])}}return n=yn(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ju,lastRenderedState:t},n.queue=a,n=Kl.bind(null,pt,a),a.dispatch=n,a=fc(!1),r=Ii.bind(null,pt,!1,a.queue),a=yn(),l={state:t,dispatch:null,action:e,pending:null},a.queue=l,n=o0.bind(null,pt,l,r,n),l.dispatch=n,a.memoizedState=e,[t,n,!1]}function Hu(e){var t=Ft();return Qi(t,Ut,e)}function Qi(e,t,n){if(t=bl(e,t,ju)[0],e=Yi(Ba)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Nu(t)}catch(c){throw c===zr?Li:c}else a=t;t=Ft();var l=t.queue,r=l.dispatch;return n!==t.memoizedState&&(pt.flags|=2048,nl(9,{destroy:void 0},Zi.bind(null,l,n),null)),[a,r,e]}function Zi(e,t){e.action=t}function Vu(e){var t=Ft(),n=Ut;if(n!==null)return Qi(t,n,e);Ft(),t=t.memoizedState,n=Ft();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function nl(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=pt.updateQueue,t===null&&(t=qi(),pt.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Ki(){return Ft().memoizedState}function Fl(e,t,n,a){var l=yn();pt.flags|=e,l.memoizedState=nl(1|t,{destroy:void 0},n,a===void 0?null:a)}function Ql(e,t,n,a){var l=Ft();a=a===void 0?null:a;var r=l.memoizedState.inst;Ut!==null&&a!==null&&el(a,Ut.memoizedState.deps)?l.memoizedState=nl(t,r,n,a):(pt.flags|=e,l.memoizedState=nl(1|t,r,n,a))}function ku(e,t){Fl(8390656,8,e,t)}function Zl(e,t){Ql(2048,8,e,t)}function qu(e){pt.flags|=4;var t=pt.updateQueue;if(t===null)t=qi(),pt.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Br(e){var t=Ft().memoizedState;return qu({ref:t,nextImpl:e}),function(){if((Et&2)!==0)throw Error(f(440));return t.impl.apply(void 0,arguments)}}function jr(e,t){return Ql(4,2,e,t)}function Ur(e,t){return Ql(4,4,e,t)}function Ji(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hr(e,t,n){n=n!=null?n.concat([e]):null,Ql(4,4,Ji.bind(null,t,e),n)}function al(){}function sc(e,t){var n=Ft();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&el(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function $i(e,t){var n=Ft();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&el(t,a[1]))return a[0];if(a=e(),Ga){mn(!0);try{e()}finally{mn(!1)}}return n.memoizedState=[a,t],a}function oc(e,t,n){return n===void 0||(Na&1073741824)!==0&&(yt&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=vh(),pt.lanes|=e,kr|=e,n)}function Xs(e,t,n,a){return wn(n,t)?n:ql.current!==null?(e=oc(e,n,a),wn(e,t)||(bn=!0),e):(Na&42)===0||(Na&1073741824)!==0&&(yt&261930)===0?(bn=!0,e.memoizedState=n):(e=vh(),pt.lanes|=e,kr|=e,t)}function Ys(e,t,n,a,l){var r=ke.p;ke.p=r!==0&&8>r?r:8;var c=ue.T,d={};ue.T=d,Ii(e,!1,t,n);try{var R=l(),K=ue.S;if(K!==null&&K(d,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var ie=s0(R,a);ha(e,t,ie,Sa(e))}else ha(e,t,a,Sa(e))}catch(ye){ha(e,t,{then:function(){},status:"rejected",reason:ye},Sa())}finally{ke.p=r,c!==null&&d.types!==null&&(c.types=d.types),ue.T=c}}function pl(){}function Wi(e,t,n,a){if(e.tag!==5)throw Error(f(476));var l=hc(e).queue;Ys(e,l,t,ct,n===null?pl:function(){return mc(e),n(a)})}function hc(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:ct},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function mc(e){var t=hc(e);t.next===null&&(t=e.alternate.memoizedState),ha(e,t.next.queue,{},Sa())}function dc(){return Ln(Dc)}function vc(){return Ft().memoizedState}function Fs(){return Ft().memoizedState}function ja(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Sa();e=Da(n);var a=pa(t,e,n);a!==null&&(da(a,t,n),wr(a,t,n)),t={cache:nc()},e.payload=t;return}t=t.return}}function Qs(e,t,n){var a=Sa();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Vr(e)?Xu(t,n):(n=xi(e,t,n,a),n!==null&&(da(n,e,a),yc(n,t,a)))}function Kl(e,t,n){var a=Sa();ha(e,t,n,a)}function ha(e,t,n,a){var l={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vr(e))Xu(t,l);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var c=t.lastRenderedState,d=r(c,n);if(l.hasEagerState=!0,l.eagerState=d,wn(d,c))return vu(e,t,l,0),Rt===null&&du(),!1}catch{}if(n=xi(e,t,l,a),n!==null)return da(n,e,a),yc(n,t,a),!0}return!1}function Ii(e,t,n,a){if(a={lane:2,revertLane:x0(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Vr(e)){if(t)throw Error(f(479))}else t=xi(e,n,a,2),t!==null&&da(t,e,2)}function Vr(e){var t=e.alternate;return e===pt||t!==null&&t===pt}function Xu(e,t){Xl=vl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function yc(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Yc(e,n)}}var It={readContext:Ln,use:Gu,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt,useHostTransitionStatus:Yt,useFormState:Yt,useActionState:Yt,useOptimistic:Yt,useMemoCache:Yt,useCacheRefresh:Yt};It.useEffectEvent=Yt;var ll={readContext:Ln,use:Gu,useCallback:function(e,t){return yn().memoizedState=[e,t===void 0?null:t],e},useContext:Ln,useEffect:ku,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Fl(4194308,4,Ji.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fl(4194308,4,e,t)},useInsertionEffect:function(e,t){Fl(4,2,e,t)},useMemo:function(e,t){var n=yn();t=t===void 0?null:t;var a=e();if(Ga){mn(!0);try{e()}finally{mn(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=yn();if(n!==void 0){var l=n(t);if(Ga){mn(!0);try{n(t)}finally{mn(!1)}}}else l=t;return a.memoizedState=a.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},a.queue=e,e=e.dispatch=Qs.bind(null,pt,e),[a.memoizedState,e]},useRef:function(e){var t=yn();return e={current:e},t.memoizedState=e},useState:function(e){e=fc(e);var t=e.queue,n=Kl.bind(null,pt,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:al,useDeferredValue:function(e,t){var n=yn();return oc(n,e,t)},useTransition:function(){var e=fc(!1);return e=Ys.bind(null,pt,e.queue,!0,!1),yn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=pt,l=yn();if(Ot){if(n===void 0)throw Error(f(407));n=n()}else{if(n=t(),Rt===null)throw Error(f(349));(yt&127)!==0||Gs(a,t,n)}l.memoizedState=n;var r={value:n,getSnapshot:t};return l.queue=r,ku(Bs.bind(null,a,r,e),[e]),a.flags|=2048,nl(9,{destroy:void 0},ic.bind(null,a,r,n,t),null),n},useId:function(){var e=yn(),t=Rt.identifierPrefix;if(Ot){var n=ya,a=va;n=(a&~(1<<32-Hn(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=sa++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=zu++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:dc,useFormState:Uu,useActionState:Uu,useOptimistic:function(e){var t=yn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ii.bind(null,pt,!0,n),n.dispatch=t,[e,t]},useMemoCache:Xi,useCacheRefresh:function(){return yn().memoizedState=ja.bind(null,pt)},useEffectEvent:function(e){var t=yn(),n={impl:e};return t.memoizedState=n,function(){if((Et&2)!==0)throw Error(f(440));return n.impl.apply(void 0,arguments)}}},Pt={readContext:Ln,use:Gu,useCallback:sc,useContext:Ln,useEffect:Zl,useImperativeHandle:Hr,useInsertionEffect:jr,useLayoutEffect:Ur,useMemo:$i,useReducer:Yi,useRef:Ki,useState:function(){return Yi(Ba)},useDebugValue:al,useDeferredValue:function(e,t){var n=Ft();return Xs(n,Ut.memoizedState,e,t)},useTransition:function(){var e=Yi(Ba)[0],t=Ft().memoizedState;return[typeof e=="boolean"?e:Nu(e),t]},useSyncExternalStore:Ns,useId:vc,useHostTransitionStatus:dc,useFormState:Hu,useActionState:Hu,useOptimistic:function(e,t){var n=Ft();return Hs(n,Ut,e,t)},useMemoCache:Xi,useCacheRefresh:Fs};Pt.useEffectEvent=Br;var kn={readContext:Ln,use:Gu,useCallback:sc,useContext:Ln,useEffect:Zl,useImperativeHandle:Hr,useInsertionEffect:jr,useLayoutEffect:Ur,useMemo:$i,useReducer:Bu,useRef:Ki,useState:function(){return Bu(Ba)},useDebugValue:al,useDeferredValue:function(e,t){var n=Ft();return Ut===null?oc(n,e,t):Xs(n,Ut.memoizedState,e,t)},useTransition:function(){var e=Bu(Ba)[0],t=Ft().memoizedState;return[typeof e=="boolean"?e:Nu(e),t]},useSyncExternalStore:Ns,useId:vc,useHostTransitionStatus:dc,useFormState:Vu,useActionState:Vu,useOptimistic:function(e,t){var n=Ft();return Ut!==null?Hs(n,Ut,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Xi,useCacheRefresh:Fs};kn.useEffectEvent=Br;function Pi(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:I({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var bc={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Sa(),l=Da(a);l.payload=t,n!=null&&(l.callback=n),t=pa(e,l,a),t!==null&&(da(t,e,a),wr(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Sa(),l=Da(a);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=pa(e,l,a),t!==null&&(da(t,e,a),wr(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Sa(),a=Da(n);a.tag=2,t!=null&&(a.callback=t),t=pa(e,a,n),t!==null&&(da(t,e,n),wr(t,e,n))}};function Zs(e,t,n,a,l,r,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,r,c):t.prototype&&t.prototype.isPureReactComponent?!mu(n,a)||!mu(l,r):!0}function Ks(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&bc.enqueueReplaceState(t,t.state,null)}function Jl(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=I({},n));for(var l in e)n[l]===void 0&&(n[l]=e[l])}return n}function pc(e){Za(e)}function Js(e){console.error(e)}function $s(e){Za(e)}function ef(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Ws(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function gc(e,t,n){return n=Da(n),n.tag=3,n.payload={element:null},n.callback=function(){ef(e,t)},n}function _c(e){return e=Da(e),e.tag=3,e}function Sc(e,t,n,a){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var r=a.value;e.payload=function(){return l(r)},e.callback=function(){Ws(t,n,a)}}var c=n.stateNode;c!==null&&typeof c.componentDidCatch=="function"&&(e.callback=function(){Ws(t,n,a),typeof l!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var d=a.stack;this.componentDidCatch(a.value,{componentStack:d!==null?d:""})})}function Is(e,t,n,a,l){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&Ul(t,n,l,!0),n=Wn.current,n!==null){switch(n.tag){case 31:case 13:return ia===null?lo():n.alternate===null&&gn===0&&(gn=3),n.flags&=-257,n.flags|=65536,n.lanes=l,a===Ni?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),_0(e,a,l)),!1;case 22:return n.flags|=65536,a===Ni?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),_0(e,a,l)),!1}throw Error(f(435,n.tag))}return _0(e,a,l),lo(),!1}if(Ot)return t=Wn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=l,a!==bu&&(e=Error(f(422),{cause:a}),Tr(ua(e,n)))):(a!==bu&&(t=Error(f(423),{cause:a}),Tr(ua(t,n))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,a=ua(a,n),l=gc(e.stateNode,a,l),Bi(e,l),gn!==4&&(gn=2)),!1;var r=Error(f(520),{cause:a});if(r=ua(r,n),xc===null?xc=[r]:xc.push(r),gn!==4&&(gn=2),t===null)return!0;a=ua(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=l&-l,n.lanes|=e,e=gc(n.stateNode,a,e),Bi(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(qr===null||!qr.has(r))))return n.flags|=65536,l&=-l,n.lanes|=l,l=_c(l),Sc(l,e,n,a),Bi(n,l),!1}n=n.return}while(n!==null);return!1}var Ec=Error(f(461)),bn=!1;function Cn(e,t,n,a){t.child=e===null?Gi(t,null,n,a):ca(t,e.child,n,a)}function Ps(e,t,n,a,l){n=n.render;var r=t.ref;if("ref"in a){var c={};for(var d in a)d!=="ref"&&(c[d]=a[d])}else c=a;return Hl(t),a=tl(e,t,n,c,r,l),d=Yl(),e!==null&&!bn?(wu(e,t,l),ee(e,t,l)):(Ot&&d&&Ri(t),t.flags|=1,Cn(e,t,a,l),t.child)}function i(e,t,n,a,l){if(e===null){var r=n.type;return typeof r=="function"&&!Ti(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,y(e,t,r,a,l)):(e=Ai(n.type,null,a,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!te(e,l)){var c=r.memoizedProps;if(n=n.compare,n=n!==null?n:mu,n(c,a)&&e.ref===t.ref)return ee(e,t,l)}return t.flags|=1,e=Ca(r,a),e.ref=t.ref,e.return=t,t.child=e}function y(e,t,n,a,l){if(e!==null){var r=e.memoizedProps;if(mu(r,a)&&e.ref===t.ref)if(bn=!1,t.pendingProps=a=r,te(e,l))(e.flags&131072)!==0&&(bn=!0);else return t.lanes=e.lanes,ee(e,t,l)}return be(e,t,n,a,l)}function S(e,t,n,a){var l=a.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(r=r!==null?r.baseLanes|n:n,e!==null){for(a=t.child=e.child,l=0;a!==null;)l=l|a.lanes|a.childLanes,a=a.sibling;a=l&~r}else a=0,t.child=null;return ne(e,t,r,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Eu(t,r!==null?r.cachePool:null),r!==null?rc(t,r):Vi(),uc(t);else return a=t.lanes=536870912,ne(e,t,r!==null?r.baseLanes|n:n,n,a)}else r!==null?(Eu(t,r.cachePool),rc(t,r),La(),t.memoizedState=null):(e!==null&&Eu(t,null),Vi(),La());return Cn(e,t,l,n),t.child}function Y(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ne(e,t,n,a,l){var r=Mr();return r=r===null?null:{parent:vn._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&Eu(t,null),Vi(),uc(t),e!==null&&Ul(e,t,a,!0),t.childLanes=l,null}function F(e,t){return t=ze({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function J(e,t,n){return ca(t,e.child,null,n),e=F(t,t.pendingProps),e.flags|=2,In(t),t.memoizedState=null,e}function oe(e,t,n){var a=t.pendingProps,l=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ot){if(a.mode==="hidden")return e=F(t,a),t.lanes=536870912,Y(null,e);if(Mu(t),(e=Ct)?(e=Wh(e,dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ka!==null?{id:va,overflow:ya}:null,retryLane:536870912,hydrationErrors:null},n=Oi(e),n.return=t,t.child=n,On=t,Ct=null)):e=null,e===null)throw $n(t);return t.lanes=536870912,null}return F(t,a)}var r=e.memoizedState;if(r!==null){var c=r.dehydrated;if(Mu(t),l)if(t.flags&256)t.flags&=-257,t=J(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(f(558));else if(bn||Ul(e,t,n,!1),l=(n&e.childLanes)!==0,bn||l){if(a=Rt,a!==null&&(c=Fc(a,n),c!==0&&c!==r.retryLane))throw r.retryLane=c,zl(e,c),da(a,e,c),Ec;lo(),t=J(e,t,n)}else e=r.treeContext,Ct=Ua(c.nextSibling),On=t,Ot=!0,ol=null,dn=!1,e!==null&&Wf(t,e),t=F(t,a),t.flags|=4096;return t}return e=Ca(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function fe(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(f(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function be(e,t,n,a,l){return Hl(t),n=tl(e,t,n,a,void 0,l),a=Yl(),e!==null&&!bn?(wu(e,t,l),ee(e,t,l)):(Ot&&a&&Ri(t),t.flags|=1,Cn(e,t,n,l),t.child)}function _e(e,t,n,a,l,r){return Hl(t),t.updateQueue=null,n=Du(t,a,n,l),yl(e),a=Yl(),e!==null&&!bn?(wu(e,t,r),ee(e,t,r)):(Ot&&a&&Ri(t),t.flags|=1,Cn(e,t,n,r),t.child)}function ge(e,t,n,a,l){if(Hl(t),t.stateNode===null){var r=wl,c=n.contextType;typeof c=="object"&&c!==null&&(r=Ln(c)),r=new n(a,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=bc,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=a,r.state=t.memoizedState,r.refs={},Au(t),c=n.contextType,r.context=typeof c=="object"&&c!==null?Ln(c):wl,r.state=t.memoizedState,c=n.getDerivedStateFromProps,typeof c=="function"&&(Pi(t,n,c,a),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(c=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),c!==r.state&&bc.enqueueReplaceState(r,r.state,null),Nr(t,a,r,l),Lr(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){r=t.stateNode;var d=t.memoizedProps,R=Jl(n,d);r.props=R;var K=r.context,ie=n.contextType;c=wl,typeof ie=="object"&&ie!==null&&(c=Ln(ie));var ye=n.getDerivedStateFromProps;ie=typeof ye=="function"||typeof r.getSnapshotBeforeUpdate=="function",d=t.pendingProps!==d,ie||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(d||K!==c)&&Ks(t,r,a,c),za=!1;var W=t.memoizedState;r.state=W,Nr(t,a,r,l),Lr(),K=t.memoizedState,d||W!==K||za?(typeof ye=="function"&&(Pi(t,n,ye,a),K=t.memoizedState),(R=za||Zs(t,n,R,a,W,K,c))?(ie||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=K),r.props=a,r.state=K,r.context=c,a=R):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{r=t.stateNode,Ou(e,t),c=t.memoizedProps,ie=Jl(n,c),r.props=ie,ye=t.pendingProps,W=r.context,K=n.contextType,R=wl,typeof K=="object"&&K!==null&&(R=Ln(K)),d=n.getDerivedStateFromProps,(K=typeof d=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(c!==ye||W!==R)&&Ks(t,r,a,R),za=!1,W=t.memoizedState,r.state=W,Nr(t,a,r,l),Lr();var le=t.memoizedState;c!==ye||W!==le||za||e!==null&&e.dependencies!==null&&gu(e.dependencies)?(typeof d=="function"&&(Pi(t,n,d,a),le=t.memoizedState),(ie=za||Zs(t,n,ie,a,W,le,R)||e!==null&&e.dependencies!==null&&gu(e.dependencies))?(K||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(a,le,R),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(a,le,R)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||c===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=le),r.props=a,r.state=le,r.context=R,a=ie):(typeof r.componentDidUpdate!="function"||c===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),a=!1)}return r=a,fe(e,t),a=(t.flags&128)!==0,r||a?(r=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&a?(t.child=ca(t,e.child,null,l),t.child=ca(t,null,n,l)):Cn(e,t,n,l),t.memoizedState=r.state,e=t.child):e=ee(e,t,l),e}function Te(e,t,n,a){return hl(),t.flags|=256,Cn(e,t,n,a),t.child}var se={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ve(e){return{baseLanes:e,cachePool:Di()}}function B(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=_a),e}function Q(e,t,n){var a=t.pendingProps,l=!1,r=(t.flags&128)!==0,c;if((c=r)||(c=e!==null&&e.memoizedState===null?!1:(rn.current&2)!==0),c&&(l=!0,t.flags&=-129),c=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ot){if(l?wa(t):La(),(e=Ct)?(e=Wh(e,dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ka!==null?{id:va,overflow:ya}:null,retryLane:536870912,hydrationErrors:null},n=Oi(e),n.return=t,t.child=n,On=t,Ct=null)):e=null,e===null)throw $n(t);return B0(e)?t.lanes=32:t.lanes=536870912,null}var d=a.children;return a=a.fallback,l?(La(),l=t.mode,d=ze({mode:"hidden",children:d},l),a=Ll(a,l,n,null),d.return=t,a.return=t,d.sibling=a,t.child=d,a=t.child,a.memoizedState=ve(n),a.childLanes=B(e,c,n),t.memoizedState=se,Y(null,a)):(wa(t),de(t,d))}var R=e.memoizedState;if(R!==null&&(d=R.dehydrated,d!==null)){if(r)t.flags&256?(wa(t),t.flags&=-257,t=re(e,t,n)):t.memoizedState!==null?(La(),t.child=e.child,t.flags|=128,t=null):(La(),d=a.fallback,l=t.mode,a=ze({mode:"visible",children:a.children},l),d=Ll(d,l,n,null),d.flags|=2,a.return=t,d.return=t,a.sibling=d,t.child=a,ca(t,e.child,null,n),a=t.child,a.memoizedState=ve(n),a.childLanes=B(e,c,n),t.memoizedState=se,t=Y(null,a));else if(wa(t),B0(d)){if(c=d.nextSibling&&d.nextSibling.dataset,c)var K=c.dgst;c=K,a=Error(f(419)),a.stack="",a.digest=c,Tr({value:a,source:null,stack:null}),t=re(e,t,n)}else if(bn||Ul(e,t,n,!1),c=(n&e.childLanes)!==0,bn||c){if(c=Rt,c!==null&&(a=Fc(c,n),a!==0&&a!==R.retryLane))throw R.retryLane=a,zl(e,a),da(c,e,a),Ec;G0(d)||lo(),t=re(e,t,n)}else G0(d)?(t.flags|=192,t.child=e.child,t=null):(e=R.treeContext,Ct=Ua(d.nextSibling),On=t,Ot=!0,ol=null,dn=!1,e!==null&&Wf(t,e),t=de(t,a.children),t.flags|=4096);return t}return l?(La(),d=a.fallback,l=t.mode,R=e.child,K=R.sibling,a=Ca(R,{mode:"hidden",children:a.children}),a.subtreeFlags=R.subtreeFlags&65011712,K!==null?d=Ca(K,d):(d=Ll(d,l,n,null),d.flags|=2),d.return=t,a.return=t,a.sibling=d,t.child=a,Y(null,a),a=t.child,d=e.child.memoizedState,d===null?d=ve(n):(l=d.cachePool,l!==null?(R=vn._currentValue,l=l.parent!==R?{parent:R,pool:R}:l):l=Di(),d={baseLanes:d.baseLanes|n,cachePool:l}),a.memoizedState=d,a.childLanes=B(e,c,n),t.memoizedState=se,Y(e.child,a)):(wa(t),n=e.child,e=n.sibling,n=Ca(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(c=t.deletions,c===null?(t.deletions=[e],t.flags|=16):c.push(e)),t.child=n,t.memoizedState=null,n)}function de(e,t){return t=ze({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ze(e,t){return e=Sn(22,e,null,t),e.lanes=0,e}function re(e,t,n){return ca(t,e.child,null,n),e=de(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function De(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),ec(e.return,t,n)}function Re(e,t,n,a,l,r){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:l,treeForkCount:r}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=a,c.tail=n,c.tailMode=l,c.treeForkCount=r)}function Ye(e,t,n){var a=t.pendingProps,l=a.revealOrder,r=a.tail;a=a.children;var c=rn.current,d=(c&2)!==0;if(d?(c=c&1|2,t.flags|=128):c&=1,qe(rn,c),Cn(e,t,a,n),a=Ot?yu:0,!d&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&De(e,n,t);else if(e.tag===19)De(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Gr(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Re(t,!1,l,n,r,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Gr(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Re(t,!0,n,null,r,a);break;case"together":Re(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function ee(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),kr|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ul(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(f(153));if(t.child!==null){for(e=t.child,n=Ca(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ca(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function te(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&gu(e)))}function He(e,t,n){switch(t.tag){case 3:Un(t,t.stateNode.containerInfo),ml(t,vn,e.memoizedState.cache),hl();break;case 27:case 5:Ir(t);break;case 4:Un(t,t.stateNode.containerInfo);break;case 10:ml(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Mu(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(wa(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Q(e,t,n):(wa(t),e=ee(e,t,n),e!==null?e.sibling:null);wa(t);break;case 19:var l=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(Ul(e,t,n,!1),a=(n&t.childLanes)!==0),l){if(a)return Ye(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),qe(rn,rn.current),a)break;return null;case 22:return t.lanes=0,S(e,t,n,t.pendingProps);case 24:ml(t,vn,e.memoizedState.cache)}return ee(e,t,n)}function Ae(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)bn=!0;else{if(!te(e,n)&&(t.flags&128)===0)return bn=!1,He(e,t,n);bn=(e.flags&131072)!==0}else bn=!1,Ot&&(t.flags&1048576)!==0&&$f(t,yu,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=kl(t.elementType),t.type=e,typeof e=="function")Ti(e)?(a=Jl(e,a),t.tag=1,t=ge(null,t,e,a,n)):(t.tag=0,t=be(null,t,e,a,n));else{if(e!=null){var l=e.$$typeof;if(l===_n){t.tag=11,t=Ps(null,t,e,a,n);break e}else if(l===bt){t.tag=14,t=i(null,t,e,a,n);break e}}throw t=Gt(e)||e,Error(f(306,t,""))}}return t;case 0:return be(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,l=Jl(a,t.pendingProps),ge(e,t,a,l,n);case 3:e:{if(Un(t,t.stateNode.containerInfo),e===null)throw Error(f(387));a=t.pendingProps;var r=t.memoizedState;l=r.element,Ou(e,t),Nr(t,a,null,n);var c=t.memoizedState;if(a=c.cache,ml(t,vn,a),a!==r.cache&&tc(t,[vn],n,!0),Lr(),a=c.element,r.isDehydrated)if(r={element:a,isDehydrated:!1,cache:c.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=Te(e,t,a,n);break e}else if(a!==l){l=ua(Error(f(424)),t),Tr(l),t=Te(e,t,a,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ct=Ua(e.firstChild),On=t,Ot=!0,ol=null,dn=!0,n=Gi(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hl(),a===l){t=ee(e,t,n);break e}Cn(e,t,a,n)}t=t.child}return t;case 26:return fe(e,t),e===null?(n=am(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ot||(n=t.type,e=t.pendingProps,a=oo(Tt.current).createElement(n),a[Dn]=t,a[Zn]=e,qn(a,n,e),An(a),t.stateNode=a):t.memoizedState=am(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ir(t),e===null&&Ot&&(a=t.stateNode=em(t.type,t.pendingProps,Tt.current),On=t,dn=!0,l=Ct,Qr(t.type)?(j0=l,Ct=Ua(a.firstChild)):Ct=l),Cn(e,t,t.pendingProps.children,n),fe(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ot&&((l=a=Ct)&&(a=x1(a,t.type,t.pendingProps,dn),a!==null?(t.stateNode=a,On=t,Ct=Ua(a.firstChild),dn=!1,l=!0):l=!1),l||$n(t)),Ir(t),l=t.type,r=t.pendingProps,c=e!==null?e.memoizedProps:null,a=r.children,w0(l,r)?a=null:c!==null&&w0(l,c)&&(t.flags|=32),t.memoizedState!==null&&(l=tl(e,t,ki,null,null,n),Dc._currentValue=l),fe(e,t),Cn(e,t,a,n),t.child;case 6:return e===null&&Ot&&((e=n=Ct)&&(n=T1(n,t.pendingProps,dn),n!==null?(t.stateNode=n,On=t,Ct=null,e=!0):e=!1),e||$n(t)),null;case 13:return Q(e,t,n);case 4:return Un(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=ca(t,null,a,n):Cn(e,t,a,n),t.child;case 11:return Ps(e,t,t.type,t.pendingProps,n);case 7:return Cn(e,t,t.pendingProps,n),t.child;case 8:return Cn(e,t,t.pendingProps.children,n),t.child;case 12:return Cn(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,ml(t,t.type,a.value),Cn(e,t,a.children,n),t.child;case 9:return l=t.type._context,a=t.pendingProps.children,Hl(t),l=Ln(l),a=a(l),t.flags|=1,Cn(e,t,a,n),t.child;case 14:return i(e,t,t.type,t.pendingProps,n);case 15:return y(e,t,t.type,t.pendingProps,n);case 19:return Ye(e,t,n);case 31:return oe(e,t,n);case 22:return S(e,t,n,t.pendingProps);case 24:return Hl(t),a=Ln(vn),e===null?(l=Mr(),l===null&&(l=Rt,r=nc(),l.pooledCache=r,r.refCount++,r!==null&&(l.pooledCacheLanes|=n),l=r),t.memoizedState={parent:a,cache:l},Au(t),ml(t,vn,l)):((e.lanes&n)!==0&&(Ou(e,t),Nr(t,null,null,n),Lr()),l=e.memoizedState,r=t.memoizedState,l.parent!==a?(l={parent:a,cache:a},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),ml(t,vn,a)):(a=r.cache,ml(t,vn,a),a!==l.cache&&tc(t,[vn],n,!0))),Cn(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(f(156,t.tag))}function ce(e){e.flags|=4}function Oe(e,t,n,a,l){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(l&335544128)===l)if(e.stateNode.complete)e.flags|=8192;else if(gh())e.flags|=8192;else throw ba=Ni,wi}else e.flags&=-16777217}function Me(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!fm(t))if(gh())e.flags|=8192;else throw ba=Ni,wi}function nt(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Qn():536870912,e.lanes|=t,tf|=t)}function Je(e,t){if(!Ot)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function he(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags&65011712,a|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags,a|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function we(e,t,n){var a=t.pendingProps;switch(Mi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(t),null;case 1:return he(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),$a(vn),cn(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Bl(t)?ce(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,zi())),he(t),null;case 26:var l=t.type,r=t.memoizedState;return e===null?(ce(t),r!==null?(he(t),Me(t,r)):(he(t),Oe(t,l,null,a,n))):r?r!==e.memoizedState?(ce(t),he(t),Me(t,r)):(he(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&ce(t),he(t),Oe(t,l,e,a,n)),null;case 27:if(Qu(t),n=Tt.current,l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ce(t);else{if(!a){if(t.stateNode===null)throw Error(f(166));return he(t),null}e=Ke.current,Bl(t)?pu(t):(e=em(l,a,n),t.stateNode=e,ce(t))}return he(t),null;case 5:if(Qu(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ce(t);else{if(!a){if(t.stateNode===null)throw Error(f(166));return he(t),null}if(r=Ke.current,Bl(t))pu(t);else{var c=oo(Tt.current);switch(r){case 1:r=c.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:r=c.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":r=c.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":r=c.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":r=c.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof a.is=="string"?c.createElement("select",{is:a.is}):c.createElement("select"),a.multiple?r.multiple=!0:a.size&&(r.size=a.size);break;default:r=typeof a.is=="string"?c.createElement(l,{is:a.is}):c.createElement(l)}}r[Dn]=t,r[Zn]=a;e:for(c=t.child;c!==null;){if(c.tag===5||c.tag===6)r.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}t.stateNode=r;e:switch(qn(r,l,a),l){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ce(t)}}return he(t),Oe(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&ce(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(f(166));if(e=Tt.current,Bl(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,l=On,l!==null)switch(l.tag){case 27:case 5:a=l.memoizedProps}e[Dn]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Xh(e.nodeValue,n)),e||$n(t,!0)}else e=oo(e).createTextNode(a),e[Dn]=t,t.stateNode=e}return he(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=Bl(t),n!==null){if(e===null){if(!a)throw Error(f(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(557));e[Dn]=t}else hl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;he(t),e=!1}else n=zi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(In(t),t):(In(t),null);if((t.flags&128)!==0)throw Error(f(558))}return he(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=Bl(t),a!==null&&a.dehydrated!==null){if(e===null){if(!l)throw Error(f(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(f(317));l[Dn]=t}else hl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;he(t),l=!1}else l=zi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(In(t),t):(In(t),null)}return In(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,l=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(l=a.alternate.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==l&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),nt(t,t.updateQueue),he(t),null);case 4:return cn(),e===null&&C0(t.stateNode.containerInfo),he(t),null;case 10:return $a(t.type),he(t),null;case 19:if(pe(rn),a=t.memoizedState,a===null)return he(t),null;if(l=(t.flags&128)!==0,r=a.rendering,r===null)if(l)Je(a,!1);else{if(gn!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(r=Gr(e),r!==null){for(t.flags|=128,Je(a,!1),e=r.updateQueue,t.updateQueue=e,nt(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Rs(n,e),n=n.sibling;return qe(rn,rn.current&1|2),Ot&&Ra(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&aa()>to&&(t.flags|=128,l=!0,Je(a,!1),t.lanes=4194304)}else{if(!l)if(e=Gr(r),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,nt(t,e),Je(a,!0),a.tail===null&&a.tailMode==="hidden"&&!r.alternate&&!Ot)return he(t),null}else 2*aa()-a.renderingStartTime>to&&n!==536870912&&(t.flags|=128,l=!0,Je(a,!1),t.lanes=4194304);a.isBackwards?(r.sibling=t.child,t.child=r):(e=a.last,e!==null?e.sibling=r:t.child=r,a.last=r)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=aa(),e.sibling=null,n=rn.current,qe(rn,l?n&1|2:n&1),Ot&&Ra(t,a.treeForkCount),e):(he(t),null);case 22:case 23:return In(t),Ru(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(he(t),t.subtreeFlags&6&&(t.flags|=8192)):he(t),n=t.updateQueue,n!==null&&nt(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&pe(dl),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),$a(vn),he(t),null;case 25:return null;case 30:return null}throw Error(f(156,t.tag))}function $e(e,t){switch(Mi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $a(vn),cn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Qu(t),null;case 31:if(t.memoizedState!==null){if(In(t),t.alternate===null)throw Error(f(340));hl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(In(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(f(340));hl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pe(rn),null;case 4:return cn(),null;case 10:return $a(t.type),null;case 22:case 23:return In(t),Ru(),e!==null&&pe(dl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return $a(vn),null;case 25:return null;default:return null}}function at(e,t){switch(Mi(t),t.tag){case 3:$a(vn),cn();break;case 26:case 27:case 5:Qu(t);break;case 4:cn();break;case 31:t.memoizedState!==null&&In(t);break;case 13:In(t);break;case 19:pe(rn);break;case 10:$a(t.type);break;case 22:case 23:In(t),Ru(),e!==null&&pe(dl);break;case 24:$a(vn)}}function st(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var l=a.next;n=l;do{if((n.tag&e)===e){a=void 0;var r=n.create,c=n.inst;a=r(),c.destroy=a}n=n.next}while(n!==l)}}catch(d){Xt(t,t.return,d)}}function wt(e,t,n){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var r=l.next;a=r;do{if((a.tag&e)===e){var c=a.inst,d=c.destroy;if(d!==void 0){c.destroy=void 0,l=t;var R=n,K=d;try{K()}catch(ie){Xt(l,R,ie)}}}a=a.next}while(a!==r)}}catch(ie){Xt(t,t.return,ie)}}function Qt(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Hi(t,n)}catch(a){Xt(e,e.return,a)}}}function vt(e,t,n){n.props=Jl(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Xt(e,t,a)}}function Wt(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(l){Xt(e,t,l)}}function At(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(l){Xt(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){Xt(e,t,l)}else n.current=null}function tn(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(l){Xt(e,e.return,l)}}function nn(e,t,n){try{var a=e.stateNode;b1(a,e.type,n,t),a[Zn]=t}catch(l){Xt(e,e.return,l)}}function fn(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qr(e.type)||e.tag===4}function on(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fn(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pn(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=qa));else if(a!==4&&(a===27&&Qr(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(pn(e,t,n),e=e.sibling;e!==null;)pn(e,t,n),e=e.sibling}function Zt(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Qr(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Zt(e,t,n),e=e.sibling;e!==null;)Zt(e,t,n),e=e.sibling}function ft(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);qn(t,a,n),t[Dn]=e,t[Zn]=n}catch(r){Xt(e,e.return,r)}}var Kt=!1,lt=!1,Fe=!1,dt=typeof WeakSet=="function"?WeakSet:Set,tt=null;function an(e,t){if(e=e.containerInfo,z0=go,e=_s(e),Qf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var l=a.anchorOffset,r=a.focusNode;a=a.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var c=0,d=-1,R=-1,K=0,ie=0,ye=e,W=null;t:for(;;){for(var le;ye!==n||l!==0&&ye.nodeType!==3||(d=c+l),ye!==r||a!==0&&ye.nodeType!==3||(R=c+a),ye.nodeType===3&&(c+=ye.nodeValue.length),(le=ye.firstChild)!==null;)W=ye,ye=le;for(;;){if(ye===e)break t;if(W===n&&++K===l&&(d=c),W===r&&++ie===a&&(R=c),(le=ye.nextSibling)!==null)break;ye=W,W=ye.parentNode}ye=le}n=d===-1||R===-1?null:{start:d,end:R}}else n=null}n=n||{start:0,end:0}}else n=null;for(D0={focusedElem:e,selectionRange:n},go=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){switch(t=tt,r=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)l=e[n],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&r!==null){e=void 0,n=t,l=r.memoizedProps,r=r.memoizedState,a=n.stateNode;try{var Ze=Jl(n.type,l);e=a.getSnapshotBeforeUpdate(Ze,r),a.__reactInternalSnapshotBeforeUpdate=e}catch(ot){Xt(n,n.return,ot)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)N0(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":N0(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(f(163))}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}}function ga(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:v(e,n),a&4&&st(5,n);break;case 1:if(v(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(c){Xt(n,n.return,c)}else{var l=Jl(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(c){Xt(n,n.return,c)}}a&64&&Qt(n),a&512&&Wt(n,n.return);break;case 3:if(v(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Hi(e,t)}catch(c){Xt(n,n.return,c)}}break;case 27:t===null&&a&4&&ft(n);case 26:case 5:v(e,n),t===null&&a&4&&tn(n),a&512&&Wt(n,n.return);break;case 12:v(e,n);break;case 31:v(e,n),a&4&&mt(e,n);break;case 13:v(e,n),a&4&&p(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=r1.bind(null,n),A1(e,n))));break;case 22:if(a=n.memoizedState!==null||Kt,!a){t=t!==null&&t.memoizedState!==null||lt,l=Kt;var r=lt;Kt=a,(lt=t)&&!r?_(e,n,(n.subtreeFlags&8772)!==0):v(e,n),Kt=l,lt=r}break;case 30:break;default:v(e,n)}}function gl(e){var t=e.alternate;t!==null&&(e.alternate=null,gl(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&xf(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var g=null,k=!1;function H(e,t,n){for(n=n.child;n!==null;)Be(e,t,n),n=n.sibling}function Be(e,t,n){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(Pr,n)}catch{}switch(n.tag){case 26:lt||At(n,t),H(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:lt||At(n,t);var a=g,l=k;Qr(n.type)&&(g=n.stateNode,k=!1),H(e,t,n),Rc(n.stateNode),g=a,k=l;break;case 5:lt||At(n,t);case 6:if(a=g,l=k,g=null,H(e,t,n),g=a,k=l,g!==null)if(k)try{(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).removeChild(n.stateNode)}catch(r){Xt(n,t,r)}else try{g.removeChild(n.stateNode)}catch(r){Xt(n,t,r)}break;case 18:g!==null&&(k?(e=g,Jh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),sf(e)):Jh(g,n.stateNode));break;case 4:a=g,l=k,g=n.stateNode.containerInfo,k=!0,H(e,t,n),g=a,k=l;break;case 0:case 11:case 14:case 15:wt(2,n,t),lt||wt(4,n,t),H(e,t,n);break;case 1:lt||(At(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&vt(n,t,a)),H(e,t,n);break;case 21:H(e,t,n);break;case 22:lt=(a=lt)||n.memoizedState!==null,H(e,t,n),lt=a;break;default:H(e,t,n)}}function mt(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{sf(e)}catch(n){Xt(t,t.return,n)}}}function p(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{sf(e)}catch(n){Xt(t,t.return,n)}}function m(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new dt),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new dt),t;default:throw Error(f(435,e.tag))}}function T(e,t){var n=m(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var l=u1.bind(null,e,a);a.then(l,l)}})}function M(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var l=n[a],r=e,c=t,d=c;e:for(;d!==null;){switch(d.tag){case 27:if(Qr(d.type)){g=d.stateNode,k=!1;break e}break;case 5:g=d.stateNode,k=!1;break e;case 3:case 4:g=d.stateNode.containerInfo,k=!0;break e}d=d.return}if(g===null)throw Error(f(160));Be(r,c,l),g=null,k=!1,r=l.alternate,r!==null&&(r.return=null),l.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)C(t,e),t=t.sibling}var D=null;function C(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:M(t,e),A(e),a&4&&(wt(3,e,e.return),st(3,e),wt(5,e,e.return));break;case 1:M(t,e),A(e),a&512&&(lt||n===null||At(n,n.return)),a&64&&Kt&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var l=D;if(M(t,e),A(e),a&512&&(lt||n===null||At(n,n.return)),a&4){var r=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,l=l.ownerDocument||l;t:switch(a){case"title":r=l.getElementsByTagName("title")[0],(!r||r[au]||r[Dn]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=l.createElement(a),l.head.insertBefore(r,l.querySelector("head > title"))),qn(r,a,n),r[Dn]=e,An(r),a=r;break e;case"link":var c=um("link","href",l).get(a+(n.href||""));if(c){for(var d=0;d<c.length;d++)if(r=c[d],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){c.splice(d,1);break t}}r=l.createElement(a),qn(r,a,n),l.head.appendChild(r);break;case"meta":if(c=um("meta","content",l).get(a+(n.content||""))){for(d=0;d<c.length;d++)if(r=c[d],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){c.splice(d,1);break t}}r=l.createElement(a),qn(r,a,n),l.head.appendChild(r);break;default:throw Error(f(468,a))}r[Dn]=e,An(r),a=r}e.stateNode=a}else im(l,e.type,e.stateNode);else e.stateNode=rm(l,a,e.memoizedProps);else r!==a?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,a===null?im(l,e.type,e.stateNode):rm(l,a,e.memoizedProps)):a===null&&e.stateNode!==null&&nn(e,e.memoizedProps,n.memoizedProps)}break;case 27:M(t,e),A(e),a&512&&(lt||n===null||At(n,n.return)),n!==null&&a&4&&nn(e,e.memoizedProps,n.memoizedProps);break;case 5:if(M(t,e),A(e),a&512&&(lt||n===null||At(n,n.return)),e.flags&32){l=e.stateNode;try{Bn(l,"")}catch(Ze){Xt(e,e.return,Ze)}}a&4&&e.stateNode!=null&&(l=e.memoizedProps,nn(e,l,n!==null?n.memoizedProps:l)),a&1024&&(Fe=!0);break;case 6:if(M(t,e),A(e),a&4){if(e.stateNode===null)throw Error(f(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(Ze){Xt(e,e.return,Ze)}}break;case 3:if(vo=null,l=D,D=ho(t.containerInfo),M(t,e),D=l,A(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{sf(t.containerInfo)}catch(Ze){Xt(e,e.return,Ze)}Fe&&(Fe=!1,z(e));break;case 4:a=D,D=ho(e.stateNode.containerInfo),M(t,e),A(e),D=a;break;case 12:M(t,e),A(e);break;case 31:M(t,e),A(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,T(e,a)));break;case 13:M(t,e),A(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(eo=aa()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,T(e,a)));break;case 22:l=e.memoizedState!==null;var R=n!==null&&n.memoizedState!==null,K=Kt,ie=lt;if(Kt=K||l,lt=ie||R,M(t,e),lt=ie,Kt=K,A(e),a&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(n===null||R||Kt||lt||x(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){R=n=t;try{if(r=R.stateNode,l)c=r.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none";else{d=R.stateNode;var ye=R.memoizedProps.style,W=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;d.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Ze){Xt(R,R.return,Ze)}}}else if(t.tag===6){if(n===null){R=t;try{R.stateNode.nodeValue=l?"":R.memoizedProps}catch(Ze){Xt(R,R.return,Ze)}}}else if(t.tag===18){if(n===null){R=t;try{var le=R.stateNode;l?$h(le,!0):$h(R.stateNode,!1)}catch(Ze){Xt(R,R.return,Ze)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,T(e,n))));break;case 19:M(t,e),A(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,T(e,a)));break;case 30:break;case 21:break;default:M(t,e),A(e)}}function A(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(fn(a)){n=a;break}a=a.return}if(n==null)throw Error(f(160));switch(n.tag){case 27:var l=n.stateNode,r=on(e);Zt(e,r,l);break;case 5:var c=n.stateNode;n.flags&32&&(Bn(c,""),n.flags&=-33);var d=on(e);Zt(e,d,c);break;case 3:case 4:var R=n.stateNode.containerInfo,K=on(e);pn(e,K,R);break;default:throw Error(f(161))}}catch(ie){Xt(e,e.return,ie)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function z(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;z(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function v(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ga(e,t.alternate,t),t=t.sibling}function x(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:wt(4,t,t.return),x(t);break;case 1:At(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&vt(t,t.return,n),x(t);break;case 27:Rc(t.stateNode);case 26:case 5:At(t,t.return),x(t);break;case 22:t.memoizedState===null&&x(t);break;case 30:x(t);break;default:x(t)}e=e.sibling}}function _(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,l=e,r=t,c=r.flags;switch(r.tag){case 0:case 11:case 15:_(l,r,n),st(4,r);break;case 1:if(_(l,r,n),a=r,l=a.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(K){Xt(a,a.return,K)}if(a=r,l=a.updateQueue,l!==null){var d=a.stateNode;try{var R=l.shared.hiddenCallbacks;if(R!==null)for(l.shared.hiddenCallbacks=null,l=0;l<R.length;l++)Ui(R[l],d)}catch(K){Xt(a,a.return,K)}}n&&c&64&&Qt(r),Wt(r,r.return);break;case 27:ft(r);case 26:case 5:_(l,r,n),n&&a===null&&c&4&&tn(r),Wt(r,r.return);break;case 12:_(l,r,n);break;case 31:_(l,r,n),n&&c&4&&mt(l,r);break;case 13:_(l,r,n),n&&c&4&&p(l,r);break;case 22:r.memoizedState===null&&_(l,r,n),Wt(r,r.return);break;case 30:break;default:_(l,r,n)}t=t.sibling}}function j(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Or(n))}function V(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Or(e))}function ae(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xe(e,t,n,a),t=t.sibling}function xe(e,t,n,a){var l=t.flags;switch(t.tag){case 0:case 11:case 15:ae(e,t,n,a),l&2048&&st(9,t);break;case 1:ae(e,t,n,a);break;case 3:ae(e,t,n,a),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Or(e)));break;case 12:if(l&2048){ae(e,t,n,a),e=t.stateNode;try{var r=t.memoizedProps,c=r.id,d=r.onPostCommit;typeof d=="function"&&d(c,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Xt(t,t.return,R)}}else ae(e,t,n,a);break;case 31:ae(e,t,n,a);break;case 13:ae(e,t,n,a);break;case 23:break;case 22:r=t.stateNode,c=t.alternate,t.memoizedState!==null?r._visibility&2?ae(e,t,n,a):Ce(e,t):r._visibility&2?ae(e,t,n,a):(r._visibility|=2,Ee(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),l&2048&&j(c,t);break;case 24:ae(e,t,n,a),l&2048&&V(t.alternate,t);break;default:ae(e,t,n,a)}}function Ee(e,t,n,a,l){for(l=l&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,c=t,d=n,R=a,K=c.flags;switch(c.tag){case 0:case 11:case 15:Ee(r,c,d,R,l),st(8,c);break;case 23:break;case 22:var ie=c.stateNode;c.memoizedState!==null?ie._visibility&2?Ee(r,c,d,R,l):Ce(r,c):(ie._visibility|=2,Ee(r,c,d,R,l)),l&&K&2048&&j(c.alternate,c);break;case 24:Ee(r,c,d,R,l),l&&K&2048&&V(c.alternate,c);break;default:Ee(r,c,d,R,l)}t=t.sibling}}function Ce(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,l=a.flags;switch(a.tag){case 22:Ce(n,a),l&2048&&j(a.alternate,a);break;case 24:Ce(n,a),l&2048&&V(a.alternate,a);break;default:Ce(n,a)}t=t.sibling}}var Se=8192;function Ne(e,t,n){if(e.subtreeFlags&Se)for(e=e.child;e!==null;)Le(e,t,n),e=e.sibling}function Le(e,t,n){switch(e.tag){case 26:Ne(e,t,n),e.flags&Se&&e.memoizedState!==null&&j1(n,D,e.memoizedState,e.memoizedProps);break;case 5:Ne(e,t,n);break;case 3:case 4:var a=D;D=ho(e.stateNode.containerInfo),Ne(e,t,n),D=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Se,Se=16777216,Ne(e,t,n),Se=a):Ne(e,t,n));break;default:Ne(e,t,n)}}function Ue(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ge(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];tt=a,Nt(a,e)}Ue(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ve(e),e=e.sibling}function Ve(e){switch(e.tag){case 0:case 11:case 15:Ge(e),e.flags&2048&&wt(9,e,e.return);break;case 3:Ge(e);break;case 12:Ge(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Qe(e)):Ge(e);break;default:Ge(e)}}function Qe(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];tt=a,Nt(a,e)}Ue(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:wt(8,t,t.return),Qe(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Qe(t));break;default:Qe(t)}e=e.sibling}}function Nt(e,t){for(;tt!==null;){var n=tt;switch(n.tag){case 0:case 11:case 15:wt(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Or(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,tt=a;else e:for(n=e;tt!==null;){a=tt;var l=a.sibling,r=a.return;if(gl(a),a===n){tt=null;break e}if(l!==null){l.return=r,tt=l;break e}tt=r}}}var xn={getCacheForType:function(e){var t=Ln(vn),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ln(vn).controller.signal}},rl=typeof WeakMap=="function"?WeakMap:Map,Et=0,Rt=null,it=null,yt=0,St=0,Pn=null,Rn=!1,$l=!1,h0=!1,Wl=0,gn=0,kr=0,Yu=0,m0=0,_a=0,tf=0,xc=null,ma=null,d0=!1,eo=0,mh=0,to=1/0,no=null,qr=null,Nn=0,Xr=null,nf=null,Il=0,v0=0,y0=null,dh=null,Tc=0,b0=null;function Sa(){return(Et&2)!==0&&yt!==0?yt&-yt:ue.T!==null?x0():_f()}function vh(){if(_a===0)if((yt&536870912)===0||Ot){var e=Iu;Iu<<=1,(Iu&3932160)===0&&(Iu=262144),_a=e}else _a=536870912;return e=Wn.current,e!==null&&(e.flags|=32),_a}function da(e,t,n){(e===Rt&&(St===2||St===9)||e.cancelPendingCommit!==null)&&(af(e,0),Yr(e,yt,_a,!1)),nu(e,n),((Et&2)===0||e!==Rt)&&(e===Rt&&((Et&2)===0&&(Yu|=n),gn===4&&Yr(e,yt,_a,!1)),_l(e))}function yh(e,t,n){if((Et&6)!==0)throw Error(f(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||tu(e,t),l=a?n1(e,t):g0(e,t,!0),r=a;do{if(l===0){$l&&!a&&Yr(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!e1(n)){l=g0(e,t,!1),r=!1;continue}if(l===2){if(r=t,e.errorRecoveryDisabledLanes&r)var c=0;else c=e.pendingLanes&-536870913,c=c!==0?c:c&536870912?536870912:0;if(c!==0){t=c;e:{var d=e;l=xc;var R=d.current.memoizedState.isDehydrated;if(R&&(af(d,c).flags|=256),c=g0(d,c,!1),c!==2){if(h0&&!R){d.errorRecoveryDisabledLanes|=r,Yu|=r,l=4;break e}r=ma,ma=l,r!==null&&(ma===null?ma=r:ma.push.apply(ma,r))}l=c}if(r=!1,l!==2)continue}}if(l===1){af(e,0),Yr(e,t,0,!0);break}e:{switch(a=e,r=l,r){case 0:case 1:throw Error(f(345));case 4:if((t&4194048)!==t)break;case 6:Yr(a,t,_a,!Rn);break e;case 2:ma=null;break;case 3:case 5:break;default:throw Error(f(329))}if((t&62914560)===t&&(l=eo+300-aa(),10<l)){if(Yr(a,t,_a,!Rn),eu(a,0,!0)!==0)break e;Il=t,a.timeoutHandle=Zh(bh.bind(null,a,n,ma,no,d0,t,_a,Yu,tf,Rn,r,"Throttled",-0,0),l);break e}bh(a,n,ma,no,d0,t,_a,Yu,tf,Rn,r,null,-0,0)}}break}while(!0);_l(e)}function bh(e,t,n,a,l,r,c,d,R,K,ie,ye,W,le){if(e.timeoutHandle=-1,ye=t.subtreeFlags,ye&8192||(ye&16785408)===16785408){ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qa},Le(t,r,ye);var Ze=(r&62914560)===r?eo-aa():(r&4194048)===r?mh-aa():0;if(Ze=U1(ye,Ze),Ze!==null){Il=r,e.cancelPendingCommit=Ze(Ah.bind(null,e,t,r,n,a,l,c,d,R,ie,ye,null,W,le)),Yr(e,r,c,!K);return}}Ah(e,t,r,n,a,l,c,d,R)}function e1(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var l=n[a],r=l.getSnapshot;l=l.value;try{if(!wn(r(),l))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yr(e,t,n,a){t&=~m0,t&=~Yu,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var l=t;0<l;){var r=31-Hn(l),c=1<<r;a[r]=-1,l&=~c}n!==0&&Xc(e,n,t)}function ao(){return(Et&6)===0?(Ac(0),!1):!0}function p0(){if(it!==null){if(St===0)var e=it.return;else e=it,Ja=jl=null,Lu(e),Dr=null,Ma=0,e=it;for(;e!==null;)at(e.alternate,e),e=e.return;it=null}}function af(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,_1(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Il=0,p0(),Rt=e,it=n=Ca(e.current,null),yt=t,St=0,Pn=null,Rn=!1,$l=tu(e,t),h0=!1,tf=_a=m0=Yu=kr=gn=0,ma=xc=null,d0=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var l=31-Hn(a),r=1<<l;t|=e[l],a&=~r}return Wl=t,du(),n}function ph(e,t){pt=null,ue.H=It,t===zr||t===Li?(t=Ls(),St=3):t===wi?(t=Ls(),St=4):St=t===Ec?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Pn=t,it===null&&(gn=1,ef(e,ua(t,e.current)))}function gh(){var e=Wn.current;return e===null?!0:(yt&4194048)===yt?ia===null:(yt&62914560)===yt||(yt&536870912)!==0?e===ia:!1}function _h(){var e=ue.H;return ue.H=It,e===null?It:e}function Sh(){var e=ue.A;return ue.A=xn,e}function lo(){gn=4,Rn||(yt&4194048)!==yt&&Wn.current!==null||($l=!0),(kr&134217727)===0&&(Yu&134217727)===0||Rt===null||Yr(Rt,yt,_a,!1)}function g0(e,t,n){var a=Et;Et|=2;var l=_h(),r=Sh();(Rt!==e||yt!==t)&&(no=null,af(e,t)),t=!1;var c=gn;e:do try{if(St!==0&&it!==null){var d=it,R=Pn;switch(St){case 8:p0(),c=6;break e;case 3:case 2:case 9:case 6:Wn.current===null&&(t=!0);var K=St;if(St=0,Pn=null,lf(e,d,R,K),n&&$l){c=0;break e}break;default:K=St,St=0,Pn=null,lf(e,d,R,K)}}t1(),c=gn;break}catch(ie){ph(e,ie)}while(!0);return t&&e.shellSuspendCounter++,Ja=jl=null,Et=a,ue.H=l,ue.A=r,it===null&&(Rt=null,yt=0,du()),c}function t1(){for(;it!==null;)Eh(it)}function n1(e,t){var n=Et;Et|=2;var a=_h(),l=Sh();Rt!==e||yt!==t?(no=null,to=aa()+500,af(e,t)):$l=tu(e,t);e:do try{if(St!==0&&it!==null){t=it;var r=Pn;t:switch(St){case 1:St=0,Pn=null,lf(e,t,r,1);break;case 2:case 9:if(Ds(r)){St=0,Pn=null,xh(t);break}t=function(){St!==2&&St!==9||Rt!==e||(St=7),_l(e)},r.then(t,t);break e;case 3:St=7;break e;case 4:St=5;break e;case 7:Ds(r)?(St=0,Pn=null,xh(t)):(St=0,Pn=null,lf(e,t,r,7));break;case 5:var c=null;switch(it.tag){case 26:c=it.memoizedState;case 5:case 27:var d=it;if(c?fm(c):d.stateNode.complete){St=0,Pn=null;var R=d.sibling;if(R!==null)it=R;else{var K=d.return;K!==null?(it=K,ro(K)):it=null}break t}}St=0,Pn=null,lf(e,t,r,5);break;case 6:St=0,Pn=null,lf(e,t,r,6);break;case 8:p0(),gn=6;break e;default:throw Error(f(462))}}a1();break}catch(ie){ph(e,ie)}while(!0);return Ja=jl=null,ue.H=a,ue.A=l,Et=n,it!==null?0:(Rt=null,yt=0,du(),gn)}function a1(){for(;it!==null&&!jo();)Eh(it)}function Eh(e){var t=Ae(e.alternate,e,Wl);e.memoizedProps=e.pendingProps,t===null?ro(e):it=t}function xh(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=_e(n,t,t.pendingProps,t.type,void 0,yt);break;case 11:t=_e(n,t,t.pendingProps,t.type.render,t.ref,yt);break;case 5:Lu(t);default:at(n,t),t=it=Rs(t,Wl),t=Ae(n,t,Wl)}e.memoizedProps=e.pendingProps,t===null?ro(e):it=t}function lf(e,t,n,a){Ja=jl=null,Lu(t),Dr=null,Ma=0;var l=t.return;try{if(Is(e,l,t,n,yt)){gn=1,ef(e,ua(n,e.current)),it=null;return}}catch(r){if(l!==null)throw it=l,r;gn=1,ef(e,ua(n,e.current)),it=null;return}t.flags&32768?(Ot||a===1?e=!0:$l||(yt&536870912)!==0?e=!1:(Rn=e=!0,(a===2||a===9||a===3||a===6)&&(a=Wn.current,a!==null&&a.tag===13&&(a.flags|=16384))),Th(t,e)):ro(t)}function ro(e){var t=e;do{if((t.flags&32768)!==0){Th(t,Rn);return}e=t.return;var n=we(t.alternate,t,Wl);if(n!==null){it=n;return}if(t=t.sibling,t!==null){it=t;return}it=t=e}while(t!==null);gn===0&&(gn=5)}function Th(e,t){do{var n=$e(e.alternate,e);if(n!==null){n.flags&=32767,it=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){it=e;return}it=e=n}while(e!==null);gn=6,it=null}function Ah(e,t,n,a,l,r,c,d,R){e.cancelPendingCommit=null;do uo();while(Nn!==0);if((Et&6)!==0)throw Error(f(327));if(t!==null){if(t===e.current)throw Error(f(177));if(r=t.lanes|t.childLanes,r|=Ei,Xo(e,n,r,c,d,R),e===Rt&&(it=Rt=null,yt=0),nf=t,Xr=e,Il=n,v0=r,y0=l,dh=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,i1(Ta,function(){return zh(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=ue.T,ue.T=null,l=ke.p,ke.p=2,c=Et,Et|=4;try{an(e,t,n)}finally{Et=c,ke.p=l,ue.T=a}}Nn=1,Oh(),Ch(),Rh()}}function Oh(){if(Nn===1){Nn=0;var e=Xr,t=nf,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=ue.T,ue.T=null;var a=ke.p;ke.p=2;var l=Et;Et|=4;try{C(t,e);var r=D0,c=_s(e.containerInfo),d=r.focusedElem,R=r.selectionRange;if(c!==d&&d&&d.ownerDocument&&_i(d.ownerDocument.documentElement,d)){if(R!==null&&Qf(d)){var K=R.start,ie=R.end;if(ie===void 0&&(ie=K),"selectionStart"in d)d.selectionStart=K,d.selectionEnd=Math.min(ie,d.value.length);else{var ye=d.ownerDocument||document,W=ye&&ye.defaultView||window;if(W.getSelection){var le=W.getSelection(),Ze=d.textContent.length,ot=Math.min(R.start,Ze),$t=R.end===void 0?ot:Math.min(R.end,Ze);!le.extend&&ot>$t&&(c=$t,$t=ot,ot=c);var X=gs(d,ot),L=gs(d,$t);if(X&&L&&(le.rangeCount!==1||le.anchorNode!==X.node||le.anchorOffset!==X.offset||le.focusNode!==L.node||le.focusOffset!==L.offset)){var Z=ye.createRange();Z.setStart(X.node,X.offset),le.removeAllRanges(),ot>$t?(le.addRange(Z),le.extend(L.node,L.offset)):(Z.setEnd(L.node,L.offset),le.addRange(Z))}}}}for(ye=[],le=d;le=le.parentNode;)le.nodeType===1&&ye.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<ye.length;d++){var me=ye[d];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}go=!!z0,D0=z0=null}finally{Et=l,ke.p=a,ue.T=n}}e.current=t,Nn=2}}function Ch(){if(Nn===2){Nn=0;var e=Xr,t=nf,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=ue.T,ue.T=null;var a=ke.p;ke.p=2;var l=Et;Et|=4;try{ga(e,t.alternate,t)}finally{Et=l,ke.p=a,ue.T=n}}Nn=3}}function Rh(){if(Nn===4||Nn===3){Nn=0,b();var e=Xr,t=nf,n=Il,a=dh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Nn=5:(Nn=0,nf=Xr=null,Mh(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(qr=null),gf(n),t=t.stateNode,Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(Pr,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=ue.T,l=ke.p,ke.p=2,ue.T=null;try{for(var r=e.onRecoverableError,c=0;c<a.length;c++){var d=a[c];r(d.value,{componentStack:d.stack})}}finally{ue.T=t,ke.p=l}}(Il&3)!==0&&uo(),_l(e),l=e.pendingLanes,(n&261930)!==0&&(l&42)!==0?e===b0?Tc++:(Tc=0,b0=e):Tc=0,Ac(0)}}function Mh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Or(t)))}function uo(){return Oh(),Ch(),Rh(),zh()}function zh(){if(Nn!==5)return!1;var e=Xr,t=v0;v0=0;var n=gf(Il),a=ue.T,l=ke.p;try{ke.p=32>n?32:n,ue.T=null,n=y0,y0=null;var r=Xr,c=Il;if(Nn=0,nf=Xr=null,Il=0,(Et&6)!==0)throw Error(f(331));var d=Et;if(Et|=4,Ve(r.current),xe(r,r.current,c,n),Et=d,Ac(0,!1),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(Pr,r)}catch{}return!0}finally{ke.p=l,ue.T=a,Mh(e,t)}}function Dh(e,t,n){t=ua(n,t),t=gc(e.stateNode,t,2),e=pa(e,t,2),e!==null&&(nu(e,2),_l(e))}function Xt(e,t,n){if(e.tag===3)Dh(e,e,n);else for(;t!==null;){if(t.tag===3){Dh(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(qr===null||!qr.has(a))){e=ua(n,e),n=_c(2),a=pa(t,n,2),a!==null&&(Sc(n,a,t,e),nu(a,2),_l(a));break}}t=t.return}}function _0(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new rl;var l=new Set;a.set(t,l)}else l=a.get(t),l===void 0&&(l=new Set,a.set(t,l));l.has(n)||(h0=!0,l.add(n),e=l1.bind(null,e,t,n),t.then(e,e))}function l1(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Rt===e&&(yt&n)===n&&(gn===4||gn===3&&(yt&62914560)===yt&&300>aa()-eo?(Et&2)===0&&af(e,0):m0|=n,tf===yt&&(tf=0)),_l(e)}function wh(e,t){t===0&&(t=Qn()),e=zl(e,t),e!==null&&(nu(e,t),_l(e))}function r1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),wh(e,n)}function u1(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(f(314))}a!==null&&a.delete(t),wh(e,n)}function i1(e,t){return tr(e,t)}var io=null,rf=null,S0=!1,fo=!1,E0=!1,Fr=0;function _l(e){e!==rf&&e.next===null&&(rf===null?io=rf=e:rf=rf.next=e),fo=!0,S0||(S0=!0,c1())}function Ac(e,t){if(!E0&&fo){E0=!0;do for(var n=!1,a=io;a!==null;){if(e!==0){var l=a.pendingLanes;if(l===0)var r=0;else{var c=a.suspendedLanes,d=a.pingedLanes;r=(1<<31-Hn(42|e)+1)-1,r&=l&~(c&~d),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,Bh(a,r))}else r=yt,r=eu(a,a===Rt?r:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(r&3)===0||tu(a,r)||(n=!0,Bh(a,r));a=a.next}while(n);E0=!1}}function f1(){Lh()}function Lh(){fo=S0=!1;var e=0;Fr!==0&&g1()&&(e=Fr);for(var t=aa(),n=null,a=io;a!==null;){var l=a.next,r=Nh(a,t);r===0?(a.next=null,n===null?io=l:n.next=l,l===null&&(rf=n)):(n=a,(e!==0||(r&3)!==0)&&(fo=!0)),a=l}Nn!==0&&Nn!==5||Ac(e),Fr!==0&&(Fr=0)}function Nh(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,l=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var c=31-Hn(r),d=1<<c,R=l[c];R===-1?((d&n)===0||(d&a)!==0)&&(l[c]=qo(d,t)):R<=t&&(e.expiredLanes|=d),r&=~d}if(t=Rt,n=yt,n=eu(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(St===2||St===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&yf(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||tu(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&yf(a),gf(n)){case 2:case 8:n=Hc;break;case 32:n=Ta;break;case 268435456:n=nr;break;default:n=Ta}return a=Gh.bind(null,e),n=tr(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&yf(a),e.callbackPriority=2,e.callbackNode=null,2}function Gh(e,t){if(Nn!==0&&Nn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(uo()&&e.callbackNode!==n)return null;var a=yt;return a=eu(e,e===Rt?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(yh(e,a,t),Nh(e,aa()),e.callbackNode!=null&&e.callbackNode===n?Gh.bind(null,e):null)}function Bh(e,t){if(uo())return null;yh(e,t,!0)}function c1(){S1(function(){(Et&6)!==0?tr(Uc,f1):Lh()})}function x0(){if(Fr===0){var e=Cr;e===0&&(e=Wu,Wu<<=1,(Wu&261888)===0&&(Wu=256)),Fr=e}return Fr}function jh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ii(""+e)}function Uh(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function s1(e,t,n,a,l){if(t==="submit"&&n&&n.stateNode===l){var r=jh((l[Zn]||null).action),c=a.submitter;c&&(t=(t=c[Zn]||null)?jh(t.formAction):c.getAttribute("formAction"),t!==null&&(r=t,c=null));var d=new El("action","action",null,a,l);e.push({event:d,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Fr!==0){var R=c?Uh(l,c):new FormData(l);Wi(n,{pending:!0,data:R,method:l.method,action:r},null,R)}}else typeof r=="function"&&(d.preventDefault(),R=c?Uh(l,c):new FormData(l),Wi(n,{pending:!0,data:R,method:l.method,action:r},r,R))},currentTarget:l}]})}}for(var T0=0;T0<Er.length;T0++){var A0=Er[T0],o1=A0.toLowerCase(),h1=A0[0].toUpperCase()+A0.slice(1);ln(o1,"on"+h1)}ln(Es,"onAnimationEnd"),ln(xs,"onAnimationIteration"),ln(Ts,"onAnimationStart"),ln("dblclick","onDoubleClick"),ln("focusin","onFocus"),ln("focusout","onBlur"),ln(l0,"onTransitionRun"),ln(r0,"onTransitionStart"),ln(As,"onTransitionCancel"),ln(Sr,"onTransitionEnd"),ir("onMouseEnter",["mouseout","mouseover"]),ir("onMouseLeave",["mouseout","mouseover"]),ir("onPointerEnter",["pointerout","pointerover"]),ir("onPointerLeave",["pointerout","pointerover"]),Sl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Oc));function Hh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],l=a.event;a=a.listeners;e:{var r=void 0;if(t)for(var c=a.length-1;0<=c;c--){var d=a[c],R=d.instance,K=d.currentTarget;if(d=d.listener,R!==r&&l.isPropagationStopped())break e;r=d,l.currentTarget=K;try{r(l)}catch(ie){Za(ie)}l.currentTarget=null,r=R}else for(c=0;c<a.length;c++){if(d=a[c],R=d.instance,K=d.currentTarget,d=d.listener,R!==r&&l.isPropagationStopped())break e;r=d,l.currentTarget=K;try{r(l)}catch(ie){Za(ie)}l.currentTarget=null,r=R}}}}function Mt(e,t){var n=t[Ef];n===void 0&&(n=t[Ef]=new Set);var a=e+"__bubble";n.has(a)||(Vh(t,e,2,!1),n.add(a))}function O0(e,t,n){var a=0;t&&(a|=4),Vh(n,e,a,t)}var co="_reactListening"+Math.random().toString(36).slice(2);function C0(e){if(!e[co]){e[co]=!0,Zc.forEach(function(n){n!=="selectionchange"&&(m1.has(n)||O0(n,!1,e),O0(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[co]||(t[co]=!0,O0("selectionchange",!1,t))}}function Vh(e,t,n,a){switch(vm(t)){case 2:var l=k1;break;case 8:l=q1;break;default:l=q0}n=l.bind(null,t,n,e),l=void 0,!Ya||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),a?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function R0(e,t,n,a,l){var r=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var c=a.tag;if(c===3||c===4){var d=a.stateNode.containerInfo;if(d===l)break;if(c===4)for(c=a.return;c!==null;){var R=c.tag;if((R===3||R===4)&&c.stateNode.containerInfo===l)return;c=c.return}for(;d!==null;){if(c=lr(d),c===null)return;if(R=c.tag,R===5||R===6||R===26||R===27){a=r=c;continue e}d=d.parentNode}}a=a.return}rs(function(){var K=r,ie=Of(n),ye=[];e:{var W=Os.get(e);if(W!==void 0){var le=El,Ze=e;switch(e){case"keypress":if(su(n)===0)break e;case"keydown":case"keyup":le=ss;break;case"focusin":Ze="focus",le=Df;break;case"focusout":Ze="blur",le=Df;break;case"beforeblur":case"afterblur":le=Df;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=is;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Jo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=en;break;case Es:case xs:case Ts:le=hu;break;case Sr:le=t0;break;case"scroll":case"scrollend":le=us;break;case"wheel":le=Nf;break;case"copy":case"cut":case"paste":le=dr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=os;break;case"toggle":case"beforetoggle":le=Al}var ot=(t&4)!==0,$t=!ot&&(e==="scroll"||e==="scrollend"),X=ot?W!==null?W+"Capture":null:W;ot=[];for(var L=K,Z;L!==null;){var me=L;if(Z=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||Z===null||X===null||(me=fu(L,X),me!=null&&ot.push(Cc(L,me,Z))),$t)break;L=L.return}0<ot.length&&(W=new le(W,Ze,null,n,ie),ye.push({event:W,listeners:ot}))}}if((t&7)===0){e:{if(W=e==="mouseover"||e==="pointerover",le=e==="mouseout"||e==="pointerout",W&&n!==iu&&(Ze=n.relatedTarget||n.fromElement)&&(lr(Ze)||Ze[ar]))break e;if((le||W)&&(W=ie.window===ie?ie:(W=ie.ownerDocument)?W.defaultView||W.parentWindow:window,le?(Ze=n.relatedTarget||n.toElement,le=K,Ze=Ze?lr(Ze):null,Ze!==null&&($t=E(Ze),ot=Ze.tag,Ze!==$t||ot!==5&&ot!==27&&ot!==6)&&(Ze=null)):(le=null,Ze=K),le!==Ze)){if(ot=is,me="onMouseLeave",X="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(ot=os,me="onPointerLeave",X="onPointerEnter",L="pointer"),$t=le==null?W:lu(le),Z=Ze==null?W:lu(Ze),W=new ot(me,L+"leave",le,n,ie),W.target=$t,W.relatedTarget=Z,me=null,lr(ie)===K&&(ot=new ot(X,L+"enter",Ze,n,ie),ot.target=Z,ot.relatedTarget=$t,me=ot),$t=me,le&&Ze)t:{for(ot=d1,X=le,L=Ze,Z=0,me=X;me;me=ot(me))Z++;me=0;for(var rt=L;rt;rt=ot(rt))me++;for(;0<Z-me;)X=ot(X),Z--;for(;0<me-Z;)L=ot(L),me--;for(;Z--;){if(X===L||L!==null&&X===L.alternate){ot=X;break t}X=ot(X),L=ot(L)}ot=null}else ot=null;le!==null&&kh(ye,W,le,ot,!1),Ze!==null&&$t!==null&&kh(ye,$t,Ze,ot,!0)}}e:{if(W=K?lu(K):window,le=W.nodeName&&W.nodeName.toLowerCase(),le==="select"||le==="input"&&W.type==="file")var Ht=bi;else if(vi(W))if(Vf)Ht=Yf;else{Ht=bs;var Ie=ys}else le=W.nodeName,!le||le.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?K&&Af(K.elementType)&&(Ht=bi):Ht=pr;if(Ht&&(Ht=Ht(e,K))){yi(ye,Ht,n,ie);break e}Ie&&Ie(e,W,K),e==="focusout"&&K&&W.type==="number"&&K.memoizedProps.value!=null&&Tf(W,"number",W.value)}switch(Ie=K?lu(K):window,e){case"focusin":(vi(Ie)||Ie.contentEditable==="true")&&(sl=Ie,Zf=K,Cl=null);break;case"focusout":Cl=Zf=sl=null;break;case"mousedown":Si=!0;break;case"contextmenu":case"mouseup":case"dragend":Si=!1,Kf(ye,n,ie);break;case"selectionchange":if(a0)break;case"keydown":case"keyup":Kf(ye,n,ie)}var xt;if(vr)e:{switch(e){case"compositionstart":var Dt="onCompositionStart";break e;case"compositionend":Dt="onCompositionEnd";break e;case"compositionupdate":Dt="onCompositionUpdate";break e}Dt=void 0}else yr?ds(e,n)&&(Dt="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Dt="onCompositionStart");Dt&&(Bf&&n.locale!=="ko"&&(yr||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&yr&&(xt=Rf()):(fl=ie,or="value"in fl?fl.value:fl.textContent,yr=!0)),Ie=so(K,Dt),0<Ie.length&&(Dt=new xl(Dt,e,null,n,ie),ye.push({event:Dt,listeners:Ie}),xt?Dt.data=xt:(xt=vs(n),xt!==null&&(Dt.data=xt)))),(xt=hi?n0(e,n):Uf(e,n))&&(Dt=so(K,"onBeforeInput"),0<Dt.length&&(Ie=new xl("onBeforeInput","beforeinput",null,n,ie),ye.push({event:Ie,listeners:Dt}),Ie.data=xt)),s1(ye,e,K,n,ie)}Hh(ye,t)})}function Cc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function so(e,t){for(var n=t+"Capture",a=[];e!==null;){var l=e,r=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||r===null||(l=fu(e,n),l!=null&&a.unshift(Cc(e,l,r)),l=fu(e,t),l!=null&&a.push(Cc(e,l,r))),e.tag===3)return a;e=e.return}return[]}function d1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function kh(e,t,n,a,l){for(var r=t._reactName,c=[];n!==null&&n!==a;){var d=n,R=d.alternate,K=d.stateNode;if(d=d.tag,R!==null&&R===a)break;d!==5&&d!==26&&d!==27||K===null||(R=K,l?(K=fu(n,r),K!=null&&c.unshift(Cc(n,K,R))):l||(K=fu(n,r),K!=null&&c.push(Cc(n,K,R)))),n=n.return}c.length!==0&&e.push({event:t,listeners:c})}var v1=/\r\n?/g,y1=/\u0000|\uFFFD/g;function qh(e){return(typeof e=="string"?e:""+e).replace(v1,`
`).replace(y1,"")}function Xh(e,t){return t=qh(t),qh(e)===t}function Jt(e,t,n,a,l,r){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Bn(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Bn(e,""+a);break;case"className":ti(e,"class",a);break;case"tabIndex":ti(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(e,n,a);break;case"style":ts(e,a,r);break;case"data":if(t!=="object"){ti(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=ii(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&Jt(e,t,"name",l.name,l,null),Jt(e,t,"formEncType",l.formEncType,l,null),Jt(e,t,"formMethod",l.formMethod,l,null),Jt(e,t,"formTarget",l.formTarget,l,null)):(Jt(e,t,"encType",l.encType,l,null),Jt(e,t,"method",l.method,l,null),Jt(e,t,"target",l.target,l,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=ii(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=qa);break;case"onScroll":a!=null&&Mt("scroll",e);break;case"onScrollEnd":a!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(f(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(f(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=ii(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),ei(e,"popover",a);break;case"xlinkActuate":ka(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":ka(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":ka(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":ka(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":ka(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":ka(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":ka(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":ka(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":ka(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":ei(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=ns.get(n)||n,ei(e,n,a))}}function M0(e,t,n,a,l,r){switch(n){case"style":ts(e,a,r);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(f(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(f(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Bn(e,a):(typeof a=="number"||typeof a=="bigint")&&Bn(e,""+a);break;case"onScroll":a!=null&&Mt("scroll",e);break;case"onScrollEnd":a!=null&&Mt("scrollend",e);break;case"onClick":a!=null&&(e.onclick=qa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kc.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),t=n.slice(2,l?n.length-7:void 0),r=e[Zn]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,l),typeof a=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,l);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):ei(e,n,a)}}}function qn(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var a=!1,l=!1,r;for(r in n)if(n.hasOwnProperty(r)){var c=n[r];if(c!=null)switch(r){case"src":a=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(f(137,t));default:Jt(e,t,r,c,n,null)}}l&&Jt(e,t,"srcSet",n.srcSet,n,null),a&&Jt(e,t,"src",n.src,n,null);return;case"input":Mt("invalid",e);var d=r=c=l=null,R=null,K=null;for(a in n)if(n.hasOwnProperty(a)){var ie=n[a];if(ie!=null)switch(a){case"name":l=ie;break;case"type":c=ie;break;case"checked":R=ie;break;case"defaultChecked":K=ie;break;case"value":r=ie;break;case"defaultValue":d=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(f(137,t));break;default:Jt(e,t,a,ie,n,null)}}ui(e,r,d,R,K,c,l,!1);return;case"select":Mt("invalid",e),a=c=r=null;for(l in n)if(n.hasOwnProperty(l)&&(d=n[l],d!=null))switch(l){case"value":r=d;break;case"defaultValue":c=d;break;case"multiple":a=d;default:Jt(e,t,l,d,n,null)}t=r,n=c,e.multiple=!!a,t!=null?fr(e,!!a,t,!1):n!=null&&fr(e,!!a,n,!0);return;case"textarea":Mt("invalid",e),r=l=a=null;for(c in n)if(n.hasOwnProperty(c)&&(d=n[c],d!=null))switch(c){case"value":a=d;break;case"defaultValue":l=d;break;case"children":r=d;break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(f(91));break;default:Jt(e,t,c,d,n,null)}es(e,a,l,r);return;case"option":for(R in n)n.hasOwnProperty(R)&&(a=n[R],a!=null)&&(R==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":Jt(e,t,R,a,n,null));return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(a=0;a<Oc.length;a++)Mt(Oc[a],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in n)if(n.hasOwnProperty(K)&&(a=n[K],a!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(f(137,t));default:Jt(e,t,K,a,n,null)}return;default:if(Af(t)){for(ie in n)n.hasOwnProperty(ie)&&(a=n[ie],a!==void 0&&M0(e,t,ie,a,n,void 0));return}}for(d in n)n.hasOwnProperty(d)&&(a=n[d],a!=null&&Jt(e,t,d,a,n,null))}function b1(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,r=null,c=null,d=null,R=null,K=null,ie=null;for(le in n){var ye=n[le];if(n.hasOwnProperty(le)&&ye!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":R=ye;default:a.hasOwnProperty(le)||Jt(e,t,le,null,a,ye)}}for(var W in a){var le=a[W];if(ye=n[W],a.hasOwnProperty(W)&&(le!=null||ye!=null))switch(W){case"type":r=le;break;case"name":l=le;break;case"checked":K=le;break;case"defaultChecked":ie=le;break;case"value":c=le;break;case"defaultValue":d=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(f(137,t));break;default:le!==ye&&Jt(e,t,W,le,a,ye)}}ri(e,c,d,R,K,ie,r,l);return;case"select":le=c=d=W=null;for(r in n)if(R=n[r],n.hasOwnProperty(r)&&R!=null)switch(r){case"value":break;case"multiple":le=R;default:a.hasOwnProperty(r)||Jt(e,t,r,null,a,R)}for(l in a)if(r=a[l],R=n[l],a.hasOwnProperty(l)&&(r!=null||R!=null))switch(l){case"value":W=r;break;case"defaultValue":d=r;break;case"multiple":c=r;default:r!==R&&Jt(e,t,l,r,a,R)}t=d,n=c,a=le,W!=null?fr(e,!!n,W,!1):!!a!=!!n&&(t!=null?fr(e,!!n,t,!0):fr(e,!!n,n?[]:"",!1));return;case"textarea":le=W=null;for(d in n)if(l=n[d],n.hasOwnProperty(d)&&l!=null&&!a.hasOwnProperty(d))switch(d){case"value":break;case"children":break;default:Jt(e,t,d,null,a,l)}for(c in a)if(l=a[c],r=n[c],a.hasOwnProperty(c)&&(l!=null||r!=null))switch(c){case"value":W=l;break;case"defaultValue":le=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(f(91));break;default:l!==r&&Jt(e,t,c,l,a,r)}Pc(e,W,le);return;case"option":for(var Ze in n)W=n[Ze],n.hasOwnProperty(Ze)&&W!=null&&!a.hasOwnProperty(Ze)&&(Ze==="selected"?e.selected=!1:Jt(e,t,Ze,null,a,W));for(R in a)W=a[R],le=n[R],a.hasOwnProperty(R)&&W!==le&&(W!=null||le!=null)&&(R==="selected"?e.selected=W&&typeof W!="function"&&typeof W!="symbol":Jt(e,t,R,W,a,le));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in n)W=n[ot],n.hasOwnProperty(ot)&&W!=null&&!a.hasOwnProperty(ot)&&Jt(e,t,ot,null,a,W);for(K in a)if(W=a[K],le=n[K],a.hasOwnProperty(K)&&W!==le&&(W!=null||le!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(f(137,t));break;default:Jt(e,t,K,W,a,le)}return;default:if(Af(t)){for(var $t in n)W=n[$t],n.hasOwnProperty($t)&&W!==void 0&&!a.hasOwnProperty($t)&&M0(e,t,$t,void 0,a,W);for(ie in a)W=a[ie],le=n[ie],!a.hasOwnProperty(ie)||W===le||W===void 0&&le===void 0||M0(e,t,ie,W,a,le);return}}for(var X in n)W=n[X],n.hasOwnProperty(X)&&W!=null&&!a.hasOwnProperty(X)&&Jt(e,t,X,null,a,W);for(ye in a)W=a[ye],le=n[ye],!a.hasOwnProperty(ye)||W===le||W==null&&le==null||Jt(e,t,ye,W,a,le)}function Yh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function p1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var l=n[a],r=l.transferSize,c=l.initiatorType,d=l.duration;if(r&&d&&Yh(c)){for(c=0,d=l.responseEnd,a+=1;a<n.length;a++){var R=n[a],K=R.startTime;if(K>d)break;var ie=R.transferSize,ye=R.initiatorType;ie&&Yh(ye)&&(R=R.responseEnd,c+=ie*(R<d?1:(d-K)/(R-K)))}if(--a,t+=8*(r+c)/(l.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var z0=null,D0=null;function oo(e){return e.nodeType===9?e:e.ownerDocument}function Fh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function w0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var L0=null;function g1(){var e=window.event;return e&&e.type==="popstate"?e===L0?!1:(L0=e,!0):(L0=null,!1)}var Zh=typeof setTimeout=="function"?setTimeout:void 0,_1=typeof clearTimeout=="function"?clearTimeout:void 0,Kh=typeof Promise=="function"?Promise:void 0,S1=typeof queueMicrotask=="function"?queueMicrotask:typeof Kh<"u"?function(e){return Kh.resolve(null).then(e).catch(E1)}:Zh;function E1(e){setTimeout(function(){throw e})}function Qr(e){return e==="head"}function Jh(e,t){var n=t,a=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(l),sf(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Rc(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Rc(n);for(var r=n.firstChild;r;){var c=r.nextSibling,d=r.nodeName;r[au]||d==="SCRIPT"||d==="STYLE"||d==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=c}}else n==="body"&&Rc(e.ownerDocument.body);n=l}while(n);sf(t)}function $h(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function N0(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":N0(n),xf(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function x1(e,t,n,a){for(;e.nodeType===1;){var l=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[au])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=Ua(e.nextSibling),e===null)break}return null}function T1(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ua(e.nextSibling),e===null))return null;return e}function Wh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ua(e.nextSibling),e===null))return null;return e}function G0(e){return e.data==="$?"||e.data==="$~"}function B0(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function A1(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Ua(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var j0=null;function Ih(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Ua(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Ph(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function em(e,t,n){switch(t=oo(n),e){case"html":if(e=t.documentElement,!e)throw Error(f(452));return e;case"head":if(e=t.head,!e)throw Error(f(453));return e;case"body":if(e=t.body,!e)throw Error(f(454));return e;default:throw Error(f(451))}}function Rc(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);xf(e)}var Ha=new Map,tm=new Set;function ho(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Pl=ke.d;ke.d={f:O1,r:C1,D:R1,C:M1,L:z1,m:D1,X:L1,S:w1,M:N1};function O1(){var e=Pl.f(),t=ao();return e||t}function C1(e){var t=rr(e);t!==null&&t.tag===5&&t.type==="form"?mc(t):Pl.r(e)}var uf=typeof document>"u"?null:document;function nm(e,t,n){var a=uf;if(a&&typeof t=="string"&&t){var l=Kn(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),tm.has(l)||(tm.add(l),e={rel:e,crossOrigin:n,href:t},a.querySelector(l)===null&&(t=a.createElement("link"),qn(t,"link",e),An(t),a.head.appendChild(t)))}}function R1(e){Pl.D(e),nm("dns-prefetch",e,null)}function M1(e,t){Pl.C(e,t),nm("preconnect",e,t)}function z1(e,t,n){Pl.L(e,t,n);var a=uf;if(a&&e&&t){var l='link[rel="preload"][as="'+Kn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+Kn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+Kn(n.imageSizes)+'"]')):l+='[href="'+Kn(e)+'"]';var r=l;switch(t){case"style":r=ff(e);break;case"script":r=cf(e)}Ha.has(r)||(e=I({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ha.set(r,e),a.querySelector(l)!==null||t==="style"&&a.querySelector(Mc(r))||t==="script"&&a.querySelector(zc(r))||(t=a.createElement("link"),qn(t,"link",e),An(t),a.head.appendChild(t)))}}function D1(e,t){Pl.m(e,t);var n=uf;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+Kn(a)+'"][href="'+Kn(e)+'"]',r=l;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=cf(e)}if(!Ha.has(r)&&(e=I({rel:"modulepreload",href:e},t),Ha.set(r,e),n.querySelector(l)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(zc(r)))return}a=n.createElement("link"),qn(a,"link",e),An(a),n.head.appendChild(a)}}}function w1(e,t,n){Pl.S(e,t,n);var a=uf;if(a&&e){var l=ur(a).hoistableStyles,r=ff(e);t=t||"default";var c=l.get(r);if(!c){var d={loading:0,preload:null};if(c=a.querySelector(Mc(r)))d.loading=5;else{e=I({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ha.get(r))&&U0(e,n);var R=c=a.createElement("link");An(R),qn(R,"link",e),R._p=new Promise(function(K,ie){R.onload=K,R.onerror=ie}),R.addEventListener("load",function(){d.loading|=1}),R.addEventListener("error",function(){d.loading|=2}),d.loading|=4,mo(c,t,a)}c={type:"stylesheet",instance:c,count:1,state:d},l.set(r,c)}}}function L1(e,t){Pl.X(e,t);var n=uf;if(n&&e){var a=ur(n).hoistableScripts,l=cf(e),r=a.get(l);r||(r=n.querySelector(zc(l)),r||(e=I({src:e,async:!0},t),(t=Ha.get(l))&&H0(e,t),r=n.createElement("script"),An(r),qn(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(l,r))}}function N1(e,t){Pl.M(e,t);var n=uf;if(n&&e){var a=ur(n).hoistableScripts,l=cf(e),r=a.get(l);r||(r=n.querySelector(zc(l)),r||(e=I({src:e,async:!0,type:"module"},t),(t=Ha.get(l))&&H0(e,t),r=n.createElement("script"),An(r),qn(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(l,r))}}function am(e,t,n,a){var l=(l=Tt.current)?ho(l):null;if(!l)throw Error(f(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ff(n.href),n=ur(l).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ff(n.href);var r=ur(l).hoistableStyles,c=r.get(e);if(c||(l=l.ownerDocument||l,c={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,c),(r=l.querySelector(Mc(e)))&&!r._p&&(c.instance=r,c.state.loading=5),Ha.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ha.set(e,n),r||G1(l,e,n,c.state))),t&&a===null)throw Error(f(528,""));return c}if(t&&a!==null)throw Error(f(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=cf(n),n=ur(l).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(f(444,e))}}function ff(e){return'href="'+Kn(e)+'"'}function Mc(e){return'link[rel="stylesheet"]['+e+"]"}function lm(e){return I({},e,{"data-precedence":e.precedence,precedence:null})}function G1(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),qn(t,"link",n),An(t),e.head.appendChild(t))}function cf(e){return'[src="'+Kn(e)+'"]'}function zc(e){return"script[async]"+e}function rm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Kn(n.href)+'"]');if(a)return t.instance=a,An(a),a;var l=I({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),An(a),qn(a,"style",l),mo(a,n.precedence,e),t.instance=a;case"stylesheet":l=ff(n.href);var r=e.querySelector(Mc(l));if(r)return t.state.loading|=4,t.instance=r,An(r),r;a=lm(n),(l=Ha.get(l))&&U0(a,l),r=(e.ownerDocument||e).createElement("link"),An(r);var c=r;return c._p=new Promise(function(d,R){c.onload=d,c.onerror=R}),qn(r,"link",a),t.state.loading|=4,mo(r,n.precedence,e),t.instance=r;case"script":return r=cf(n.src),(l=e.querySelector(zc(r)))?(t.instance=l,An(l),l):(a=n,(l=Ha.get(r))&&(a=I({},n),H0(a,l)),e=e.ownerDocument||e,l=e.createElement("script"),An(l),qn(l,"link",a),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(f(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,mo(a,n.precedence,e));return t.instance}function mo(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=a.length?a[a.length-1]:null,r=l,c=0;c<a.length;c++){var d=a[c];if(d.dataset.precedence===t)r=d;else if(r!==l)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function U0(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function H0(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var vo=null;function um(e,t,n){if(vo===null){var a=new Map,l=vo=new Map;l.set(n,a)}else l=vo,a=l.get(n),a||(a=new Map,l.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),l=0;l<n.length;l++){var r=n[l];if(!(r[au]||r[Dn]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var c=r.getAttribute(t)||"";c=e+c;var d=a.get(c);d?d.push(r):a.set(c,[r])}}return a}function im(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function B1(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function fm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function j1(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var l=ff(a.href),r=t.querySelector(Mc(l));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=yo.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,An(r);return}r=t.ownerDocument||t,a=lm(a),(l=Ha.get(l))&&U0(a,l),r=r.createElement("link"),An(r);var c=r;c._p=new Promise(function(d,R){c.onload=d,c.onerror=R}),qn(r,"link",a),n.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=yo.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var V0=0;function U1(e,t){return e.stylesheets&&e.count===0&&po(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&po(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&V0===0&&(V0=62500*p1());var l=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&po(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>V0?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(l)}}:null}function yo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)po(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var bo=null;function po(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,bo=new Map,t.forEach(H1,e),bo=null,yo.call(e))}function H1(e,t){if(!(t.state.loading&4)){var n=bo.get(e);if(n)var a=n.get(null);else{n=new Map,bo.set(e,n);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<l.length;r++){var c=l[r];(c.nodeName==="LINK"||c.getAttribute("media")!=="not all")&&(n.set(c.dataset.precedence,c),a=c)}a&&n.set(null,a)}l=t.instance,c=l.getAttribute("data-precedence"),r=n.get(c)||a,r===a&&n.set(null,l),n.set(c,l),this.count++,a=yo.bind(this),l.addEventListener("load",a),l.addEventListener("error",a),r?r.parentNode.insertBefore(l,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var Dc={$$typeof:We,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function V1(e,t,n,a,l,r,c,d,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bf(0),this.hiddenUpdates=bf(null),this.identifierPrefix=a,this.onUncaughtError=l,this.onCaughtError=r,this.onRecoverableError=c,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function cm(e,t,n,a,l,r,c,d,R,K,ie,ye){return e=new V1(e,t,n,c,R,K,ie,ye,d),t=1,r===!0&&(t|=24),r=Sn(3,null,null,t),e.current=r,r.stateNode=e,t=nc(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:a,isDehydrated:n,cache:t},Au(r),e}function sm(e){return e?(e=wl,e):wl}function om(e,t,n,a,l,r){l=sm(l),a.context===null?a.context=l:a.pendingContext=l,a=Da(t),a.payload={element:n},r=r===void 0?null:r,r!==null&&(a.callback=r),n=pa(e,a,t),n!==null&&(da(n,e,t),wr(n,e,t))}function hm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function k0(e,t){hm(e,t),(e=e.alternate)&&hm(e,t)}function mm(e){if(e.tag===13||e.tag===31){var t=zl(e,67108864);t!==null&&da(t,e,67108864),k0(e,67108864)}}function dm(e){if(e.tag===13||e.tag===31){var t=Sa();t=pf(t);var n=zl(e,t);n!==null&&da(n,e,t),k0(e,t)}}var go=!0;function k1(e,t,n,a){var l=ue.T;ue.T=null;var r=ke.p;try{ke.p=2,q0(e,t,n,a)}finally{ke.p=r,ue.T=l}}function q1(e,t,n,a){var l=ue.T;ue.T=null;var r=ke.p;try{ke.p=8,q0(e,t,n,a)}finally{ke.p=r,ue.T=l}}function q0(e,t,n,a){if(go){var l=X0(a);if(l===null)R0(e,t,a,_o,n),ym(e,a);else if(Y1(l,e,t,n,a))a.stopPropagation();else if(ym(e,a),t&4&&-1<X1.indexOf(e)){for(;l!==null;){var r=rr(l);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var c=il(r.pendingLanes);if(c!==0){var d=r;for(d.pendingLanes|=2,d.entangledLanes|=2;c;){var R=1<<31-Hn(c);d.entanglements[1]|=R,c&=~R}_l(r),(Et&6)===0&&(to=aa()+500,Ac(0))}}break;case 31:case 13:d=zl(r,2),d!==null&&da(d,r,2),ao(),k0(r,2)}if(r=X0(a),r===null&&R0(e,t,a,_o,n),r===l)break;l=r}l!==null&&a.stopPropagation()}else R0(e,t,a,null,n)}}function X0(e){return e=Of(e),Y0(e)}var _o=null;function Y0(e){if(_o=null,e=lr(e),e!==null){var t=E(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=O(t),e!==null)return e;e=null}else if(n===31){if(e=U(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return _o=e,null}function vm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Uo()){case Uc:return 2;case Hc:return 8;case Ta:case Vc:return 32;case nr:return 268435456;default:return 32}default:return 32}}var F0=!1,Zr=null,Kr=null,Jr=null,wc=new Map,Lc=new Map,$r=[],X1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ym(e,t){switch(e){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":wc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lc.delete(t.pointerId)}}function Nc(e,t,n,a,l,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:r,targetContainers:[l]},t!==null&&(t=rr(t),t!==null&&mm(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Y1(e,t,n,a,l){switch(t){case"focusin":return Zr=Nc(Zr,e,t,n,a,l),!0;case"dragenter":return Kr=Nc(Kr,e,t,n,a,l),!0;case"mouseover":return Jr=Nc(Jr,e,t,n,a,l),!0;case"pointerover":var r=l.pointerId;return wc.set(r,Nc(wc.get(r)||null,e,t,n,a,l)),!0;case"gotpointercapture":return r=l.pointerId,Lc.set(r,Nc(Lc.get(r)||null,e,t,n,a,l)),!0}return!1}function bm(e){var t=lr(e.target);if(t!==null){var n=E(t);if(n!==null){if(t=n.tag,t===13){if(t=O(n),t!==null){e.blockedOn=t,Sf(e.priority,function(){dm(n)});return}}else if(t===31){if(t=U(n),t!==null){e.blockedOn=t,Sf(e.priority,function(){dm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function So(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=X0(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);iu=a,n.target.dispatchEvent(a),iu=null}else return t=rr(n),t!==null&&mm(t),e.blockedOn=n,!1;t.shift()}return!0}function pm(e,t,n){So(e)&&n.delete(t)}function F1(){F0=!1,Zr!==null&&So(Zr)&&(Zr=null),Kr!==null&&So(Kr)&&(Kr=null),Jr!==null&&So(Jr)&&(Jr=null),wc.forEach(pm),Lc.forEach(pm)}function Eo(e,t){e.blockedOn===t&&(e.blockedOn=null,F0||(F0=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,F1)))}var xo=null;function gm(e){xo!==e&&(xo=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){xo===e&&(xo=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],l=e[t+2];if(typeof a!="function"){if(Y0(a||n)===null)continue;break}var r=rr(n);r!==null&&(e.splice(t,3),t-=3,Wi(r,{pending:!0,data:l,method:n.method,action:a},a,l))}}))}function sf(e){function t(R){return Eo(R,e)}Zr!==null&&Eo(Zr,e),Kr!==null&&Eo(Kr,e),Jr!==null&&Eo(Jr,e),wc.forEach(t),Lc.forEach(t);for(var n=0;n<$r.length;n++){var a=$r[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<$r.length&&(n=$r[0],n.blockedOn===null);)bm(n),n.blockedOn===null&&$r.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var l=n[a],r=n[a+1],c=l[Zn]||null;if(typeof r=="function")c||gm(n);else if(c){var d=null;if(r&&r.hasAttribute("formAction")){if(l=r,c=r[Zn]||null)d=c.formAction;else if(Y0(l)!==null)continue}else d=c.action;typeof d=="function"?n[a+1]=d:(n.splice(a,3),a-=3),gm(n)}}}function _m(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(c){return l=c})},focusReset:"manual",scroll:"manual"})}function t(){l!==null&&(l(),l=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,l=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),l!==null&&(l(),l=null)}}}function Q0(e){this._internalRoot=e}To.prototype.render=Q0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(f(409));var n=t.current,a=Sa();om(n,a,e,t,null,null)},To.prototype.unmount=Q0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;om(e.current,2,null,e,null,null),ao(),t[ar]=null}};function To(e){this._internalRoot=e}To.prototype.unstable_scheduleHydration=function(e){if(e){var t=_f();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$r.length&&t!==0&&t<$r[n].priority;n++);$r.splice(n,0,e),n===0&&bm(e)}};var Sm=s.version;if(Sm!=="19.2.3")throw Error(f(527,Sm,"19.2.3"));ke.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(f(188)):(e=Object.keys(e).join(","),Error(f(268,e)));return e=N(t),e=e!==null?$(e):null,e=e===null?null:e.stateNode,e};var Q1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ue,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ao.isDisabled&&Ao.supportsFiber)try{Pr=Ao.inject(Q1),Fn=Ao}catch{}}return Bc.createRoot=function(e,t){if(!h(e))throw Error(f(299));var n=!1,a="",l=pc,r=Js,c=$s;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=cm(e,1,!1,null,null,n,a,null,l,r,c,_m),e[ar]=t.current,C0(e),new Q0(t)},Bc.hydrateRoot=function(e,t,n){if(!h(e))throw Error(f(299));var a=!1,l="",r=pc,c=Js,d=$s,R=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(c=n.onCaughtError),n.onRecoverableError!==void 0&&(d=n.onRecoverableError),n.formState!==void 0&&(R=n.formState)),t=cm(e,1,!0,t,n??null,a,l,R,r,c,d,_m),t.context=sm(null),n=t.current,a=Sa(),a=pf(a),l=Da(a),l.callback=null,pa(n,l,a),n=a,t.current.lanes=n,nu(t,n),_l(t),e[ar]=t.current,C0(e),new To(t)},Bc.version="19.2.3",Bc}var Bm;function dv(){if(Bm)return $0.exports;Bm=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(s){console.error(s)}}return u(),$0.exports=mv(),$0.exports}var vv=dv();const Pm=document.getElementById("root");if(!Pm)throw new Error("could not find root node");vv.createRoot(Pm).render(w.jsx(P.StrictMode,{children:w.jsx(xd,{children:w.jsx(Ld,{children:w.jsx(kd,{children:w.jsx(Zd,{children:w.jsx(_d,{children:w.jsx(sv,{})})})})})})}));
